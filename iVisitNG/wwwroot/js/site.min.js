if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var o=!1,n=this;t(this).one("bsTransitionEnd",function(){o=!0});return setTimeout(function(){o||t(n).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var o in e)if(void 0!==t.style[o])return{end:e[o]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',o=function(o){t(o).on("click",e,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(e){var n=t(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t("#"===i?[]:i);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s());function s(){r.detach().trigger("closed.bs.alert").remove()}};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new o(this)),"string"==typeof e&&i[e].call(n)})},t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,o.prototype.close)}(jQuery),function(t){"use strict";var e=function(o,n){this.$element=t(o),this.options=t.extend({},e.DEFAULTS,n),this.isLoading=!1};e.VERSION="3.3.7",e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var o="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(t.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(o).attr(o,o).prop(o,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(o).removeAttr(o).prop(o,!1))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var o=this.$element.find("input");"radio"==o.prop("type")?(o.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==o.prop("type")&&(o.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),o.prop("checked",this.$element.hasClass("active")),t&&o.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};function o(o){return this.each(function(){var n=t(this),i=n.data("bs.button"),r="object"==typeof o&&o;i||n.data("bs.button",i=new e(this,r)),"toggle"==o?i.toggle():o&&i.setState(o)})}var n=t.fn.button;t.fn.button=o,t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var n=t(e.target).closest(".btn");o.call(n,"toggle"),t(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";var e=function(e,o){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=o,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};e.VERSION="3.3.7",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var o=this.getItemIndex(e);if(("prev"==t&&0===o||"next"==t&&o==this.$items.length-1)&&!this.options.wrap)return e;var n=(o+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(n)},e.prototype.to=function(t){var e=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):o==t?this.pause().cycle():this.slide(t>o?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(o,n){var i=this.$element.find(".item.active"),r=n||this.getItemForDirection(o,i),s=this.interval,a="next"==o?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(o),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",function(){r.removeClass([o,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};function o(o){return this.each(function(){var n=t(this),i=n.data("bs.carousel"),r=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o),s="string"==typeof o?o:r.slide;i||n.data("bs.carousel",i=new e(this,r)),"number"==typeof o?i.to(o):s?i[s]():r.interval&&i.pause().cycle()})}var n=t.fn.carousel;t.fn.carousel=o,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var i=function(e){var n,i=t(this),r=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),o.call(r,s),a&&r.data("bs.carousel").to(a),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);o.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(o,n){this.$element=t(o),this.options=t.extend({},e.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};e.VERSION="3.3.7",e.TRANSITION_DURATION=350,e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var o,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(o=i.data("bs.collapse"))&&o.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),o||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[s](this.$element[0][l])}}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var o=t.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(e.TRANSITION_DURATION)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},e.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,n){var i=t(n);this.addAriaAndCollapsedClass(o(i),i)},this)).end()},e.prototype.addAriaAndCollapsedClass=function(t,e){var o=t.hasClass("in");t.attr("aria-expanded",o),e.toggleClass("collapsed",!o).attr("aria-expanded",o)};function o(e){var o,n=e.attr("data-target")||(o=e.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function n(o){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),r=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o);!i&&r.toggle&&/show|hide/.test(o)&&(r.toggle=!1),i||n.data("bs.collapse",i=new e(this,r)),"string"==typeof o&&i[o]()})}var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var i=t(this);i.attr("data-target")||e.preventDefault();var r=o(i),s=r.data("bs.collapse")?"toggle":i.data();n.call(r,s)})}(jQuery),function(t){"use strict";var e=".dropdown-backdrop",o='[data-toggle="dropdown"]',n=function(e){t(e).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.7";function i(e){var o=e.attr("data-target");o||(o=(o=e.attr("href"))&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var n=o&&t(o);return n&&n.length?n:e.parent()}function r(n){n&&3===n.which||(t(e).remove(),t(o).each(function(){var e=t(this),o=i(e),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(e.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}n.prototype.toggle=function(e){var o=t(this);if(!o.is(".disabled, :disabled")){var n=i(o),s=n.hasClass("open");if(r(),!s){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",r);var a={relatedTarget:this};if(n.trigger(e=t.Event("show.bs.dropdown",a)),e.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},n.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),s=r.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&r.find(o).trigger("focus"),n.trigger("click");var a=r.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(e.target);38==e.which&&l>0&&l--,40==e.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var o=t(this),i=o.data("bs.dropdown");i||o.data("bs.dropdown",i=new n(this)),"string"==typeof e&&i[e].call(o)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,n.prototype.toggle).on("keydown.bs.dropdown.data-api",o,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.VERSION="3.3.7",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(o){var n=this,i=t.Event("show.bs.modal",{relatedTarget:o});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:o});i?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(e.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},e.prototype.hide=function(o){o&&o.preventDefault(),o=t.Event("hide.bs.modal"),this.$element.trigger(o),this.isShown&&!o.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(o){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!o)return;r?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):o()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),o&&o()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):s()}else o&&o()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};function o(o,n){return this.each(function(){var i=t(this),r=i.data("bs.modal"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);r||i.data("bs.modal",r=new e(this,s)),"string"==typeof o?r[o](n):s.show&&r.show(n)})}var n=t.fn.modal;t.fn.modal=o,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&e.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),o.call(r,s,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,o,n){if(this.enabled=!0,this.type=e,this.$element=t(o),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},o=this.getDefaults();return this._options&&t.each(this._options,function(t,n){o[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var o=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(o||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o)),e instanceof t.Event&&(o.inState["focusin"==e.type?"focus":"hover"]=!0),o.tip().hasClass("in")||"in"==o.hoverState)o.hoverState="in";else{if(clearTimeout(o.timeout),o.hoverState="in",!o.options.delay||!o.options.delay.show)return o.show();o.timeout=setTimeout(function(){"in"==o.hoverState&&o.show()},o.options.delay.show)}},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var o=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(o||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o)),e instanceof t.Event&&(o.inState["focusout"==e.type?"focus":"hover"]=!1),!o.isInStateTrue()){if(clearTimeout(o.timeout),o.hoverState="out",!o.options.delay||!o.options.delay.hide)return o.hide();o.timeout=setTimeout(function(){"out"==o.hoverState&&o.hide()},o.options.delay.hide)}},e.prototype.show=function(){var o=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(o.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>f.bottom?"top":"top"==a&&u.top-h<f.top?"bottom":"right"==a&&u.right+d>f.width?"left":"left"==a&&u.left-d<f.left?"right":a,r.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(m,a);var g=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(e.TRANSITION_DURATION):g()}},e.prototype.applyPlacement=function(e,o){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==o&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(o,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(o),h=d?2*u.left-i+l:2*u.top-r+c,p=d?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(h,n[0][p],d)},e.prototype.replaceArrow=function(t,e,o){this.arrow().css(o?"left":"top",50*(1-t/e)+"%").css(o?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(o){var n=this,i=t(this.$tip),r=t.Event("hide.bs."+this.type);function s(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),o&&o()}if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(e.TRANSITION_DURATION):s(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var o=(e=e||this.$element)[0],n="BODY"==o.tagName,i=o.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&o instanceof window.SVGElement,s=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,a,l,s)},e.prototype.getCalculatedOffset=function(t,e,o,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-o/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-o/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-o}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,o,n){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+n;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+o;c<s.left?i.left=s.left-c:u>s.right&&(i.left=s.left+s.width-u)}return i},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var o=this;e&&((o=t(e.currentTarget).data("bs."+this.type))||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o))),e?(o.inState.click=!o.inState.click,o.isInStateTrue()?o.enter(o):o.leave(o)):o.tip().hasClass("in")?o.leave(o):o.enter(o)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var o=t.fn.tooltip;t.fn.tooltip=function(o){return this.each(function(){var n=t(this),i=n.data("bs.tooltip"),r="object"==typeof o&&o;!i&&/destroy|hide/.test(o)||(i||n.data("bs.tooltip",i=new e(this,r)),"string"==typeof o&&i[o]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),o=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof o?"html":"append":"text"](o),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=function(o){return this.each(function(){var n=t(this),i=n.data("bs.popover"),r="object"==typeof o&&o;!i&&/destroy|hide/.test(o)||(i||n.data("bs.popover",i=new e(this,r)),"string"==typeof o&&i[o]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),function(t){"use strict";function e(o,n){this.$body=t(document.body),this.$scrollElement=t(o).is(document.body)?t(window):t(o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,o="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(o="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),r=/^#./.test(i)&&t(i);return r&&r.length&&r.is(":visible")&&[[r[o]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),n=this.options.offset+o-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=o&&this.refresh(),e>=n)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var o=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(o).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function o(o){return this.each(function(){var n=t(this),i=n.data("bs.scrollspy"),r="object"==typeof o&&o;i||n.data("bs.scrollspy",i=new e(this,r)),"string"==typeof o&&i[o]()})}var n=t.fn.scrollspy;t.fn.scrollspy=o,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);o.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.prototype.show=function(){var e=this.element,o=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=o.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),o),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},e.prototype.activate=function(o,n,i){var r=n.find("> .active"),s=i&&t.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):a(),r.removeClass("in")};function o(o){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new e(this)),"string"==typeof o&&i[o]()})}var n=t.fn.tab;t.fn.tab=o,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),o.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(t){"use strict";var e=function(o,n){this.options=t.extend({},e.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(o),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};e.VERSION="3.3.7",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,o,n){var i=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=o&&"top"==this.affixed)return i<o&&"top";if("bottom"==this.affixed)return null!=o?!(i+this.unpin<=r.top)&&"bottom":!(i+s<=t-n)&&"bottom";var a=null==this.affixed,l=a?i:r.top;return null!=o&&i<=o?"top":null!=n&&l+(a?s:e)>=t-n&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o=this.$element.height(),n=this.options.offset,i=n.top,r=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=i=n),"function"==typeof i&&(i=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,o,i,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-o-r})}};function o(o){return this.each(function(){var n=t(this),i=n.data("bs.affix"),r="object"==typeof o&&o;i||n.data("bs.affix",i=new e(this,r)),"string"==typeof o&&i[o]()})}var n=t.fn.affix;t.fn.affix=o,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),o.call(e,n)})})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,o){return e||(e=window),o||(o="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(o,e,e.document)}:t(jQuery,window,document)}(function(t,e,o,n){"use strict";var i,r,s,a,l=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new r(t?re(this[i.iApiIndex]):this)},this.fnAddData=function(e,o){var i=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?i.rows.add(e):i.row.add(e);return(o===n||o)&&i.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),o=e.settings()[0],i=o.oScroll;t===n||t?e.draw(!1):""===i.sX&&""===i.sY||jt(o)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,o){var i=this.api(!0),r=i.rows(t),s=r.settings()[0],a=s.aoData[r[0][0]];return r.remove(),e&&e.call(this,s,a),(o===n||o)&&i.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,o,i,r,s){var a=this.api(!0);null===e||e===n?a.search(t,o,i,s):a.column(e).search(t,o,i,s),a.draw()},this.fnGetData=function(t,e){var o=this.api(!0);if(t!==n){var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==i||"th"==i?o.cell(t,e).data():o.row(t).data()||null}return o.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),o=t.nodeName.toUpperCase();if("TR"==o)return e.row(t).index();if("TD"==o||"TH"==o){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,o){return this.api(!0).row(t).child(e,o).show().child()[0]},this.fnPageChange=function(t,e){var o=this.api(!0).page(t);(e===n||e)&&o.draw(!1)},this.fnSetColumnVis=function(t,e,o){var i=this.api(!0).column(t).visible(e);(o===n||o)&&i.columns.adjust().draw()},this.fnSettings=function(){return re(this[i.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,o){this.api(!0).order.listener(t,e,o)},this.fnUpdate=function(t,e,o,i,r){var s=this.api(!0);return o===n||null===o?s.row(e).data(t):s.cell(e,o).data(t),(r===n||r)&&s.columns.adjust(),(i===n||i)&&s.draw(),0},this.fnVersionCheck=i.fnVersionCheck;var o=this,s=e===n,a=this.length;s&&(e={}),this.oApi=this.internal=i.internal;for(var c in l.ext.internal)c&&(this[c]=ze(c));return this.each(function(){var i,r=a>1?le({},e,!0):e,c=0,u=this.getAttribute("id"),d=!1,h=l.defaults,p=t(this);if("table"==this.nodeName.toLowerCase()){L(h),_(h.column),I(h,h,!0),I(h.column,h.column,!0),I(h,t.extend(r,p.data()));var f=l.settings;for(c=0,i=f.length;c<i;c++){var m=f[c];if(m.nTable==this||m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=r.bRetrieve!==n?r.bRetrieve:h.bRetrieve,v=r.bDestroy!==n?r.bDestroy:h.bDestroy;if(s||g)return m.oInstance;if(v){m.oInstance.fnDestroy();break}return void se(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){f.splice(c,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+l.ext._unique++,this.id=u);var b=t.extend(!0,{},l.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:u,sTableId:u});b.nTable=this,b.oApi=o.internal,b.oInit=r,f.push(b),b.oInstance=1===o.length?o:p.dataTable(),L(r),r.oLanguage&&E(r.oLanguage),r.aLengthMenu&&!r.iDisplayLength&&(r.iDisplayLength=t.isArray(r.aLengthMenu[0])?r.aLengthMenu[0][0]:r.aLengthMenu[0]),r=le(t.extend(!0,{},h),r),ae(b.oFeatures,r,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ae(b,r,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ae(b.oScroll,r,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ae(b.oLanguage,r,"fnInfoCallback"),ue(b,"aoDrawCallback",r.fnDrawCallback,"user"),ue(b,"aoServerParams",r.fnServerParams,"user"),ue(b,"aoStateSaveParams",r.fnStateSaveParams,"user"),ue(b,"aoStateLoadParams",r.fnStateLoadParams,"user"),ue(b,"aoStateLoaded",r.fnStateLoaded,"user"),ue(b,"aoRowCallback",r.fnRowCallback,"user"),ue(b,"aoRowCreatedCallback",r.fnCreatedRow,"user"),ue(b,"aoHeaderCallback",r.fnHeaderCallback,"user"),ue(b,"aoFooterCallback",r.fnFooterCallback,"user"),ue(b,"aoInitComplete",r.fnInitComplete,"user"),ue(b,"aoPreDrawCallback",r.fnPreDrawCallback,"user"),b.rowIdFn=J(r.rowId),M(b);var y=b.oClasses;if(t.extend(y,l.ext.classes,r.oClasses),p.addClass(y.sTable),b.iInitDisplayStart===n&&(b.iInitDisplayStart=r.iDisplayStart,b._iDisplayStart=r.iDisplayStart),null!==r.iDeferLoading){b.bDeferLoading=!0;var w=t.isArray(r.iDeferLoading);b._iRecordsDisplay=w?r.iDeferLoading[0]:r.iDeferLoading,b._iRecordsTotal=w?r.iDeferLoading[1]:r.iDeferLoading}var x=b.oLanguage;t.extend(!0,x,r.oLanguage),x.sUrl&&(t.ajax({dataType:"json",url:x.sUrl,success:function(e){E(e),I(h.oLanguage,e),t.extend(!0,x,e),Mt(b)},error:function(){Mt(b)}}),d=!0),null===r.asStripeClasses&&(b.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var S=b.asStripeClasses,k=p.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(S,function(t,e){return k.hasClass(t)}))&&(t("tbody tr",this).removeClass(S.join(" ")),b.asDestroyStripes=S.slice());var T,C=[],D=this.getElementsByTagName("thead");if(0!==D.length&&(ut(b.aoHeader,D[0]),C=dt(b)),null===r.aoColumns)for(T=[],c=0,i=C.length;c<i;c++)T.push(null);else T=r.aoColumns;for(c=0,i=T.length;c<i;c++)z(b,C?C[c]:null);if(B(b,r.aoColumnDefs,T,function(t,e){N(b,t,e)}),k.length){var A=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(k[0]).children("th, td").each(function(t,e){var o=b.aoColumns[t];if(o.mData===t){var i=A(e,"sort")||A(e,"order"),r=A(e,"filter")||A(e,"search");null===i&&null===r||(o.mData={_:t+".display",sort:null!==i?t+".@data-"+i:n,type:null!==i?t+".@data-"+i:n,filter:null!==r?t+".@data-"+r:n},N(b,t))}})}var O=b.oFeatures,R=function(){if(r.aaSorting===n){var e=b.aaSorting;for(c=0,i=e.length;c<i;c++)e[c][1]=b.aoColumns[c].asSorting[0]}ee(b),O.bSort&&ue(b,"aoDrawCallback",function(){if(b.bSorted){var e=Jt(b),o={};t.each(e,function(t,e){o[e.src]=e.dir}),de(b,null,"order",[b,e,o]),Zt(b)}}),ue(b,"aoDrawCallback",function(){(b.bSorted||"ssp"===fe(b)||O.bDeferRender)&&ee(b)},"sc");var o=p.children("caption").each(function(){this._captionSide=t(this).css("caption-side")}),s=p.children("thead");0===s.length&&(s=t("<thead/>").appendTo(p)),b.nTHead=s[0];var a=p.children("tbody");0===a.length&&(a=t("<tbody/>").appendTo(p)),b.nTBody=a[0];var l=p.children("tfoot");if(0===l.length&&o.length>0&&(""!==b.oScroll.sX||""!==b.oScroll.sY)&&(l=t("<tfoot/>").appendTo(p)),0===l.length||0===l.children().length?p.addClass(y.sNoFooter):l.length>0&&(b.nTFoot=l[0],ut(b.aoFooter,b.nTFoot)),r.aaData)for(c=0;c<r.aaData.length;c++)W(b,r.aaData[c]);else(b.bDeferLoading||"dom"==fe(b))&&q(b,t(b.nTBody).children("tr"));b.aiDisplay=b.aiDisplayMaster.slice(),b.bInitialised=!0,!1===d&&Mt(b)};r.bStateSave?(O.bStateSave=!0,ue(b,"aoDrawCallback",ne,"state_save"),ie(b,r,R)):R()}else se(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),o=null,this},c={},u=/[\r\n]/g,d=/<.*?>/g,h=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,p=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,m=function(t){return!t||!0===t||"-"===t},g=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},v=function(t,e){return c[e]||(c[e]=new RegExp(kt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(c[e],"."):t},b=function(t,e,o){var n="string"==typeof t;return!!m(t)||(e&&n&&(t=v(t,e)),o&&n&&(t=t.replace(f,"")),!isNaN(parseFloat(t))&&isFinite(t))},y=function(t,e,o){if(m(t))return!0;var n;return m(n=t)||"string"==typeof n?!!b(T(t),e,o)||null:null},w=function(t,e,o){var i=[],r=0,s=t.length;if(o!==n)for(;r<s;r++)t[r]&&t[r][e]&&i.push(t[r][e][o]);else for(;r<s;r++)t[r]&&i.push(t[r][e]);return i},x=function(t,e,o,i){var r=[],s=0,a=e.length;if(i!==n)for(;s<a;s++)t[e[s]][o]&&r.push(t[e[s]][o][i]);else for(;s<a;s++)r.push(t[e[s]][o]);return r},S=function(t,e){var o,i=[];e===n?(e=0,o=t):(o=e,e=t);for(var r=e;r<o;r++)i.push(r);return i},k=function(t){for(var e=[],o=0,n=t.length;o<n;o++)t[o]&&e.push(t[o]);return e},T=function(t){return t.replace(d,"")},C=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),o=e[0],n=1,i=e.length;n<i;n++){if(e[n]===o)return!1;o=e[n]}return!0}(t))return t.slice();var e,o,n,i=[],r=t.length,s=0;t:for(o=0;o<r;o++){for(e=t[o],n=0;n<s;n++)if(i[n]===e)continue t;i.push(e),s++}return i};l.util={throttle:function(t,e){var o,i,r=e!==n?e:200;return function(){var e=this,s=+new Date,a=arguments;o&&s<o+r?(clearTimeout(i),i=setTimeout(function(){o=n,t.apply(e,a)},r)):(o=s,t.apply(e,a))}},escapeRegex:function(t){return t.replace(p,"\\$1")}};function D(e){var o,n,i={};t.each(e,function(t,r){(o=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(o[1]+" ")&&(n=t.replace(o[0],o[2].toLowerCase()),i[n]=t,"o"===o[1]&&D(e[t]))}),e._hungarianMap=i}function I(e,o,i){e._hungarianMap||D(e);var r;t.each(o,function(s,a){(r=e._hungarianMap[s])===n||!i&&o[r]!==n||("o"===r.charAt(0)?(o[r]||(o[r]={}),t.extend(!0,o[r],o[s]),I(e[r],o[r],i)):o[r]=o[s])})}function E(t){var e=l.defaults.oLanguage,o=t.sZeroRecords;!t.sEmptyTable&&o&&"No data available in table"===e.sEmptyTable&&ae(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&o&&"Loading..."===e.sLoadingRecords&&ae(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Me(n)}var A=function(t,e,o){t[e]!==n&&(t[o]=t[e])};function L(t){A(t,"ordering","bSort"),A(t,"orderMulti","bSortMulti"),A(t,"orderClasses","bSortClasses"),A(t,"orderCellsTop","bSortCellsTop"),A(t,"order","aaSorting"),A(t,"orderFixed","aaSortingFixed"),A(t,"paging","bPaginate"),A(t,"pagingType","sPaginationType"),A(t,"pageLength","iDisplayLength"),A(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var o=0,n=e.length;o<n;o++)e[o]&&I(l.models.oSearch,e[o])}function _(e){A(e,"orderable","bSortable"),A(e,"orderData","aDataSort"),A(e,"orderSequence","asSorting"),A(e,"orderDataType","sortDataType");var o=e.aDataSort;"number"!=typeof o||t.isArray(o)||(e.aDataSort=[o])}function M(o){if(!l.__browser){var n={};l.__browser=n;var i=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=i.children(),s=r.children();n.barWidth=r[0].offsetWidth-r[0].clientWidth,n.bScrollOversize=100===s[0].offsetWidth&&100!==r[0].clientWidth,n.bScrollbarLeft=1!==Math.round(s.offset().left),n.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}t.extend(o.oBrowser,l.__browser),o.oScroll.iBarWidth=l.__browser.barWidth}function O(t,e,o,i,r,s){var a,l=i,c=!1;for(o!==n&&(a=o,c=!0);l!==r;)t.hasOwnProperty(l)&&(a=c?e(a,t[l],l,t):t[l],c=!0,l+=s);return a}function z(e,n){var i=l.defaults.column,r=e.aoColumns.length,s=t.extend({},l.models.oColumn,i,{nTh:n||o.createElement("th"),sTitle:i.sTitle?i.sTitle:n?n.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[r],mData:i.mData?i.mData:r,idx:r});e.aoColumns.push(s);var a=e.aoPreSearchCols;a[r]=t.extend({},l.models.oSearch,a[r]),N(e,r,t(n).data())}function N(e,o,i){var r=e.aoColumns[o],s=e.oClasses,a=t(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(r.sWidthOrig=c[1])}i!==n&&null!==i&&(_(i),I(l.defaults.column,i),i.mDataProp===n||i.mData||(i.mData=i.mDataProp),i.sType&&(r._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&a.addClass(i.sClass),t.extend(r,i),ae(r,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(r.aDataSort=[i.iDataSort]),ae(r,i,"aDataSort"));var u=r.mData,d=J(u),h=r.mRender?J(r.mRender):null,p=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};r._bAttrSrc=t.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),r._setter=null,r.fnGetData=function(t,e,o){var i=d(t,e,n,o);return h&&e?h(i,e,t,o):i},r.fnSetData=function(t,e,o){return K(u)(t,e,o)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(r.bSortable=!1,a.addClass(s.sSortableNone));var f=-1!==t.inArray("asc",r.asSorting),m=-1!==t.inArray("desc",r.asSorting);r.bSortable&&(f||m)?f&&!m?(r.sSortingClass=s.sSortableAsc,r.sSortingClassJUI=s.sSortJUIAscAllowed):!f&&m?(r.sSortingClass=s.sSortableDesc,r.sSortingClassJUI=s.sSortJUIDescAllowed):(r.sSortingClass=s.sSortable,r.sSortingClassJUI=s.sSortJUI):(r.sSortingClass=s.sSortableNone,r.sSortingClassJUI="")}function R(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;qt(t);for(var o=0,n=e.length;o<n;o++)e[o].nTh.style.width=e[o].sWidth}var i=t.oScroll;""===i.sY&&""===i.sX||jt(t),de(t,null,"column-sizing",[t])}function F(t,e){var o=H(t,"bVisible");return"number"==typeof o[e]?o[e]:null}function P(e,o){var n=H(e,"bVisible"),i=t.inArray(o,n);return-1!==i?i:null}function $(e){var o=0;return t.each(e.aoColumns,function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&o++}),o}function H(e,o){var n=[];return t.map(e.aoColumns,function(t,e){t[o]&&n.push(e)}),n}function j(t){var e,o,i,r,s,a,c,u,d,h=t.aoColumns,p=t.aoData,f=l.ext.type.detect;for(e=0,o=h.length;e<o;e++)if(d=[],!(c=h[e]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(i=0,r=f.length;i<r;i++){for(s=0,a=p.length;s<a&&(d[s]===n&&(d[s]=U(t,s,e,"type")),(u=f[i](d[s],t))||i===f.length-1)&&"html"!==u;s++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function B(e,o,i,r){var s,a,l,c,u,d,h,p=e.aoColumns;if(o)for(s=o.length-1;s>=0;s--){var f=(h=o[s]).targets!==n?h.targets:h.aTargets;for(t.isArray(f)||(f=[f]),l=0,c=f.length;l<c;l++)if("number"==typeof f[l]&&f[l]>=0){for(;p.length<=f[l];)z(e);r(f[l],h)}else if("number"==typeof f[l]&&f[l]<0)r(p.length+f[l],h);else if("string"==typeof f[l])for(u=0,d=p.length;u<d;u++)("_all"==f[l]||t(p[u].nTh).hasClass(f[l]))&&r(u,h)}if(i)for(s=0,a=i.length;s<a;s++)r(s,i[s])}function W(e,o,i,r){var s=e.aoData.length,a=t.extend(!0,{},l.models.oRow,{src:i?"dom":"data",idx:s});a._aData=o,e.aoData.push(a);for(var c=e.aoColumns,u=0,d=c.length;u<d;u++)c[u].sType=null;e.aiDisplayMaster.push(s);var h=e.rowIdFn(o);return h!==n&&(e.aIds[h]=a),!i&&e.oFeatures.bDeferRender||nt(e,s,i,r),s}function q(e,o){var n;return o instanceof t||(o=t(o)),o.map(function(t,o){return n=ot(e,o),W(e,n.data,o,n.cells)})}function U(t,e,o,i){var r=t.iDraw,s=t.aoColumns[o],a=t.aoData[e]._aData,l=s.sDefaultContent,c=s.fnGetData(a,i,{settings:t,row:e,col:o});if(c===n)return t.iDrawError!=r&&null===l&&(se(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e+", column "+o,4),t.iDrawError=r),l;if(c!==a&&null!==c||null===l||i===n){if("function"==typeof c)return c.call(a)}else c=l;return null===c&&"display"==i?"":c}function Y(t,e,o,n){var i=t.aoColumns[o],r=t.aoData[e]._aData;i.fnSetData(r,n,{settings:t,row:e,col:o})}var V=/\[.*?\]$/,G=/\(\)$/;function X(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function J(e){if(t.isPlainObject(e)){var o={};return t.each(e,function(t,e){e&&(o[t]=J(e))}),function(t,e,i,r){var s=o[e]||o._;return s!==n?s(t,e,i,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,o,n,i){return e(t,o,n,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,o){return t[e]};var i=function(e,o,r){var s,a,l,c;if(""!==r)for(var u=X(r),d=0,h=u.length;d<h;d++){if(s=u[d].match(V),a=u[d].match(G),s){if(u[d]=u[d].replace(V,""),""!==u[d]&&(e=e[u[d]]),l=[],u.splice(0,d+1),c=u.join("."),t.isArray(e))for(var p=0,f=e.length;p<f;p++)l.push(i(e[p],o,c));var m=s[0].substring(1,s[0].length-1);e=""===m?l:l.join(m);break}if(a)u[d]=u[d].replace(G,""),e=e[u[d]]();else{if(null===e||e[u[d]]===n)return n;e=e[u[d]]}}return e};return function(t,o){return i(t,o,e)}}function K(e){if(t.isPlainObject(e))return K(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,o,n){e(t,"set",o,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,o){t[e]=o};var o=function(e,i,r){for(var s,a,l,c,u,d=X(r),h=d[d.length-1],p=0,f=d.length-1;p<f;p++){if(a=d[p].match(V),l=d[p].match(G),a){if(d[p]=d[p].replace(V,""),e[d[p]]=[],(s=d.slice()).splice(0,p+1),u=s.join("."),t.isArray(i))for(var m=0,g=i.length;m<g;m++)o(c={},i[m],u),e[d[p]].push(c);else e[d[p]]=i;return}l&&(d[p]=d[p].replace(G,""),e=e[d[p]](i)),null!==e[d[p]]&&e[d[p]]!==n||(e[d[p]]={}),e=e[d[p]]}h.match(G)?e=e[h.replace(G,"")](i):e[h.replace(V,"")]=i};return function(t,n){return o(t,n,e)}}function Z(t){return w(t.aoData,"_aData")}function Q(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function tt(t,e,o){for(var i=-1,r=0,s=t.length;r<s;r++)t[r]==e?i=r:t[r]>e&&t[r]--;-1!=i&&o===n&&t.splice(i,1)}function et(t,e,o,i){var r,s,a=t.aoData[e],l=function(o,n){for(;o.childNodes.length;)o.removeChild(o.firstChild);o.innerHTML=U(t,e,n,"display")};if("dom"!==o&&(o&&"auto"!==o||"dom"!==a.src)){var c=a.anCells;if(c)if(i!==n)l(c[i],i);else for(r=0,s=c.length;r<s;r++)l(c[r],r)}else a._aData=ot(t,a,i,i===n?n:a._aData).data;a._aSortData=null,a._aFilterData=null;var u=t.aoColumns;if(i!==n)u[i].sType=null;else{for(r=0,s=u.length;r<s;r++)u[r].sType=null;it(t,a)}}function ot(e,o,i,r){var s,a,l,c=[],u=o.firstChild,d=0,h=e.aoColumns,p=e._rowReadObject;r=r!==n?r:p?{}:[];var f=function(t,e){if("string"==typeof t){var o=t.indexOf("@");if(-1!==o){var n=t.substring(o+1);K(t)(r,e.getAttribute(n))}}},m=function(e){if(i===n||i===d)if(a=h[d],l=t.trim(e.innerHTML),a&&a._bAttrSrc){K(a.mData._)(r,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)}else p?(a._setter||(a._setter=K(a.mData)),a._setter(r,l)):r[d]=l;d++};if(u)for(;u;)"TD"!=(s=u.nodeName.toUpperCase())&&"TH"!=s||(m(u),c.push(u)),u=u.nextSibling;else for(var g=0,v=(c=o.anCells).length;g<v;g++)m(c[g]);var b=o.firstChild?o:o.nTr;if(b){var y=b.getAttribute("id");y&&K(e.rowId)(r,y)}return{data:r,cells:c}}function nt(e,n,i,r){var s,a,l,c,u,d=e.aoData[n],h=d._aData,p=[];if(null===d.nTr){for(s=i||o.createElement("tr"),d.nTr=s,d.anCells=p,s._DT_RowIndex=n,it(e,d),c=0,u=e.aoColumns.length;c<u;c++)l=e.aoColumns[c],(a=i?r[c]:o.createElement(l.sCellType))._DT_CellIndex={row:n,column:c},p.push(a),i&&!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display"||(a.innerHTML=U(e,n,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!i?s.appendChild(a):!l.bVisible&&i&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,U(e,n,c),h,n,c);de(e,"aoRowCreatedCallback",null,[s,h,n])}d.nTr.setAttribute("role","row")}function it(e,o){var n=o.nTr,i=o._aData;if(n){var r=e.rowIdFn(i);if(r&&(n.id=r),i.DT_RowClass){var s=i.DT_RowClass.split(" ");o.__rowc=o.__rowc?C(o.__rowc.concat(s)):s,t(n).removeClass(o.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&t(n).attr(i.DT_RowAttr),i.DT_RowData&&t(n).data(i.DT_RowData)}}function rt(e){var o,n,i,r,s,a=e.nTHead,l=e.nTFoot,c=0===t("th, td",a).length,u=e.oClasses,d=e.aoColumns;for(c&&(r=t("<tr/>").appendTo(a)),o=0,n=d.length;o<n;o++)s=d[o],i=t(s.nTh).addClass(s.sClass),c&&i.appendTo(r),e.oFeatures.bSort&&(i.addClass(s.sSortingClass),!1!==s.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),te(e,s.nTh,o))),s.sTitle!=i[0].innerHTML&&i.html(s.sTitle),pe(e,"header")(e,i,s,u);if(c&&ut(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var h=e.aoFooter[0];for(o=0,n=h.length;o<n;o++)(s=d[o]).nTf=h[o].cell,s.sClass&&t(s.nTf).addClass(s.sClass)}}function st(e,o,i){var r,s,a,l,c,u,d,h,p,f=[],m=[],g=e.aoColumns.length;if(o){for(i===n&&(i=!1),r=0,s=o.length;r<s;r++){for(f[r]=o[r].slice(),f[r].nTr=o[r].nTr,a=g-1;a>=0;a--)e.aoColumns[a].bVisible||i||f[r].splice(a,1);m.push([])}for(r=0,s=f.length;r<s;r++){if(d=f[r].nTr)for(;u=d.firstChild;)d.removeChild(u);for(a=0,l=f[r].length;a<l;a++)if(h=1,p=1,m[r][a]===n){for(d.appendChild(f[r][a].cell),m[r][a]=1;f[r+h]!==n&&f[r][a].cell==f[r+h][a].cell;)m[r+h][a]=1,h++;for(;f[r][a+p]!==n&&f[r][a].cell==f[r][a+p].cell;){for(c=0;c<h;c++)m[r+c][a+p]=1;p++}t(f[r][a].cell).attr("rowspan",h).attr("colspan",p)}}}}function at(e){var o=de(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,o)){var i=[],r=0,s=e.asStripeClasses,a=s.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,u="ssp"==fe(e),d=e.aiDisplay;e.bDrawing=!0,c!==n&&-1!==c&&(e._iDisplayStart=u?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,$t(e,!1);else if(u){if(!e.bDestroying&&!pt(e))return}else e.iDraw++;if(0!==d.length)for(var f=u?0:h,m=u?e.aoData.length:p,g=f;g<m;g++){var v=d[g],b=e.aoData[v];null===b.nTr&&nt(e,v);var y=b.nTr;if(0!==a){var w=s[r%a];b._sRowStripe!=w&&(t(y).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}de(e,"aoRowCallback",null,[y,b._aData,r,g]),i.push(y),r++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==fe(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),i[0]=t("<tr/>",{class:a?s[0]:""}).append(t("<td />",{valign:"top",colSpan:$(e),class:e.oClasses.sRowEmpty}).html(x))[0]}de(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],Z(e),h,p,d]),de(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],Z(e),h,p,d]);var S=t(e.nTBody);S.children().detach(),S.append(t(i)),de(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else $t(e,!1)}function lt(t,e){var o=t.oFeatures,n=o.bSort,i=o.bFilter;n&&Kt(t),i?bt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,at(t),t._drawHold=!1}function ct(e){var o=e.oClasses,n=t(e.nTable),i=t("<div/>").insertBefore(n),r=e.oFeatures,s=t("<div/>",{id:e.sTableId+"_wrapper",class:o.sWrapper+(e.nTFoot?"":" "+o.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,c,u,d,h,p,f=e.sDom.split(""),m=0;m<f.length;m++){if(a=null,"<"==(c=f[m])){if(u=t("<div/>")[0],"'"==(d=f[m+1])||'"'==d){for(h="",p=2;f[m+p]!=d;)h+=f[m+p],p++;if("H"==h?h=o.sJUIHeader:"F"==h&&(h=o.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==h.charAt(0)?u.id=h.substr(1,h.length-1):u.className=h;m+=p}s.append(u),s=t(u)}else if(">"==c)s=s.parent();else if("l"==c&&r.bPaginate&&r.bLengthChange)a=Nt(e);else if("f"==c&&r.bFilter)a=vt(e);else if("r"==c&&r.bProcessing)a=Pt(e);else if("t"==c)a=Ht(e);else if("i"==c&&r.bInfo)a=At(e);else if("p"==c&&r.bPaginate)a=Rt(e);else if(0!==l.ext.feature.length)for(var v=l.ext.feature,b=0,y=v.length;b<y;b++)if(c==v[b].cFeature){a=v[b].fnInit(e);break}if(a){var w=e.aanFeatures;w[c]||(w[c]=[]),w[c].push(a),s.append(a)}}i.replaceWith(s),e.nHolding=null}function ut(e,o){var n,i,r,s,a,l,c,u,d,h,p,f=t(o).children("tr"),m=function(t,e,o){for(var n=t[e];n[o];)o++;return o};for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(u=0,i=(n=f[r]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(d=1*i.getAttribute("colspan"),h=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,c=m(e,r,u),p=1===d,a=0;a<d;a++)for(s=0;s<h;s++)e[r+s][c+a]={cell:i,unique:p},e[r+s].nTr=n;i=i.nextSibling}}function dt(t,e,o){var n=[];o||(o=t.aoHeader,e&&ut(o=[],e));for(var i=0,r=o.length;i<r;i++)for(var s=0,a=o[i].length;s<a;s++)!o[i][s].unique||n[s]&&t.bSortCellsTop||(n[s]=o[i][s].cell);return n}function ht(e,o,n){if(de(e,"aoServerParams","serverParams",[o]),o&&t.isArray(o)){var i={},r=/(.*?)\[\]$/;t.each(o,function(t,e){var o=e.name.match(r);if(o){var n=o[0];i[n]||(i[n]=[]),i[n].push(e.value)}else i[e.name]=e.value}),o=i}var s,a=e.ajax,l=e.oInstance,c=function(t){de(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){s=a.data;var u=t.isFunction(s)?s(o,e):s;o=t.isFunction(s)&&u?u:t.extend(!0,o,u),delete a.data}var d={data:o,success:function(t){var o=t.error||t.sError;o&&se(e,0,o),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(o,n,i){var r=de(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,r)&&("parsererror"==n?se(e,0,"Invalid JSON response",1):4===o.readyState&&se(e,0,"Ajax error",7)),$t(e,!1)}};e.oAjaxData=o,de(e,null,"preXhr",[e,o]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(o,function(t,e){return{name:e,value:t}}),c,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(d,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,o,c,e):(e.jqXHR=t.ajax(t.extend(d,a)),a.data=s)}function pt(t){return!t.bAjaxDataGet||(t.iDraw++,$t(t,!0),ht(t,ft(t),function(e){mt(t,e)}),!1)}function ft(e){var o,n,i,r,s=e.aoColumns,a=s.length,c=e.oFeatures,u=e.oPreviousSearch,d=e.aoPreSearchCols,h=[],p=Jt(e),f=e._iDisplayStart,m=!1!==c.bPaginate?e._iDisplayLength:-1,g=function(t,e){h.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",a),g("sColumns",w(s,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",m);var v={draw:e.iDraw,columns:[],order:[],start:f,length:m,search:{value:u.sSearch,regex:u.bRegex}};for(o=0;o<a;o++)i=s[o],r=d[o],n="function"==typeof i.mData?"function":i.mData,v.columns.push({data:n,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+o,n),c.bFilter&&(g("sSearch_"+o,r.sSearch),g("bRegex_"+o,r.bRegex),g("bSearchable_"+o,i.bSearchable)),c.bSort&&g("bSortable_"+o,i.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(t.each(p,function(t,e){v.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",p.length));var b=l.ext.legacy.ajax;return null===b?e.sAjaxSource?h:v:b?h:v}function mt(t,e){var o=function(t,o){return e[t]!==n?e[t]:e[o]},i=gt(t,e),r=o("sEcho","draw"),s=o("iTotalRecords","recordsTotal"),a=o("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}Q(t),t._iRecordsTotal=parseInt(s,10),t._iRecordsDisplay=parseInt(a,10);for(var l=0,c=i.length;l<c;l++)W(t,i[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,at(t),t._bInitComplete||Ot(t,e),t.bAjaxDataGet=!0,$t(t,!1)}function gt(e,o){var i=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===i?o.aaData||o[i]:""!==i?J(i)(o):o}function vt(e){var n=e.oClasses,i=e.sTableId,r=e.oLanguage,s=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=r.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=t("<div/>",{id:a.f?null:i+"_filter",class:n.sFilter}).append(t("<label/>").append(c)),d=function(){a.f;var t=this.value?this.value:"";t!=s.sSearch&&(bt(e,{sSearch:t,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),e._iDisplayStart=0,at(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===fe(e)?400:0,p=t("input",u).val(s.sSearch).attr("placeholder",r.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?Ut(d,h):d).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",i);return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{p[0]!==o.activeElement&&p.val(s.sSearch)}catch(t){}}),u[0]}function bt(t,e,o){var i=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive},a=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(j(t),"ssp"!=fe(t)){xt(t,e.sSearch,o,a(e),e.bSmart,e.bCaseInsensitive),s(e);for(var l=0;l<r.length;l++)wt(t,r[l].sSearch,l,a(r[l]),r[l].bSmart,r[l].bCaseInsensitive);yt(t)}else s(e);t.bFiltered=!0,de(t,null,"search",[t])}function yt(e){for(var o,n,i=l.ext.search,r=e.aiDisplay,s=0,a=i.length;s<a;s++){for(var c=[],u=0,d=r.length;u<d;u++)n=r[u],o=e.aoData[n],i[s](e,o._aFilterData,n,o._aData,u)&&c.push(n);r.length=0,t.merge(r,c)}}function wt(t,e,o,n,i,r){if(""!==e){for(var s,a=[],l=t.aiDisplay,c=St(e,n,i,r),u=0;u<l.length;u++)s=t.aoData[l[u]]._aFilterData[o],c.test(s)&&a.push(l[u]);t.aiDisplay=a}}function xt(t,e,o,n,i,r){var s,a,c,u=St(e,n,i,r),d=t.oPreviousSearch.sSearch,h=t.aiDisplayMaster,p=[];if(0!==l.ext.search.length&&(o=!0),a=Dt(t),e.length<=0)t.aiDisplay=h.slice();else{for((a||o||d.length>e.length||0!==e.indexOf(d)||t.bSorted)&&(t.aiDisplay=h.slice()),s=t.aiDisplay,c=0;c<s.length;c++)u.test(t.aoData[s[c]]._sFilterRow)&&p.push(s[c]);t.aiDisplay=p}}function St(e,o,n,i){if(e=o?e:kt(e),n){e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"}return new RegExp(e,i?"i":"")}var kt=l.util.escapeRegex,Tt=t("<div>")[0],Ct=Tt.textContent!==n;function Dt(t){var e,o,n,i,r,s,a,c,u=t.aoColumns,d=l.ext.type.search,h=!1;for(o=0,i=t.aoData.length;o<i;o++)if(!(c=t.aoData[o])._aFilterData){for(s=[],n=0,r=u.length;n<r;n++)(e=u[n]).bSearchable?(a=U(t,o,n,"filter"),d[e.sType]&&(a=d[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(Tt.innerHTML=a,a=Ct?Tt.textContent:Tt.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);c._aFilterData=s,c._sFilterRow=s.join("  "),h=!0}return h}function It(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function Et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function At(e){var o=e.sTableId,n=e.aanFeatures.i,i=t("<div/>",{class:e.oClasses.sInfo,id:n?null:o+"_info"});return n||(e.aoDrawCallback.push({fn:Lt,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",o+"_info")),i[0]}function Lt(e){var o=e.aanFeatures.i;if(0!==o.length){var n=e.oLanguage,i=e._iDisplayStart+1,r=e.fnDisplayEnd(),s=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l=_t(e,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,i,r,s,a,l)),t(o).html(l)}}function _t(t,e){var o=t.fnFormatNumber,n=t._iDisplayStart+1,i=t._iDisplayLength,r=t.fnRecordsDisplay(),s=-1===i;return e.replace(/_START_/g,o.call(t,n)).replace(/_END_/g,o.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,o.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,o.call(t,r)).replace(/_PAGE_/g,o.call(t,s?1:Math.ceil(n/i))).replace(/_PAGES_/g,o.call(t,s?1:Math.ceil(r/i)))}function Mt(t){var e,o,n,i=t.iInitDisplayStart,r=t.aoColumns,s=t.oFeatures,a=t.bDeferLoading;if(t.bInitialised){for(ct(t),rt(t),st(t,t.aoHeader),st(t,t.aoFooter),$t(t,!0),s.bAutoWidth&&qt(t),e=0,o=r.length;e<o;e++)(n=r[e]).sWidth&&(n.nTh.style.width=Xt(n.sWidth));de(t,null,"preInit",[t]),lt(t);var l=fe(t);("ssp"!=l||a)&&("ajax"==l?ht(t,[],function(o){var n=gt(t,o);for(e=0;e<n.length;e++)W(t,n[e]);t.iInitDisplayStart=i,lt(t),$t(t,!1),Ot(t,o)}):($t(t,!1),Ot(t)))}else setTimeout(function(){Mt(t)},200)}function Ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&R(t),de(t,null,"plugin-init",[t,e]),de(t,"aoInitComplete","init",[t,e])}function zt(t,e){var o=parseInt(e,10);t._iDisplayLength=o,he(t),de(t,null,"length",[t,o])}function Nt(e){for(var o=e.oClasses,n=e.sTableId,i=e.aLengthMenu,r=t.isArray(i[0]),s=r?i[0]:i,a=r?i[1]:i,l=t("<select/>",{name:n+"_length","aria-controls":n,class:o.sLengthSelect}),c=0,u=s.length;c<u;c++)l[0][c]=new Option("number"==typeof a[c]?e.fnFormatNumber(a[c]):a[c],s[c]);var d=t("<div><label/></div>").addClass(o.sLength);return e.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",d).val(e._iDisplayLength).on("change.DT",function(o){zt(e,t(this).val()),at(e)}),t(e.nTable).on("length.dt.DT",function(o,n,i){e===n&&t("select",d).val(i)}),d[0]}function Rt(e){var o=e.sPaginationType,n=l.ext.pager[o],i="function"==typeof n,r=function(t){at(t)},s=t("<div/>").addClass(e.oClasses.sPaging+o)[0],a=e.aanFeatures;return i||n.fnInit(e,s,r),a.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(i){var e,o,s=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(s/l),h=u?1:Math.ceil(c/l),p=n(d,h);for(e=0,o=a.p.length;e<o;e++)pe(t,"pageButton")(t,a.p[e],e,p,d,h)}else n.fnUpdate(t,r)},sName:"pagination"})),s}function Ft(t,e,o){var n=t._iDisplayStart,i=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||-1===i?n=0:"number"==typeof e?(n=e*i)>r&&(n=0):"first"==e?n=0:"previous"==e?(n=i>=0?n-i:0)<0&&(n=0):"next"==e?n+i<r&&(n+=i):"last"==e?n=Math.floor((r-1)/i)*i:se(t,0,"Unknown paging action: "+e,5);var s=t._iDisplayStart!==n;return t._iDisplayStart=n,s&&(de(t,null,"page",[t]),o&&at(t)),s}function Pt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function $t(e,o){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",o?"block":"none"),de(e,null,"processing",[e,o])}function Ht(e){var o=t(e.nTable);o.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,r=n.sY,s=e.oClasses,a=o.children("caption"),l=a.length?a[0]._captionSide:null,c=t(o[0].cloneNode(!1)),u=t(o[0].cloneNode(!1)),d=o.children("tfoot"),h="<div/>",p=function(t){return t?Xt(t):null};d.length||(d=null);var f=t(h,{class:s.sScrollWrapper}).append(t(h,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?p(i):"100%"}).append(t(h,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(o.children("thead"))))).append(t(h,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:p(i)}).append(o));d&&f.append(t(h,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:i?p(i):"100%"}).append(t(h,{class:s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(o.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],b=d?m[2]:null;return i&&t(v).on("scroll.DT",function(t){var e=this.scrollLeft;g.scrollLeft=e,d&&(b.scrollLeft=e)}),t(v).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:jt,sName:"scrolling"}),f[0]}function jt(e){var o,i,r,s,a,l,c,u,d,h=e.oScroll,p=h.sX,f=h.sXInner,m=h.sY,g=h.iBarWidth,v=t(e.nScrollHead),b=v[0].style,y=v.children("div"),x=y[0].style,S=y.children("table"),k=e.nScrollBody,T=t(k),C=k.style,D=t(e.nScrollFoot).children("div"),I=D.children("table"),E=t(e.nTHead),A=t(e.nTable),L=A[0],_=L.style,M=e.nTFoot?t(e.nTFoot):null,O=e.oBrowser,z=O.bScrollOversize,N=w(e.aoColumns,"nTh"),P=[],$=[],H=[],j=[],B=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},W=k.scrollHeight>k.clientHeight;if(e.scrollBarVis!==W&&e.scrollBarVis!==n)return e.scrollBarVis=W,void R(e);e.scrollBarVis=W,A.children("thead, tfoot").remove(),M&&(l=M.clone().prependTo(A),i=M.find("tr"),s=l.find("tr")),a=E.clone().prependTo(A),o=E.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),p||(C.width="100%",v[0].style.width="100%"),t.each(dt(e,a),function(t,o){c=F(e,t),o.style.width=e.aoColumns[c].sWidth}),M&&Bt(function(t){t.style.width=""},s),d=A.outerWidth(),""===p?(_.width="100%",z&&(A.find("tbody").height()>k.offsetHeight||"scroll"==T.css("overflow-y"))&&(_.width=Xt(A.outerWidth()-g)),d=A.outerWidth()):""!==f&&(_.width=Xt(f),d=A.outerWidth()),Bt(B,r),Bt(function(e){H.push(e.innerHTML),P.push(Xt(t(e).css("width")))},r),Bt(function(e,o){-1!==t.inArray(e,N)&&(e.style.width=P[o])},o),t(r).height(0),M&&(Bt(B,s),Bt(function(e){j.push(e.innerHTML),$.push(Xt(t(e).css("width")))},s),Bt(function(t,e){t.style.width=$[e]},i),t(s).height(0)),Bt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[e]+"</div>",t.style.width=P[e]},r),M&&Bt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+j[e]+"</div>",t.style.width=$[e]},s),A.outerWidth()<d?(u=k.scrollHeight>k.offsetHeight||"scroll"==T.css("overflow-y")?d+g:d,z&&(k.scrollHeight>k.offsetHeight||"scroll"==T.css("overflow-y"))&&(_.width=Xt(u-g)),""!==p&&""===f||se(e,1,"Possible column misalignment",6)):u="100%",C.width=Xt(u),b.width=Xt(u),M&&(e.nScrollFoot.style.width=Xt(u)),m||z&&(C.height=Xt(L.offsetHeight+g));var q=A.outerWidth();S[0].style.width=Xt(q),x.width=Xt(q);var U=A.height()>k.clientHeight||"scroll"==T.css("overflow-y"),Y="padding"+(O.bScrollbarLeft?"Left":"Right");x[Y]=U?g+"px":"0px",M&&(I[0].style.width=Xt(q),D[0].style.width=Xt(q),D[0].style[Y]=U?g+"px":"0px"),A.children("colgroup").insertBefore(A.children("thead")),T.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(k.scrollTop=0)}function Bt(t,e,o){for(var n,i,r=0,s=0,a=e.length;s<a;){for(n=e[s].firstChild,i=o?o[s].firstChild:null;n;)1===n.nodeType&&(o?t(n,i,r):t(n,r),r++),n=n.nextSibling,i=o?i.nextSibling:null;s++}}var Wt=/<.*?>/g;function qt(o){var n,i,r,s=o.nTable,a=o.aoColumns,l=o.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=a.length,p=H(o,"bVisible"),f=t("th",o.nTHead),m=s.getAttribute("width"),g=s.parentNode,v=!1,b=o.oBrowser,y=b.bScrollOversize,w=s.style.width;for(w&&-1!==w.indexOf("%")&&(m=w),n=0;n<p.length;n++)null!==(i=a[p[n]]).sWidth&&(i.sWidth=Yt(i.sWidthOrig,g),v=!0);if(y||!v&&!u&&!c&&h==$(o)&&h==f.length)for(n=0;n<h;n++){var x=F(o,n);null!==x&&(a[x].sWidth=Xt(f.eq(n).width()))}else{var S=t(s).clone().css("visibility","hidden").removeAttr("id");S.find("tbody tr").remove();var k=t("<tr/>").appendTo(S.find("tbody"));for(S.find("thead, tfoot").remove(),S.append(t(o.nTHead).clone()).append(t(o.nTFoot).clone()),S.find("tfoot th, tfoot td").css("width",""),f=dt(o,S.find("thead")[0]),n=0;n<p.length;n++)i=a[p[n]],f[n].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?Xt(i.sWidthOrig):"",i.sWidthOrig&&u&&t(f[n]).append(t("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(o.aoData.length)for(n=0;n<p.length;n++)i=a[r=p[n]],t(Vt(o,r)).clone(!1).append(i.sContentPadding).appendTo(k);t("[name]",S).removeAttr("name");var T=t("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(S).appendTo(g);u&&d?S.width(d):u?(S.css("width","auto"),S.removeAttr("width"),S.width()<g.clientWidth&&m&&S.width(g.clientWidth)):c?S.width(g.clientWidth):m&&S.width(m);var C=0;for(n=0;n<p.length;n++){var D=t(f[n]),I=D.outerWidth()-D.width(),E=b.bBounding?Math.ceil(f[n].getBoundingClientRect().width):D.outerWidth();C+=E,a[p[n]].sWidth=Xt(E-I)}s.style.width=Xt(C),T.remove()}if(m&&(s.style.width=Xt(m)),(m||u)&&!o._reszEvt){var A=function(){t(e).on("resize.DT-"+o.sInstance,Ut(function(){R(o)}))};y?setTimeout(A,1e3):A(),o._reszEvt=!0}}var Ut=l.util.throttle;function Yt(e,n){if(!e)return 0;var i=t("<div/>").css("width",Xt(e)).appendTo(n||o.body),r=i[0].offsetWidth;return i.remove(),r}function Vt(e,o){var n=Gt(e,o);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[o]:t("<td/>").html(U(e,n,o,"display"))[0]}function Gt(t,e){for(var o,n=-1,i=-1,r=0,s=t.aoData.length;r<s;r++)(o=(o=(o=U(t,r,e,"display")+"").replace(Wt,"")).replace(/&nbsp;/g," ")).length>n&&(n=o.length,i=r);return i}function Xt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Jt(e){var o,i,r,s,a,c,u,d=[],h=e.aoColumns,p=e.aaSortingFixed,f=t.isPlainObject(p),m=[],g=function(e){e.length&&!t.isArray(e[0])?m.push(e):t.merge(m,e)};for(t.isArray(p)&&g(p),f&&p.pre&&g(p.pre),g(e.aaSorting),f&&p.post&&g(p.post),o=0;o<m.length;o++)for(i=0,r=(s=h[u=m[o][0]].aDataSort).length;i<r;i++)c=h[a=s[i]].sType||"string",m[o]._idx===n&&(m[o]._idx=t.inArray(m[o][1],h[a].asSorting)),d.push({src:u,col:a,dir:m[o][1],index:m[o]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return d}function Kt(t){var e,o,n,i,r,s=[],a=l.ext.type.order,c=t.aoData,u=(t.aoColumns,0),d=t.aiDisplayMaster;for(j(t),e=0,o=(r=Jt(t)).length;e<o;e++)(i=r[e]).formatter&&u++,oe(t,i.col);if("ssp"!=fe(t)&&0!==r.length){for(e=0,n=d.length;e<n;e++)s[d[e]]=e;u===r.length?d.sort(function(t,e){var o,n,i,a,l,u=r.length,d=c[t]._aSortData,h=c[e]._aSortData;for(i=0;i<u;i++)if(0!==(a=(o=d[(l=r[i]).col])<(n=h[l.col])?-1:o>n?1:0))return"asc"===l.dir?a:-a;return(o=s[t])<(n=s[e])?-1:o>n?1:0}):d.sort(function(t,e){var o,n,i,l,u,d=r.length,h=c[t]._aSortData,p=c[e]._aSortData;for(i=0;i<d;i++)if(o=h[(u=r[i]).col],n=p[u.col],0!==(l=(a[u.type+"-"+u.dir]||a["string-"+u.dir])(o,n)))return l;return(o=s[t])<(n=s[e])?-1:o>n?1:0})}t.bSorted=!0}function Zt(t){for(var e,o,n=t.aoColumns,i=Jt(t),r=t.oLanguage.oAria,s=0,a=n.length;s<a;s++){var l=n[s],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(i.length>0&&i[0].col==s?(d.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),o=c[i[0].index+1]||c[0]):o=c[0],e=u+("asc"===o?r.sSortAscending:r.sSortDescending)):e=u,d.setAttribute("aria-label",e)}}function Qt(e,o,i,r){var s,a=e.aoColumns[o],l=e.aaSorting,c=a.asSorting,u=function(e,o){var i=e._idx;return i===n&&(i=t.inArray(e[1],c)),i+1<c.length?i+1:o?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),i&&e.oFeatures.bSortMulti){var d=t.inArray(o,w(l,"0"));-1!==d?(null===(s=u(l[d],!0))&&1===l.length&&(s=0),null===s?l.splice(d,1):(l[d][1]=c[s],l[d]._idx=s)):(l.push([o,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==o?(s=u(l[0]),l.length=1,l[0][1]=c[s],l[0]._idx=s):(l.length=0,l.push([o,c[0]]),l[0]._idx=0);lt(e),"function"==typeof r&&r(e)}function te(t,e,o,n){var i=t.aoColumns[o];ce(e,{},function(e){!1!==i.bSortable&&(t.oFeatures.bProcessing?($t(t,!0),setTimeout(function(){Qt(t,o,e.shiftKey,n),"ssp"!==fe(t)&&$t(t,!1)},0)):Qt(t,o,e.shiftKey,n))})}function ee(e){var o,n,i,r=e.aLastSort,s=e.oClasses.sSortColumn,a=Jt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(o=0,n=r.length;o<n;o++)i=r[o].src,t(w(e.aoData,"anCells",i)).removeClass(s+(o<2?o+1:3));for(o=0,n=a.length;o<n;o++)i=a[o].src,t(w(e.aoData,"anCells",i)).addClass(s+(o<2?o+1:3))}e.aLastSort=a}function oe(t,e){var o,n=t.aoColumns[e],i=l.ext.order[n.sSortDataType];i&&(o=i.call(t.oInstance,t,e,P(t,e)));for(var r,s,a=l.ext.type.order[n.sType+"-pre"],c=0,u=t.aoData.length;c<u;c++)(r=t.aoData[c])._aSortData||(r._aSortData=[]),r._aSortData[e]&&!i||(s=i?o[c]:U(t,c,e,"sort"),r._aSortData[e]=a?a(s):s)}function ne(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var o={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:It(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,o){return{visible:t.bVisible,search:It(e.aoPreSearchCols[o])}})};de(e,"aoStateSaveParams","stateSaveParams",[e,o]),e.oSavedState=o,e.fnStateSaveCallback.call(e.oInstance,e,o)}}function ie(e,o,i){var r,s,a=e.aoColumns,l=function(o){if(o&&o.time){var l=de(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(-1===t.inArray(!1,l)){var c=e.iStateDuration;if(c>0&&o.time<+new Date-1e3*c)i();else if(o.columns&&a.length!==o.columns.length)i();else{if(e.oLoadedState=t.extend(!0,{},o),o.start!==n&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==n&&(e._iDisplayLength=o.length),o.order!==n&&(e.aaSorting=[],t.each(o.order,function(t,o){e.aaSorting.push(o[0]>=a.length?[0,o[1]]:o)})),o.search!==n&&t.extend(e.oPreviousSearch,Et(o.search)),o.columns)for(r=0,s=o.columns.length;r<s;r++){var u=o.columns[r];u.visible!==n&&(a[r].bVisible=u.visible),u.search!==n&&t.extend(e.aoPreSearchCols[r],Et(u.search))}de(e,"aoStateLoaded","stateLoaded",[e,o]),i()}}else i()}else i()};if(e.oFeatures.bStateSave){var c=e.fnStateLoadCallback.call(e.oInstance,e,l);c!==n&&l(c)}else i()}function re(e){var o=l.settings,n=t.inArray(e,w(o,"nTable"));return-1!==n?o[n]:null}function se(t,o,n,i){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),o)e.console&&console.log&&console.log(n);else{var r=l.ext,s=r.sErrMode||r.errMode;if(t&&de(t,null,"error",[t,i,n]),"alert"==s)alert(n);else{if("throw"==s)throw new Error(n);"function"==typeof s&&s(t,i,n)}}}function ae(e,o,i,r){t.isArray(i)?t.each(i,function(n,i){t.isArray(i)?ae(e,o,i[0],i[1]):ae(e,o,i)}):(r===n&&(r=i),o[i]!==n&&(e[r]=o[i]))}function le(e,o,n){var i;for(var r in o)o.hasOwnProperty(r)&&(i=o[r],t.isPlainObject(i)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],i)):n&&"data"!==r&&"aaData"!==r&&t.isArray(i)?e[r]=i.slice():e[r]=i);return e}function ce(e,o,n){t(e).on("click.DT",o,function(t){e.blur(),n(t)}).on("keypress.DT",o,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function ue(t,e,o,n){o&&t[e].push({fn:o,sName:n})}function de(e,o,n,i){var r=[];if(o&&(r=t.map(e[o].slice().reverse(),function(t,o){return t.fn.apply(e.oInstance,i)})),null!==n){var s=t.Event(n+".dt");t(e.nTable).trigger(s,i),r.push(s.result)}return r}function he(t){var e=t._iDisplayStart,o=t.fnDisplayEnd(),n=t._iDisplayLength;e>=o&&(e=o-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function pe(e,o){var n=e.renderer,i=l.ext.renderer[o];return t.isPlainObject(n)&&n[o]?i[n[o]]||i._:"string"==typeof n?i[n]||i._:i._}function fe(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var me=[],ge=Array.prototype;r=function(e,o){if(!(this instanceof r))return new r(e,o);var n=[],i=function(e){var o=function(e){var o,n,i=l.settings,r=t.map(i,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(o=t.inArray(e,r))?[i[o]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map(function(e){return-1!==(o=t.inArray(this,r))?i[o]:null}).toArray():void 0):[]}(e);o&&(n=n.concat(o))};if(t.isArray(e))for(var s=0,a=e.length;s<a;s++)i(e[s]);else i(e);this.context=C(n),o&&t.merge(this,o),this.selector={rows:null,cols:null,opts:null},r.extend(this,this,me)},l.Api=r,t.extend(r.prototype,{any:function(){return 0!==this.count()},concat:ge.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,o=this.length;e<o;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new r(e[t],this[t]):null},filter:function(t){var e=[];if(ge.filter)e=ge.filter.call(this,t,this);else for(var o=0,n=this.length;o<n;o++)t.call(this,this[o],o,this)&&e.push(this[o]);return new r(this.context,e)},flatten:function(){var t=[];return new r(this.context,t.concat.apply(t,this.toArray()))},join:ge.join,indexOf:ge.indexOf||function(t,e){for(var o=e||0,n=this.length;o<n;o++)if(this[o]===t)return o;return-1},iterator:function(t,e,o,i){var s,a,l,c,u,d,h,p,f=[],m=this.context,g=this.selector;for("string"==typeof t&&(i=o,o=e,e=t,t=!1),a=0,l=m.length;a<l;a++){var v=new r(m[a]);if("table"===e)(s=o.call(v,m[a],a))!==n&&f.push(s);else if("columns"===e||"rows"===e)(s=o.call(v,m[a],this[a],a))!==n&&f.push(s);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[a],"column-rows"===e&&(d=xe(m[a],g.opts)),c=0,u=h.length;c<u;c++)p=h[c],(s="cell"===e?o.call(v,m[a],p.row,p.column,a,c):o.call(v,m[a],p,a,c,d))!==n&&f.push(s)}if(f.length||i){var b=new r(m,t?f.concat.apply([],f):f),y=b.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,b}return this},lastIndexOf:ge.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ge.map)e=ge.map.call(this,t,this);else for(var o=0,n=this.length;o<n;o++)e.push(t.call(this,this[o],o));return new r(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:ge.pop,push:ge.push,reduce:ge.reduce||function(t,e){return O(this,t,e,0,this.length,1)},reduceRight:ge.reduceRight||function(t,e){return O(this,t,e,this.length-1,-1,-1)},reverse:ge.reverse,selector:null,shift:ge.shift,slice:function(){return new r(this.context,this)},sort:ge.sort,splice:ge.splice,toArray:function(){return ge.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new r(this.context,C(this))},unshift:ge.unshift}),r.extend=function(e,o,n){if(n.length&&o&&(o instanceof r||o.__dt_wrapper)){var i,s,a,l=function(t,e,o){return function(){var n=e.apply(t,arguments);return r.extend(n,n,o.methodExt),n}};for(i=0,s=n.length;i<s;i++)o[(a=n[i]).name]="function"==typeof a.val?l(e,a.val,a):t.isPlainObject(a.val)?{}:a.val,o[a.name].__dt_wrapper=!0,r.extend(e,o[a.name],a.propExt)}},r.register=s=function(e,o){if(t.isArray(e))for(var n=0,i=e.length;n<i;n++)r.register(e[n],o);else{var s,a,l,c,u=e.split("."),d=me,h=function(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o].name===e)return t[o];return null};for(s=0,a=u.length;s<a;s++){var p=h(d,l=(c=-1!==u[s].indexOf("()"))?u[s].replace("()",""):u[s]);p||(p={name:l,val:{},methodExt:[],propExt:[]},d.push(p)),s===a-1?p.val=o:d=c?p.methodExt:p.propExt}}},r.registerPlural=a=function(e,o,i){r.register(e,i),r.register(o,function(){var e=i.apply(this,arguments);return e===this?this:e instanceof r?e.length?t.isArray(e[0])?new r(e.context,e[0]):e[0]:n:e})};s("tables()",function(e){return e?new r(function(e,o){if("number"==typeof e)return[o[e]];var n=t.map(o,function(t,e){return t.nTable});return t(n).filter(e).map(function(e){var i=t.inArray(this,n);return o[i]}).toArray()}(e,this.context)):this}),s("table()",function(t){var e=this.tables(t),o=e.context;return o.length?new r(o[0]):e}),a("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),a("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),a("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),a("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),a("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),s("draw()",function(t){return this.iterator("table",function(e){"page"===t?at(e):("string"==typeof t&&(t="full-hold"!==t),lt(e,!1===t))})}),s("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){Ft(e,t)})}),s("page.info()",function(t){if(0===this.context.length)return n;var e=this.context[0],o=e._iDisplayStart,i=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),s=-1===i;return{page:s?0:Math.floor(o/i),pages:s?1:Math.ceil(r/i),start:o,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===fe(e)}}),s("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){zt(e,t)})});var ve=function(t,e,o){if(o){var n=new r(t);n.one("draw",function(){o(n.ajax.json())})}if("ssp"==fe(t))lt(t,e);else{$t(t,!0);var i=t.jqXHR;i&&4!==i.readyState&&i.abort(),ht(t,[],function(o){Q(t);for(var n=gt(t,o),i=0,r=n.length;i<r;i++)W(t,n[i]);lt(t,e),$t(t,!1)})}};s("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),s("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),s("ajax.reload()",function(t,e){return this.iterator("table",function(o){ve(o,!1===e,t)})}),s("ajax.url()",function(e){var o=this.context;return e===n?0===o.length?n:(o=o[0]).ajax?t.isPlainObject(o.ajax)?o.ajax.url:o.ajax:o.sAjaxSource:this.iterator("table",function(o){t.isPlainObject(o.ajax)?o.ajax.url=e:o.ajax=e})}),s("ajax.url().load()",function(t,e){return this.iterator("table",function(o){ve(o,!1===e,t)})});var be=function(e,o,r,s,a){var l,c,u,d,h,p,f=[],m=typeof o;for(o&&"string"!==m&&"function"!==m&&o.length!==n||(o=[o]),u=0,d=o.length;u<d;u++)for(h=0,p=(c=o[u]&&o[u].split&&!o[u].match(/[\[\(:]/)?o[u].split(","):[o[u]]).length;h<p;h++)(l=r("string"==typeof c[h]?t.trim(c[h]):c[h]))&&l.length&&(f=f.concat(l));var g=i.selector[e];if(g.length)for(u=0,d=g.length;u<d;u++)f=g[u](s,a,f);return C(f)},ye=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},we=function(t){for(var e=0,o=t.length;e<o;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},xe=function(e,o){var n,i,r,s=[],a=e.aiDisplay,l=e.aiDisplayMaster,c=o.search,u=o.order,d=o.page;if("ssp"==fe(e))return"removed"===c?[]:S(0,l.length);if("current"==d)for(n=e._iDisplayStart,i=e.fnDisplayEnd();n<i;n++)s.push(a[n]);else if("current"==u||"applied"==u)s="none"==c?l.slice():"applied"==c?a.slice():t.map(l,function(e,o){return-1===t.inArray(e,a)?e:null});else if("index"==u||"original"==u)for(n=0,i=e.aoData.length;n<i;n++)"none"==c?s.push(n):(-1===(r=t.inArray(n,a))&&"removed"==c||r>=0&&"applied"==c)&&s.push(n);return s};s("rows()",function(e,o){e===n?e="":t.isPlainObject(e)&&(o=e,e=""),o=ye(o);var i=this.iterator("table",function(i){return function(e,o,i){var r;return be("row",o,function(o){var s=g(o);if(null!==s&&!i)return[s];if(r||(r=xe(e,i)),null!==s&&-1!==t.inArray(s,r))return[s];if(null===o||o===n||""===o)return r;if("function"==typeof o)return t.map(r,function(t){var n=e.aoData[t];return o(t,n._aData,n.nTr)?t:null});var a=k(x(e.aoData,r,"nTr"));if(o.nodeName){if(o._DT_RowIndex!==n)return[o._DT_RowIndex];if(o._DT_CellIndex)return[o._DT_CellIndex.row];var l=t(o).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof o&&"#"===o.charAt(0)){var c=e.aIds[o.replace(/^#/,"")];if(c!==n)return[c.idx]}return t(a).filter(o).map(function(){return this._DT_RowIndex}).toArray()},e,i)}(i,e,o)},1);return i.selector.rows=e,i.selector.opts=o,i}),s("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),s("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return x(t.aoData,e,"_aData")},1)}),a("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,o){var n=e.aoData[o];return"search"===t?n._aFilterData:n._aSortData},1)}),a("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,o){et(e,o,t)})}),a("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),a("rows().ids()","row().id()",function(t){for(var e=[],o=this.context,n=0,i=o.length;n<i;n++)for(var s=0,a=this[n].length;s<a;s++){var l=o[n].rowIdFn(o[n].aoData[this[n][s]]._aData);e.push((!0===t?"#":"")+l)}return new r(o,e)}),a("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,o,i){var r,s,a,l,c,u,d=e.aoData,h=d[o];for(d.splice(o,1),r=0,s=d.length;r<s;r++)if(u=(c=d[r]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=r),null!==u)for(a=0,l=u.length;a<l;a++)u[a]._DT_CellIndex.row=r;tt(e.aiDisplayMaster,o),tt(e.aiDisplay,o),tt(t[i],o,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,he(e);var p=e.rowIdFn(h._aData);p!==n&&delete e.aIds[p]}),this.iterator("table",function(t){for(var e=0,o=t.aoData.length;e<o;e++)t.aoData[e].idx=e}),this}),s("rows.add()",function(e){var o=this.iterator("table",function(t){var o,n,i,r=[];for(n=0,i=e.length;n<i;n++)(o=e[n]).nodeName&&"TR"===o.nodeName.toUpperCase()?r.push(q(t,o)[0]):r.push(W(t,o));return r},1),n=this.rows(-1);return n.pop(),t.merge(n,o),n}),s("row()",function(t,e){return we(this.rows(t,e))}),s("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,et(e[0],this[0],"data"),this)}),s("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),s("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var o=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?q(t,e)[0]:W(t,e)});return this.row(o[0])});var Se=function(t,e){var o=t.context;if(o.length){var i=o[0].aoData[e!==n?e:t[0]];i&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)}},ke=function(t,e){var o=t.context;if(o.length&&t.length){var n=o[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Te(o[0]))}},Te=function(t){var e=new r(t),o=".dt.DT_details",n="draw"+o,i="column-visibility"+o,s="destroy"+o,a=t.aoData;e.off(n+" "+i+" "+s),w(a,"_details").length>0&&(e.on(n,function(o,n){t===n&&e.rows({page:"current"}).eq(0).each(function(t){var e=a[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(i,function(e,o,n,i){if(t===o)for(var r,s=$(o),l=0,c=a.length;l<c;l++)(r=a[l])._details&&r._details.children("td[colspan]").attr("colspan",s)}),e.on(s,function(o,n){if(t===n)for(var i=0,r=a.length;i<r;i++)a[i]._details&&Se(e,i)}))},Ce="row().child",De=Ce+"()";s(De,function(e,o){var i=this.context;return e===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(!0===e?this.child.show():!1===e?Se(this):i.length&&this.length&&function(e,o,n,i){var r=[],s=function(o,n){if(t.isArray(o)||o instanceof t)for(var i=0,a=o.length;i<a;i++)s(o[i],n);else if(o.nodeName&&"tr"===o.nodeName.toLowerCase())r.push(o);else{var l=t("<tr><td/></tr>").addClass(n);t("td",l).addClass(n).html(o)[0].colSpan=$(e),r.push(l[0])}};s(n,i),o._details&&o._details.detach(),o._details=t(r),o._detailsShow&&o._details.insertAfter(o.nTr)}(i[0],i[0].aoData[this[0]],e,o),this)}),s([Ce+".show()",De+".show()"],function(t){return ke(this,!0),this}),s([Ce+".hide()",De+".hide()"],function(){return ke(this,!1),this}),s([Ce+".remove()",De+".remove()"],function(){return Se(this),this}),s(Ce+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Ie=/^([^:]+):(name|visIdx|visible)$/,Ee=function(t,e,o,n,i){for(var r=[],s=0,a=i.length;s<a;s++)r.push(U(t,i[s],e));return r};s("columns()",function(e,o){e===n?e="":t.isPlainObject(e)&&(o=e,e=""),o=ye(o);var i=this.iterator("table",function(n){return function(e,o,n){var i=e.aoColumns,r=w(i,"sName"),s=w(i,"nTh");return be("column",o,function(o){var a=g(o);if(""===o)return S(i.length);if(null!==a)return[a>=0?a:i.length+a];if("function"==typeof o){var l=xe(e,n);return t.map(i,function(t,n){return o(n,Ee(e,n,0,0,l),s[n])?n:null})}var c="string"==typeof o?o.match(Ie):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=t.map(i,function(t,e){return t.bVisible?e:null});return[d[d.length+u]]}return[F(e,u)];case"name":return t.map(r,function(t,e){return t===c[1]?e:null});default:return[]}if(o.nodeName&&o._DT_CellIndex)return[o._DT_CellIndex.column];var h=t(s).filter(o).map(function(){return t.inArray(this,s)}).toArray();if(h.length||!o.nodeName)return h;var p=t(o).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]},e,n)}(n,e,o)},1);return i.selector.cols=e,i.selector.opts=o,i}),a("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),a("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),a("columns().data()","column().data()",function(){return this.iterator("column-rows",Ee,1)}),a("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),a("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,o,n,i,r){return x(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",o)},1)}),a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,o,n,i){return x(t.aoData,i,"anCells",e)},1)}),a("columns().visible()","column().visible()",function(e,o){var i=this.iterator("column",function(o,i){if(e===n)return o.aoColumns[i].bVisible;!function(e,o,i){var r,s,a,l,c=e.aoColumns,u=c[o],d=e.aoData;if(i===n)return u.bVisible;if(u.bVisible!==i){if(i){var h=t.inArray(!0,w(c,"bVisible"),o+1);for(s=0,a=d.length;s<a;s++)l=d[s].nTr,r=d[s].anCells,l&&l.insertBefore(r[o],r[h]||null)}else t(w(e.aoData,"anCells",o)).detach();u.bVisible=i,st(e,e.aoHeader),st(e,e.aoFooter),ne(e)}}(o,i,e)});return e!==n&&(this.iterator("column",function(t,n){de(t,null,"column-visibility",[t,n,e,o])}),(o===n||o)&&this.columns.adjust()),i}),a("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,o){return"visible"===t?P(e,o):o},1)}),s("columns.adjust()",function(){return this.iterator("table",function(t){R(t)},1)}),s("column.index()",function(t,e){if(0!==this.context.length){var o=this.context[0];if("fromVisible"===t||"toData"===t)return F(o,e);if("fromData"===t||"toVisible"===t)return P(o,e)}}),s("column()",function(t,e){return we(this.columns(t,e))});s("cells()",function(e,o,i){if(t.isPlainObject(e)&&(e.row===n?(i=e,e=null):(i=o,o=null)),t.isPlainObject(o)&&(i=o,o=null),null===o||o===n)return this.iterator("table",function(o){return function(e,o,i){var r,s,a,l,c,u,d,h=e.aoData,p=xe(e,i),f=k(x(h,p,"anCells")),m=t([].concat.apply([],f)),g=e.aoColumns.length;return be("cell",o,function(o){var i="function"==typeof o;if(null===o||o===n||i){for(s=[],a=0,l=p.length;a<l;a++)for(r=p[a],c=0;c<g;c++)u={row:r,column:c},i?(d=h[r],o(u,U(e,r,c),d.anCells?d.anCells[c]:null)&&s.push(u)):s.push(u);return s}if(t.isPlainObject(o))return[o];var f=m.filter(o).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return f.length||!o.nodeName?f:(d=t(o).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},e,i)}(o,e,ye(i))});var r,s,a,l,c,u=this.columns(o,i),d=this.rows(e,i),h=this.iterator("table",function(t,e){for(r=[],s=0,a=d[e].length;s<a;s++)for(l=0,c=u[e].length;l<c;l++)r.push({row:d[e][s],column:u[e][l]});return r},1);return t.extend(h.selector,{cols:o,rows:e,opts:i}),h}),a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,o){var i=t.aoData[e];return i&&i.anCells?i.anCells[o]:n},1)}),s("cells().data()",function(){return this.iterator("cell",function(t,e,o){return U(t,e,o)},1)}),a("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,o,n){return e.aoData[o][t][n]},1)}),a("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,o,n){return U(e,o,n,t)},1)}),a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,o){return{row:e,column:o,columnVisible:P(t,o)}},1)}),a("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,o,n){et(e,o,t,n)})}),s("cell()",function(t,e,o){return we(this.cells(t,e,o))}),s("cell().data()",function(t){var e=this.context,o=this[0];return t===n?e.length&&o.length?U(e[0],o[0].row,o[0].column):n:(Y(e[0],o[0].row,o[0].column,t),et(e[0],o[0].row,"data",o[0].column),this)}),s("order()",function(e,o){var i=this.context;return e===n?0!==i.length?i[0].aaSorting:n:("number"==typeof e?e=[[e,o]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),s("order.listener()",function(t,e,o){return this.iterator("table",function(n){te(n,t,e,o)})}),s("order.fixed()",function(e){if(!e){var o=this.context,i=o.length?o[0].aaSortingFixed:n;return t.isArray(i)?{pre:i}:i}return this.iterator("table",function(o){o.aaSortingFixed=t.extend(!0,{},e)})}),s(["columns().order()","column().order()"],function(e){var o=this;return this.iterator("table",function(n,i){var r=[];t.each(o[i],function(t,o){r.push([o,e])}),n.aaSorting=r})}),s("search()",function(e,o,i,r){var s=this.context;return e===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&bt(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==o&&o,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),a("columns().search()","column().search()",function(e,o,i,r){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;if(e===n)return l[a].sSearch;s.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==o&&o,bSmart:null===i||i,bCaseInsensitive:null===r||r}),bt(s,s.oPreviousSearch,1))})}),s("state()",function(){return this.context.length?this.context[0].oSavedState:null}),s("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),s("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),s("state.save()",function(){return this.iterator("table",function(t){ne(t)})}),l.versionCheck=l.fnVersionCheck=function(t){for(var e,o,n=l.version.split("."),i=t.split("."),r=0,s=i.length;r<s;r++)if((e=parseInt(n[r],10)||0)!==(o=parseInt(i[r],10)||0))return e>o;return!0},l.isDataTable=l.fnIsDataTable=function(e){var o=t(e).get(0),n=!1;return e instanceof l.Api||(t.each(l.settings,function(e,i){var r=i.nScrollHead?t("table",i.nScrollHead)[0]:null,s=i.nScrollFoot?t("table",i.nScrollFoot)[0]:null;i.nTable!==o&&r!==o&&s!==o||(n=!0)}),n)},l.tables=l.fnTables=function(e){var o=!1;t.isPlainObject(e)&&(o=e.api,e=e.visible);var n=t.map(l.settings,function(o){if(!e||e&&t(o.nTable).is(":visible"))return o.nTable});return o?new r(n):n},l.camelToHungarian=I,s("$()",function(e,o){var n=this.rows(o).nodes(),i=t(n);return t([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),t.each(["on","one","off"],function(e,o){s(o+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var n=t(this.tables().nodes());return n[o].apply(n,e),this})}),s("clear()",function(){return this.iterator("table",function(t){Q(t)})}),s("settings()",function(){return new r(this.context,this.context)}),s("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),s("data()",function(){return this.iterator("table",function(t){return w(t.aoData,"_aData")}).flatten()}),s("destroy()",function(o){return o=o||!1,this.iterator("table",function(n){var i,s=n.nTableWrapper.parentNode,a=n.oClasses,c=n.nTable,u=n.nTBody,d=n.nTHead,h=n.nTFoot,p=t(c),f=t(u),m=t(n.nTableWrapper),g=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,de(n,"aoDestroyCallback","destroy",[n]),o||new r(n).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),c!=d.parentNode&&(p.children("thead").detach(),p.append(d)),h&&c!=h.parentNode&&(p.children("tfoot").detach(),p.append(h)),n.aaSorting=[],n.aaSortingFixed=[],ee(n),t(g).removeClass(n.asStripeClasses.join(" ")),t("th, td",d).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),f.children().detach(),f.append(g);var v=o?"remove":"detach";p[v](),m[v](),!o&&s&&(s.insertBefore(c,n.nTableReinsertBefore),p.css("width",n.sDestroyWidth).removeClass(a.sTable),(i=n.asDestroyStripes.length)&&f.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%i])}));var b=t.inArray(n,l.settings);-1!==b&&l.settings.splice(b,1)})}),t.each(["column","row","cell"],function(t,e){s(e+"s().every()",function(t){var o=this.selector.opts,i=this;return this.iterator(e,function(r,s,a,l,c){t.call(i[e](s,"cell"===e?a:o,"cell"===e?o:n),s,a,l,c)})})}),s("i18n()",function(e,o,i){var r=this.context[0],s=J(e)(r.oLanguage);return s===n&&(s=o),i!==n&&t.isPlainObject(s)&&(s=s[i]!==n?s[i]:s._),s.replace("%d",i)}),l.version="1.10.16",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},D(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},D(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==fe(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==fe(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,o=e+t,n=this.aiDisplay.length,i=this.oFeatures,r=i.bPaginate;return i.bServerSide?!1===r||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!r||o>n||-1===t?n:o},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=i={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},t.extend(i,{afnFiltering:i.search,aTypes:i.type.detect,ofnSearch:i.type.search,oSort:i.type.order,afnSortData:i.order,aoFeatures:i.feature,oApi:i.internal,oStdClasses:i.classes,oPagination:i.pager}),t.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae=l.ext.pager;function Le(t,e){var o=[],n=Ae.numbers_length,i=Math.floor(n/2);return e<=n?o=S(0,e):t<=i?((o=S(0,n-2)).push("ellipsis"),o.push(e-1)):t>=e-1-i?((o=S(e-(n-2),e)).splice(0,0,"ellipsis"),o.splice(0,0,0)):((o=S(t-i+2,t+i-1)).push("ellipsis"),o.push(e-1),o.splice(0,0,"ellipsis"),o.splice(0,0,0)),o.DT_el="span",o}t.extend(Ae,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Le(t,e)]},simple_numbers:function(t,e){return["previous",Le(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Le(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Le(t,e),"last"]},_numbers:Le,numbers_length:7}),t.extend(!0,l.ext.renderer,{pageButton:{_:function(e,i,r,s,a,l){var c,u,d,h=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=0,g=function(o,n){var i,s,d,v=function(t){Ft(e,t.data.action,!0)};for(i=0,s=n.length;i<s;i++)if(d=n[i],t.isArray(d)){var b=t("<"+(d.DT_el||"div")+"/>").appendTo(o);g(b,d)}else{switch(c=null,u="",d){case"ellipsis":o.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,u=d+(a>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=p.sPrevious,u=d+(a>0?"":" "+h.sPageButtonDisabled);break;case"next":c=p.sNext,u=d+(a<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=p.sLast,u=d+(a<l-1?"":" "+h.sPageButtonDisabled);break;default:c=d+1,u=a===d?h.sPageButtonActive:""}null!==c&&(ce(t("<a>",{class:h.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":f[d],"data-dt-idx":m,tabindex:e.iTabIndex,id:0===r&&"string"==typeof d?e.sTableId+"_"+d:null}).html(c).appendTo(o),{action:d},v),m++)}};try{d=t(i).find(o.activeElement).data("dt-idx")}catch(t){}g(t(i).empty(),s),d!==n&&t(i).find("[data-dt-idx="+d+"]").focus()}}}),t.extend(l.ext.type.detect,[function(t,e){var o=e.oLanguage.sDecimal;return b(t,o)?"num"+o:null},function(t,e){if(t&&!(t instanceof Date)&&!h.test(t))return null;var o=Date.parse(t);return null!==o&&!isNaN(o)||m(t)?"date":null},function(t,e){var o=e.oLanguage.sDecimal;return b(t,o,!0)?"num-fmt"+o:null},function(t,e){var o=e.oLanguage.sDecimal;return y(t,o)?"html-num"+o:null},function(t,e){var o=e.oLanguage.sDecimal;return y(t,o,!0)?"html-num-fmt"+o:null},function(t,e){return m(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(l.ext.type.search,{html:function(t){return m(t)?t:"string"==typeof t?t.replace(u," ").replace(d,""):""},string:function(t){return m(t)?t:"string"==typeof t?t.replace(u," "):t}});var _e=function(t,e,o,n){return 0===t||t&&"-"!==t?(e&&(t=v(t,e)),t.replace&&(o&&(t=t.replace(o,"")),n&&(t=t.replace(n,""))),1*t):-1/0};function Me(e){t.each({num:function(t){return _e(t,e)},"num-fmt":function(t){return _e(t,e,f)},"html-num":function(t){return _e(t,e,d)},"html-num-fmt":function(t){return _e(t,e,d,f)}},function(t,o){i.type.order[t+e+"-pre"]=o,t.match(/^html\-/)&&(i.type.search[t+e]=i.type.search.html)})}t.extend(i.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return m(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return m(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Me(""),t.extend(!0,l.ext.renderer,{header:{_:function(e,o,n,i){t(e.nTable).on("order.dt.DT",function(t,r,s,a){if(e===r){var l=n.idx;o.removeClass(n.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[l]?i.sSortAsc:"desc"==a[l]?i.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,o,n,i){t("<div/>").addClass(i.sSortJUIWrapper).append(o.contents()).append(t("<span/>").addClass(i.sSortIcon+" "+n.sSortingClassJUI)).appendTo(o),t(e.nTable).on("order.dt.DT",function(t,r,s,a){if(e===r){var l=n.idx;o.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[l]?i.sSortAsc:"desc"==a[l]?i.sSortDesc:n.sSortingClass),o.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==a[l]?i.sSortJUIAsc:"desc"==a[l]?i.sSortJUIDesc:n.sSortingClassJUI)}})}}});var Oe=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};l.render={number:function(t,e,o,n,i){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var s=r<0?"-":"",a=parseFloat(r);if(isNaN(a))return Oe(r);a=a.toFixed(o),r=Math.abs(a);var l=parseInt(r,10),c=o?e+(r-l).toFixed(o).substring(2):"";return s+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(i||"")}}},text:function(){return{display:Oe}}};function ze(t){return function(){var e=[re(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[t].apply(this,e)}}return t.extend(l.ext.internal,{_fnExternApiFunc:ze,_fnBuildAjax:ht,_fnAjaxUpdate:pt,_fnAjaxParameters:ft,_fnAjaxUpdateDraw:mt,_fnAjaxDataSrc:gt,_fnAddColumn:z,_fnColumnOptions:N,_fnAdjustColumnSizing:R,_fnVisibleToColumnIndex:F,_fnColumnIndexToVisible:P,_fnVisbleColumns:$,_fnGetColumns:H,_fnColumnTypes:j,_fnApplyColumnDefs:B,_fnHungarianMap:D,_fnCamelToHungarian:I,_fnLanguageCompat:E,_fnBrowserDetect:M,_fnAddData:W,_fnAddTr:q,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,o,n){return t.inArray(n,e.aoData[o].anCells)},_fnGetCellData:U,_fnSetCellData:Y,_fnSplitObjNotation:X,_fnGetObjectDataFn:J,_fnSetObjectDataFn:K,_fnGetDataMaster:Z,_fnClearTable:Q,_fnDeleteIndex:tt,_fnInvalidate:et,_fnGetRowElements:ot,_fnCreateTr:nt,_fnBuildHead:rt,_fnDrawHead:st,_fnDraw:at,_fnReDraw:lt,_fnAddOptionsHtml:ct,_fnDetectHeader:ut,_fnGetUniqueThs:dt,_fnFeatureHtmlFilter:vt,_fnFilterComplete:bt,_fnFilterCustom:yt,_fnFilterColumn:wt,_fnFilter:xt,_fnFilterCreateSearch:St,_fnEscapeRegex:kt,_fnFilterData:Dt,_fnFeatureHtmlInfo:At,_fnUpdateInfo:Lt,_fnInfoMacros:_t,_fnInitialise:Mt,_fnInitComplete:Ot,_fnLengthChange:zt,_fnFeatureHtmlLength:Nt,_fnFeatureHtmlPaginate:Rt,_fnPageChange:Ft,_fnFeatureHtmlProcessing:Pt,_fnProcessingDisplay:$t,_fnFeatureHtmlTable:Ht,_fnScrollDraw:jt,_fnApplyToChildren:Bt,_fnCalculateColumnWidths:qt,_fnThrottle:Ut,_fnConvertToWidth:Yt,_fnGetWidestNode:Vt,_fnGetMaxLenString:Gt,_fnStringToCss:Xt,_fnSortFlatten:Jt,_fnSort:Kt,_fnSortAria:Zt,_fnSortListener:Qt,_fnSortAttachListener:te,_fnSortingClasses:ee,_fnSortData:oe,_fnSaveState:ne,_fnLoadState:ie,_fnSettingsFromNode:re,_fnLog:se,_fnMap:ae,_fnBindAction:ce,_fnCallbackReg:ue,_fnCallbackFire:de,_fnLengthOverflow:he,_fnRenderer:pe,_fnDataSource:fe,_fnRowAttributes:it,_fnCalculateEnd:function(){}}),t.fn.dataTable=l,l.$=t,t.fn.dataTableSettings=l.settings,t.fn.dataTableExt=l.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(l,function(e,o){t.fn.DataTable[e]=o}),t.fn.dataTable}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,o){return e||(e=window),o&&o.fn.dataTable||(o=require("datatables.net")(e,o).$),t(o,e,e.document)}:t(jQuery,window,document)}(function(t,e,o,n){"use strict";var i=t.fn.dataTable;return t.extend(!0,i.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(i.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),i.ext.renderer.pageButton.bootstrap=function(e,r,s,a,l,c){var u,d,h,p=new i.Api(e),f=e.oClasses,m=e.oLanguage.oPaginate,g=e.oLanguage.oAria.paginate||{},v=0,b=function(o,n){var i,r,a,h,y=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||p.page()==e.data.action||p.page(e.data.action).draw("page")};for(i=0,r=n.length;i<r;i++)if(h=n[i],t.isArray(h))b(o,h);else{switch(u="",d="",h){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=m.sFirst,d=h+(l>0?"":" disabled");break;case"previous":u=m.sPrevious,d=h+(l>0?"":" disabled");break;case"next":u=m.sNext,d=h+(l<c-1?"":" disabled");break;case"last":u=m.sLast,d=h+(l<c-1?"":" disabled");break;default:u=h+1,d=l===h?"active":""}u&&(a=t("<li>",{class:f.sPageButton+" "+d,id:0===s&&"string"==typeof h?e.sTableId+"_"+h:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":g[h],"data-dt-idx":v,tabindex:e.iTabIndex}).html(u)).appendTo(o),e.oApi._fnBindAction(a,{action:h},y),v++)}};try{h=t(r).find(o.activeElement).data("dt-idx")}catch(t){}b(t(r).empty().html('<ul class="pagination"/>').children("ul"),a),h!==n&&t(r).find("[data-dt-idx="+h+"]").focus()},i}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=!1,o=!1,n=0,i=2e3,r=0,s=t,a=document,l=window,c=s(l),u=[],d=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(d)l.cancelAnimationFrame||(h=function(t){});else{var p=0;d=function(t,e){var o=(new Date).getTime(),n=Math.max(0,16-(o-p)),i=l.setTimeout(function(){t(o+n)},n);return p=o+n,i},h=function(t){l.clearTimeout(t)}}var f=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=a.currentScript||function(){var t=a.getElementsByTagName("script");return!!t.length&&t[t.length-1]}(),e=t?t.src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,b=function(t,p){function b(){var t=T.doc.css(L.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function w(t,e,o){var n=t.css(e),i=parseFloat(n);if(isNaN(i)){var r=3==(i=O[n]||0)?o?T.win.outerHeight()-T.win.innerHeight():T.win.outerWidth()-T.win.innerWidth():1;return T.isie8&&i&&(i+=1),r?i:0}return i}function x(t,e,o,n){T._bind(t,e,function(n){var i={original:n=n||l.event,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==e?(n.wheelDeltaX&&(i.deltaX=-.025*n.wheelDeltaX),n.wheelDeltaY&&(i.deltaY=-.025*n.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*n.wheelDelta)):i.deltaY=n.detail,o.call(t,i)},n)}function S(t,e,o,n){T.scrollrunning||(T.newscrolly=T.getScrollTop(),T.newscrollx=T.getScrollLeft(),$=m());var i=m()-$;if($=m(),i>350?H=1:H+=(2-H)/10,e=e*H|0,t=t*H|0){if(n)if(t<0){if(T.getScrollLeft()>=T.page.maxw)return!0}else if(T.getScrollLeft()<=0)return!0;var r=t>0?1:-1;P!==r&&(T.scrollmom&&T.scrollmom.stop(),T.newscrollx=T.getScrollLeft(),P=r),T.lastdeltax-=t}if(e){if(function(){var t=T.getScrollTop();if(e<0){if(t>=T.page.maxh)return!0}else if(t<=0)return!0}()){if(D.nativeparentscrolling&&o&&!T.ispage&&!T.zoomactive)return!0;var s=T.view.h>>1;T.newscrolly<-s?(T.newscrolly=-s,e=-1):T.newscrolly>T.page.maxh+s?(T.newscrolly=T.page.maxh+s,e=1):e=0}var a=e>0?1:-1;F!==a&&(T.scrollmom&&T.scrollmom.stop(),T.newscrolly=T.getScrollTop(),F=a),T.lastdeltay-=e}(e||t)&&T.synched("relativexy",function(){var t=T.lastdeltay+T.newscrolly;T.lastdeltay=0;var e=T.lastdeltax+T.newscrollx;T.lastdeltax=0,T.rail.drag||T.doScrollPos(e,t)})}function k(t,e,o){var n,i;return!(o||!j)||(0===t.deltaMode?(n=-t.deltaX*(D.mousescrollstep/54)|0,i=-t.deltaY*(D.mousescrollstep/54)|0):1===t.deltaMode&&(n=-t.deltaX*D.mousescrollstep*50/80|0,i=-t.deltaY*D.mousescrollstep*50/80|0),e&&D.oneaxismousemode&&0===n&&i&&(n=i,i=0,o&&(n<0?T.getScrollLeft()>=T.page.maxw:T.getScrollLeft()<=0)&&(i=n,n=0)),T.isrtlmode&&(n=-n),S(n,i,o,!0)?void(o&&(j=!0)):(j=!1,t.stopImmediatePropagation(),t.preventDefault()))}var T=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var C=s("body"),D=this.opt={doc:C,win:!1};if(s.extend(D,g),D.snapbackspeed=80,t)for(var I in D)void 0!==t[I]&&(D[I]=t[I]);if(D.disablemutationobserver&&(f=!1),this.doc=D.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(D.win?D.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==D.win,this.win=D.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=C,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=D.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==D.rtlmode){var E=this.win[0]==l?this.body:this.win,A=E.css("writing-mode")||E.css("-webkit-writing-mode")||E.css("-ms-writing-mode")||E.css("-moz-writing-mode");"horizontal-tb"==A||"lr-tb"==A||""===A?(this.isrtlmode="rtl"==E.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==A||"tb"==A||"tb-rl"==A||"rl-tb"==A,this.isvertical="vertical-rl"==A||"tb"==A||"tb-rl"==A)}else this.isrtlmode=!0===D.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==D.scrollbarid)this.id=D.scrollbarid;else do{this.id="ascrail"+i++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=D.overflowx,this.overflowy=D.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(v)return v;var t=a.createElement("DIV"),e=t.style,o=navigator.userAgent,n=navigator.platform,i={};return i.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,i.isopera="opera"in l,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),i.isie="all"in a&&"attachEvent"in t&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in e),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in a)||7===a.documentMode),i.isie8=i.isie&&"documentMode"in a&&8===a.documentMode,i.isie9=i.isie&&"performance"in l&&9===a.documentMode,i.isie10=i.isie&&"performance"in l&&10===a.documentMode,i.isie11="msRequestFullscreen"in t&&a.documentMode>=11,i.ismsedge="msCredentials"in l,i.ismozilla="MozAppearance"in e,i.iswebkit=!i.ismsedge&&"WebkitAppearance"in e,i.ischrome=i.iswebkit&&"chrome"in l,i.ischrome38=i.ischrome&&"touchAction"in e,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in e,i.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,i.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(l.MSPointerEvent||!1),i.ismac=/^mac$/i.test(n),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(n),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in a,i.isios8=i.isios&&"hidden"in a,i.isios10=i.isios&&l.Proxy,i.isandroid=/android/i.test(o),i.haseventlistener="addEventListener"in t,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1,i.trstyle="transform",i.hastransform="transform"in e||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,n=t.length;o<n;o++)if(void 0!==e[t[o]]){i.trstyle=t[o];break}i.hastransform=!!i.trstyle}(),i.hastransform&&(e[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(e[i.trstyle])),i.transitionstyle="transition",i.prefixstyle="",i.transitionend="transitionend",i.hastransition="transition"in e||function(){i.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],n=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,s=t.length;r<s;r++)if(t[r]in e){i.transitionstyle=t[r],i.prefixstyle=o[r],i.transitionend=n[r];break}i.ischrome26&&(i.prefixstyle=o[1]),i.hastransition=i.transitionstyle}(),i.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(t=[]);for(var o=0,n=t.length;o<n;o++){var r=t[o];if(e.cursor=r,e.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in t,i.hasMutationObserver=!1!==f,t=null,v=i,i}();var L=s.extend({},this.detected);this.canhwscroll=L.hastransform&&D.hwacceleration,this.ishwscroll=this.canhwscroll&&T.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(L.iswebkit||L.isie||L.isie11):this.hasreversehr=!(L.iswebkit||L.isie&&!L.isie10&&!L.isie11):this.hasreversehr=!1,this.istouchcapable=!1,L.cantouch||!L.hasw3ctouch&&!L.hasmstouch?!L.cantouch||L.isios||L.isandroid||!L.iswebkit&&!L.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,D.enablemouselockapi||(L.hasmousecapture=!1,L.haspointerlock=!1),this.debounced=function(t,e,o){T&&(T.delaylist[t]||(T.delaylist[t]={h:d(function(){T.delaylist[t].fn.call(T),T.delaylist[t]=!1},o)},e.call(T)),T.delaylist[t].fn=e)},this.synched=function(t,e){T.synclist[t]?T.synclist[t]=e:(T.synclist[t]=e,d(function(){T&&(T.synclist[t]&&T.synclist[t].call(T),T.synclist[t]=null)}))},this.unsynched=function(t){T.synclist[t]&&(T.synclist[t]=!1)},this.css=function(t,e){for(var o in e)T.saved.css.push([t,o,t.css(o)]),t.css(o,e[o])},this.scrollTop=function(t){return void 0===t?T.getScrollTop():T.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?T.getScrollLeft():T.setScrollLeft(t)};var _=function(t,e,o,n,i,r,s){this.st=t,this.ed=e,this.spd=o,this.p1=n||0,this.p2=i||1,this.p3=r||0,this.p4=s||1,this.ts=m(),this.df=e-t};if(_.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var t=(m()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t>=1?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},L.hastranslate3d&&L.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=b();if(e)return 16==e.length?-e[13]:-e[5];if(T.timerscroll&&T.timerscroll.bz)return T.timerscroll.bz.getNow()}return T.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=b();if(e)return 16==e.length?-e[12]:-e[4];if(T.timerscroll&&T.timerscroll.bh)return T.timerscroll.bh.getNow()}return T.doc.translate.x},this.notifyScrollEvent=function(t){var e=a.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,l,1),e.niceevent=!0,t.dispatchEvent(e)};var M=this.isrtlmode?1:-1;L.hastranslate3d&&D.enabletranslate3d?(this.setScrollTop=function(t,e){T.doc.translate.y=t,T.doc.translate.ty=-1*t+"px",T.doc.css(L.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),e||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(t,e){T.doc.translate.x=t,T.doc.translate.tx=t*M+"px",T.doc.css(L.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),e||T.notifyScrollEvent(T.win[0])}):(this.setScrollTop=function(t,e){T.doc.translate.y=t,T.doc.translate.ty=-1*t+"px",T.doc.css(L.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),e||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(t,e){T.doc.translate.x=t,T.doc.translate.tx=t*M+"px",T.doc.css(L.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),e||T.notifyScrollEvent(T.win[0])})}else this.getScrollTop=function(){return T.docscroll.scrollTop()},this.setScrollTop=function(t){T.docscroll.scrollTop(t)},this.getScrollLeft=function(){return T.hasreversehr?T.detected.ismozilla?T.page.maxw-Math.abs(T.docscroll.scrollLeft()):T.page.maxw-T.docscroll.scrollLeft():T.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(T)return T.hasreversehr&&(t=T.detected.ismozilla?-(T.page.maxw-t):T.page.maxw-t),T.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var o=t.target||t.srcElement||t||!1;o&&o.id!=e;)o=o.parentNode||!1;return!1!==o};var O={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(T.isfixed){var t=T.win.offset(),e=T.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var o=T.win.offset();if(!T.viewport)return o;var n=T.viewport.offset();return{top:o.top-n.top,left:o.left-n.left}},this.updateScrollBar=function(t){var e,o;if(T.ishwscroll)T.rail.css({height:T.win.innerHeight()-(D.railpadding.top+D.railpadding.bottom)}),T.railh&&T.railh.css({width:T.win.innerWidth()-(D.railpadding.left+D.railpadding.right)});else{var n=T.getOffset();if((e={top:n.top,left:n.left-(D.railpadding.left+D.railpadding.right)}).top+=w(T.win,"border-top-width",!0),e.left+=T.rail.align?T.win.outerWidth()-w(T.win,"border-right-width")-T.rail.width:w(T.win,"border-left-width"),(o=D.railoffset)&&(o.top&&(e.top+=o.top),o.left&&(e.left+=o.left)),T.railslocked||T.rail.css({top:e.top,left:e.left,height:(t?t.h:T.win.innerHeight())-(D.railpadding.top+D.railpadding.bottom)}),T.zoom&&T.zoom.css({top:e.top+1,left:1==T.rail.align?e.left-20:e.left+T.rail.width+4}),T.railh&&!T.railslocked){e={top:n.top,left:n.left},(o=D.railhoffset)&&(o.top&&(e.top+=o.top),o.left&&(e.left+=o.left));var i=T.railh.align?e.top+w(T.win,"border-top-width",!0)+T.win.innerHeight()-T.railh.height:e.top+w(T.win,"border-top-width",!0),r=e.left+w(T.win,"border-left-width");T.railh.css({top:i-(D.railpadding.top+D.railpadding.bottom),left:r,width:T.railh.width})}}},this.doRailClick=function(t,e,o){var n,i,r,s;T.railslocked||(T.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+a.documentElement.scrollLeft,t.pageY=t.clientY+a.documentElement.scrollTop),e?(n=o?T.doScrollLeft:T.doScrollTop,r=o?(t.pageX-T.railh.offset().left-T.cursorwidth/2)*T.scrollratio.x:(t.pageY-T.rail.offset().top-T.cursorheight/2)*T.scrollratio.y,T.unsynched("relativexy"),n(0|r)):(n=o?T.doScrollLeftBy:T.doScrollBy,r=o?T.scroll.x:T.scroll.y,s=o?t.pageX-T.railh.offset().left:t.pageY-T.rail.offset().top,i=o?T.view.w:T.view.h,n(r>=s?i:-i)))},T.newscrolly=T.newscrollx=0,T.hasanimationframe="requestAnimationFrame"in l,T.hascancelanimationframe="cancelAnimationFrame"in l,T.hasborderbox=!1,this.init=function(){if(T.saved.css=[],L.isoperamini)return!0;if(L.isandroid&&!("hidden"in a))return!0;D.emulatetouch=D.emulatetouch||D.touchbehavior,T.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var t={"overflow-y":"hidden"};if((L.isie11||L.isie10)&&(t["-ms-overflow-style"]="none"),T.ishwscroll&&(this.doc.css(L.transitionstyle,L.prefixstyle+"transform 0ms ease-out"),L.transitionend&&T.bind(T.doc,L.transitionend,T.onScrollTransitionEnd,!1)),T.zindex="auto",T.ispage||"auto"!=D.zindex?T.zindex=D.zindex:T.zindex=function(){var t=T.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}()||"auto",!T.ispage&&"auto"!=T.zindex&&T.zindex>r&&(r=T.zindex),T.isie&&0===T.zindex&&"auto"==D.zindex&&(T.zindex="auto"),!T.ispage||!L.isieold){var i=T.docscroll;T.ispage&&(i=T.haswrapper?T.win:T.doc),T.css(i,t),T.ispage&&(L.isie11||L.isie)&&T.css(s("html"),t),!L.isios||T.ispage||T.haswrapper||T.css(C,{"-webkit-overflow-scrolling":"touch"});var u=s(a.createElement("div"));u.css({position:"relative",top:0,float:"right",width:D.cursorwidth,height:0,"background-color":D.cursorcolor,border:D.cursorborder,"background-clip":"padding-box","-webkit-border-radius":D.cursorborderradius,"-moz-border-radius":D.cursorborderradius,"border-radius":D.cursorborderradius}),u.addClass("nicescroll-cursors"),T.cursor=u;var d=s(a.createElement("div"));d.attr("id",T.id),d.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var g in m)p=m[g],(h=D.railpadding[p]||0)&&d.css("padding-"+p,h+"px");d.append(u),d.width=Math.max(parseFloat(D.cursorwidth),u.outerWidth()),d.css({width:d.width+"px",zIndex:T.zindex,background:D.background,cursor:"default"}),d.visibility=!0,d.scrollable=!0,d.align="left"==D.railalign?0:1,T.rail=d,T.rail.drag=!1;var v=!1;!D.boxzoom||T.ispage||L.isieold||(v=a.createElement("div"),T.bind(v,"click",T.doZoom),T.bind(v,"mouseenter",function(){T.zoom.css("opacity",D.cursoropacitymax)}),T.bind(v,"mouseleave",function(){T.zoom.css("opacity",D.cursoropacitymin)}),T.zoom=s(v),T.zoom.css({cursor:"pointer",zIndex:T.zindex,backgroundImage:"url("+D.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),D.dblclickzoom&&T.bind(T.win,"dblclick",T.doZoom),L.cantouch&&D.gesturezoom&&(T.ongesturezoom=function(t){return t.scale>1.5&&T.doZoomIn(t),t.scale<.8&&T.doZoomOut(t),T.cancelEvent(t)},T.bind(T.win,"gestureend",T.ongesturezoom))),T.railh=!1;var b;if(D.horizrailenabled&&(T.css(i,{overflowX:"hidden"}),(u=s(a.createElement("div"))).css({position:"absolute",top:0,height:D.cursorwidth,width:0,backgroundColor:D.cursorcolor,border:D.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":D.cursorborderradius,"-moz-border-radius":D.cursorborderradius,"border-radius":D.cursorborderradius}),L.isieold&&u.css("overflow","hidden"),u.addClass("nicescroll-cursors"),T.cursorh=u,(b=s(a.createElement("div"))).attr("id",T.id+"-hr"),b.addClass("nicescroll-rails nicescroll-rails-hr"),b.height=Math.max(parseFloat(D.cursorwidth),u.outerHeight()),b.css({height:b.height+"px",zIndex:T.zindex,background:D.background}),b.append(u),b.visibility=!0,b.scrollable=!0,b.align="top"==D.railvalign?0:1,T.railh=b,T.railh.drag=!1),T.ispage)d.css({position:"fixed",top:0,height:"100%"}),d.css(d.align?{right:0}:{left:0}),T.body.append(d),T.railh&&(b.css({position:"fixed",left:0,width:"100%"}),b.css(b.align?{bottom:0}:{top:0}),T.body.append(b));else{if(T.ishwscroll){"static"==T.win.css("position")&&T.css(T.win,{position:"relative"});var w="HTML"==T.win[0].nodeName?T.body:T.win;s(w).scrollTop(0).scrollLeft(0),T.zoom&&(T.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),w.append(T.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),w.append(d),b&&(b.css({position:"absolute",left:0,bottom:0}),b.css(b.align?{bottom:0}:{top:0}),w.append(b))}else{T.isfixed="fixed"==T.win.css("position");var x=T.isfixed?"fixed":"absolute";T.isfixed||(T.viewport=T.getViewport(T.win[0])),T.viewport&&(T.body=T.viewport,/fixed|absolute/.test(T.viewport.css("position"))||T.css(T.viewport,{position:"relative"})),d.css({position:x}),T.zoom&&T.zoom.css({position:x}),T.updateScrollBar(),T.body.append(d),T.zoom&&T.body.append(T.zoom),T.railh&&(b.css({position:x}),T.body.append(b))}L.isios&&T.css(T.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),D.disableoutline&&(L.isie&&T.win.attr("hideFocus","true"),L.iswebkit&&T.win.css("outline","none"))}if(!1===D.autohidemode?(T.autohidedom=!1,T.rail.css({opacity:D.cursoropacitymax}),T.railh&&T.railh.css({opacity:D.cursoropacitymax})):!0===D.autohidemode||"leave"===D.autohidemode?(T.autohidedom=s().add(T.rail),L.isie8&&(T.autohidedom=T.autohidedom.add(T.cursor)),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh)),T.railh&&L.isie8&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"scroll"==D.autohidemode?(T.autohidedom=s().add(T.rail),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh))):"cursor"==D.autohidemode?(T.autohidedom=s().add(T.cursor),T.railh&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"hidden"==D.autohidemode&&(T.autohidedom=!1,T.hide(),T.railslocked=!1),L.cantouch||T.istouchcapable||D.emulatetouch||L.hasmstouch){T.scrollmom=new y(T),T.ontouchstart=function(t){if(T.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(T.hasmoving=!1,T.scrollmom.timer&&(T.triggerScrollEnd(),T.scrollmom.stop()),!T.railslocked){var e=T.getTarget(t);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return T.stopPropagation(t);var o="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),T.forcescreen){var n=t;(t={original:t.original?t.original:t}).clientX=n.screenX,t.clientY=n.screenY}if(T.rail.drag={x:t.clientX,y:t.clientY,sx:T.scroll.x,sy:T.scroll.y,st:T.getScrollTop(),sl:T.getScrollLeft(),pt:2,dl:!1,tg:e},T.ispage||!D.directionlockdeadzone)T.rail.drag.dl="f";else{var i=c.width(),r=c.height(),a=T.getContentSize(),l=a.h-r,u=a.w-i;T.rail.scrollable&&!T.railh.scrollable?T.rail.drag.ck=l>0&&"v":!T.rail.scrollable&&T.railh.scrollable?T.rail.drag.ck=u>0&&"h":T.rail.drag.ck=!1}if(D.emulatetouch&&T.isiframe&&L.isie){var d=T.win.position();T.rail.drag.x+=d.left,T.rail.drag.y+=d.top}if(T.hasmoving=!1,T.lastmouseup=!1,T.scrollmom.reset(t.clientX,t.clientY),e&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return L.hasmousecapture&&e.setCapture(),D.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(T.hasmoving)return!1;e._onclick.call(this,t)}),T.cancelEvent(t)):T.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(s(e).attr("type"))&&(T.preventclick={tg:e,click:!1})}}},T.ontouchend=function(t){if(!T.rail.drag)return!0;if(2==T.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;T.rail.drag=!1;var e="mouseup"===t.type;if(T.hasmoving&&(T.scrollmom.doMomentum(),T.lastmouseup=!0,T.hideCursor(),L.hasmousecapture&&a.releaseCapture(),e))return T.cancelEvent(t)}else if(1==T.rail.drag.pt)return T.onmouseup(t)};var S=D.emulatetouch&&T.isiframe&&!L.hasmousecapture,k=.3*D.directionlockdeadzone|0;T.ontouchmove=function(t,e){if(!T.rail.drag)return!0;if(t.targetTouches&&D.preventmultitouchscrolling&&t.targetTouches.length>1)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==T.rail.drag.pt){"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);var o,n;if(n=o=0,S&&!e){var i=T.win.position();n=-i.left,o=-i.top}var r=t.clientY+o,s=r-T.rail.drag.y,l=t.clientX+n,c=l-T.rail.drag.x,u=T.rail.drag.st-s;if(T.ishwscroll&&D.bouncescroll)u<0?u=Math.round(u/2):u>T.page.maxh&&(u=T.page.maxh+Math.round((u-T.page.maxh)/2));else if(u<0?(u=0,r=0):u>T.page.maxh&&(u=T.page.maxh,r=0),0===r&&!T.hasmoving)return T.ispage||(T.rail.drag=!1),!0;var d=T.getScrollLeft();if(T.railh&&T.railh.scrollable&&(d=T.isrtlmode?c-T.rail.drag.sl:T.rail.drag.sl-c,T.ishwscroll&&D.bouncescroll?d<0?d=Math.round(d/2):d>T.page.maxw&&(d=T.page.maxw+Math.round((d-T.page.maxw)/2)):(d<0&&(d=0,l=0),d>T.page.maxw&&(d=T.page.maxw,l=0))),!T.hasmoving){if(T.rail.drag.y===t.clientY&&T.rail.drag.x===t.clientX)return T.cancelEvent(t);var h=Math.abs(s),p=Math.abs(c),f=D.directionlockdeadzone;if(T.rail.drag.ck?"v"==T.rail.drag.ck?p>f&&h<=k?T.rail.drag=!1:h>f&&(T.rail.drag.dl="v"):"h"==T.rail.drag.ck&&(h>f&&p<=k?T.rail.drag=!1:p>f&&(T.rail.drag.dl="h")):h>f&&p>f?T.rail.drag.dl="f":h>f?T.rail.drag.dl=p>k?"f":"v":p>f&&(T.rail.drag.dl=h>k?"f":"h"),!T.rail.drag.dl)return T.cancelEvent(t);T.triggerScrollStart(t.clientX,t.clientY,0,0,0),T.hasmoving=!0}return T.preventclick&&!T.preventclick.click&&(T.preventclick.click=T.preventclick.tg.onclick||!1,T.preventclick.tg.onclick=T.onpreventclick),T.rail.drag.dl&&("v"==T.rail.drag.dl?d=T.rail.drag.sl:"h"==T.rail.drag.dl&&(u=T.rail.drag.st)),T.synched("touchmove",function(){T.rail.drag&&2==T.rail.drag.pt&&(T.prepareTransition&&T.resetTransition(),T.rail.scrollable&&T.setScrollTop(u),T.scrollmom.update(l,r),T.railh&&T.railh.scrollable?(T.setScrollLeft(d),T.showCursor(u,d)):T.showCursor(u),L.isie10&&a.selection.clear())}),T.cancelEvent(t)}return 1==T.rail.drag.pt?T.onmousemove(t):void 0},T.ontouchstartCursor=function(t,e){if(!T.rail.drag||3==T.rail.drag.pt){if(T.locked)return T.cancelEvent(t);T.cancelScroll(),T.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:T.scroll.x,sy:T.scroll.y,pt:3,hr:!!e};var o=T.getTarget(t);return!T.ispage&&L.hasmousecapture&&o.setCapture(),T.isiframe&&!L.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.cancelEvent(t)}},T.ontouchendCursor=function(t){if(T.rail.drag){if(L.hasmousecapture&&a.releaseCapture(),T.isiframe&&!L.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),3!=T.rail.drag.pt)return;return T.rail.drag=!1,T.cancelEvent(t)}},T.ontouchmoveCursor=function(t){if(T.rail.drag){if(3!=T.rail.drag.pt)return;if(T.cursorfreezed=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(t.touches[0].clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var e=T.scrollvaluemaxw;T.scroll.x>e&&(T.scroll.x=e)}else{T.scroll.y=T.rail.drag.sy+(t.touches[0].clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var o=T.scrollvaluemax;T.scroll.y>o&&(T.scroll.y=o)}return T.synched("touchmove",function(){T.rail.drag&&3==T.rail.drag.pt&&(T.showCursor(),T.rail.drag.hr?T.doScrollLeft(Math.round(T.scroll.x*T.scrollratio.x),D.cursordragspeed):T.doScrollTop(Math.round(T.scroll.y*T.scrollratio.y),D.cursordragspeed))}),T.cancelEvent(t)}}}if(T.onmousedown=function(t,e){if(!T.rail.drag||1==T.rail.drag.pt){if(T.railslocked)return T.cancelEvent(t);T.cancelScroll(),T.rail.drag={x:t.clientX,y:t.clientY,sx:T.scroll.x,sy:T.scroll.y,pt:1,hr:e||!1};var o=T.getTarget(t);return L.hasmousecapture&&o.setCapture(),T.isiframe&&!L.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.hasmoving=!1,T.cancelEvent(t)}},T.onmouseup=function(t){if(T.rail.drag)return 1!=T.rail.drag.pt||(L.hasmousecapture&&a.releaseCapture(),T.isiframe&&!L.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),T.rail.drag=!1,T.cursorfreezed=!1,T.hasmoving&&T.triggerScrollEnd(),T.cancelEvent(t))},T.onmousemove=function(t){if(T.rail.drag){if(1!==T.rail.drag.pt)return;if(L.ischrome&&0===t.which)return T.onmouseup(t);if(T.cursorfreezed=!0,T.hasmoving||T.triggerScrollStart(t.clientX,t.clientY,0,0,0),T.hasmoving=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(t.clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var e=T.scrollvaluemaxw;T.scroll.x>e&&(T.scroll.x=e)}else{T.scroll.y=T.rail.drag.sy+(t.clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var o=T.scrollvaluemax;T.scroll.y>o&&(T.scroll.y=o)}return T.synched("mousemove",function(){T.cursorfreezed&&(T.showCursor(),T.rail.drag.hr?T.scrollLeft(Math.round(T.scroll.x*T.scrollratio.x)):T.scrollTop(Math.round(T.scroll.y*T.scrollratio.y)))}),T.cancelEvent(t)}T.checkarea=0},L.cantouch||D.emulatetouch)T.onpreventclick=function(t){if(T.preventclick)return T.preventclick.tg.onclick=T.preventclick.click,T.preventclick=!1,T.cancelEvent(t)},T.onclick=!L.isios&&function(t){return!T.lastmouseup||(T.lastmouseup=!1,T.cancelEvent(t))},D.grabcursorenabled&&L.cursorgrabvalue&&(T.css(T.ispage?T.doc:T.win,{cursor:L.cursorgrabvalue}),T.css(T.rail,{cursor:L.cursorgrabvalue}));else{var I=function(t){if(T.selectiondrag){if(t){var e=T.win.outerHeight(),o=t.pageY-T.selectiondrag.top;o>0&&o<e&&(o=0),o>=e&&(o-=e),T.selectiondrag.df=o}if(0!==T.selectiondrag.df){var n=-2*T.selectiondrag.df/6|0;T.doScrollBy(n),T.debounced("doselectionscroll",function(){I()},50)}}};T.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},T.onselectionstart=function(t){T.ispage||(T.selectiondrag=T.win.offset())},T.onselectionend=function(t){T.selectiondrag=!1},T.onselectiondrag=function(t){T.selectiondrag&&T.hasTextSelected()&&T.debounced("selectionscroll",function(){I(t)},250)}}if(L.hasw3ctouch?(T.css(T.ispage?s("html"):T.win,{"touch-action":"none"}),T.css(T.rail,{"touch-action":"none"}),T.css(T.cursor,{"touch-action":"none"}),T.bind(T.win,"pointerdown",T.ontouchstart),T.bind(a,"pointerup",T.ontouchend),T.delegate(a,"pointermove",T.ontouchmove)):L.hasmstouch?(T.css(T.ispage?s("html"):T.win,{"-ms-touch-action":"none"}),T.css(T.rail,{"-ms-touch-action":"none"}),T.css(T.cursor,{"-ms-touch-action":"none"}),T.bind(T.win,"MSPointerDown",T.ontouchstart),T.bind(a,"MSPointerUp",T.ontouchend),T.delegate(a,"MSPointerMove",T.ontouchmove),T.bind(T.cursor,"MSGestureHold",function(t){t.preventDefault()}),T.bind(T.cursor,"contextmenu",function(t){t.preventDefault()})):L.cantouch&&(T.bind(T.win,"touchstart",T.ontouchstart,!1,!0),T.bind(a,"touchend",T.ontouchend,!1,!0),T.bind(a,"touchcancel",T.ontouchend,!1,!0),T.delegate(a,"touchmove",T.ontouchmove,!1,!0)),D.emulatetouch&&(T.bind(T.win,"mousedown",T.ontouchstart,!1,!0),T.bind(a,"mouseup",T.ontouchend,!1,!0),T.bind(a,"mousemove",T.ontouchmove,!1,!0)),(D.cursordragontouch||!L.cantouch&&!D.emulatetouch)&&(T.rail.css({cursor:"default"}),T.railh&&T.railh.css({cursor:"default"}),T.jqbind(T.rail,"mouseenter",function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.rail,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}),D.sensitiverail&&(T.bind(T.rail,"click",function(t){T.doRailClick(t,!1,!1)}),T.bind(T.rail,"dblclick",function(t){T.doRailClick(t,!0,!1)}),T.bind(T.cursor,"click",function(t){T.cancelEvent(t)}),T.bind(T.cursor,"dblclick",function(t){T.cancelEvent(t)})),T.railh&&(T.jqbind(T.railh,"mouseenter",function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.railh,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}),D.sensitiverail&&(T.bind(T.railh,"click",function(t){T.doRailClick(t,!1,!0)}),T.bind(T.railh,"dblclick",function(t){T.doRailClick(t,!0,!0)}),T.bind(T.cursorh,"click",function(t){T.cancelEvent(t)}),T.bind(T.cursorh,"dblclick",function(t){T.cancelEvent(t)})))),D.cursordragontouch&&(this.istouchcapable||L.cantouch)&&(T.bind(T.cursor,"touchstart",T.ontouchstartCursor),T.bind(T.cursor,"touchmove",T.ontouchmoveCursor),T.bind(T.cursor,"touchend",T.ontouchendCursor),T.cursorh&&T.bind(T.cursorh,"touchstart",function(t){T.ontouchstartCursor(t,!0)}),T.cursorh&&T.bind(T.cursorh,"touchmove",T.ontouchmoveCursor),T.cursorh&&T.bind(T.cursorh,"touchend",T.ontouchendCursor)),D.emulatetouch||L.isandroid||L.isios?(T.bind(L.hasmousecapture?T.win:a,"mouseup",T.ontouchend),T.onclick&&T.bind(a,"click",T.onclick),D.cursordragontouch?(T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.cursorh&&T.bind(T.cursorh,"mousedown",function(t){T.onmousedown(t,!0)}),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onmouseup)):(T.bind(T.rail,"mousedown",function(t){t.preventDefault()}),T.railh&&T.bind(T.railh,"mousedown",function(t){t.preventDefault()}))):(T.bind(L.hasmousecapture?T.win:a,"mouseup",T.onmouseup),T.bind(a,"mousemove",T.onmousemove),T.onclick&&T.bind(a,"click",T.onclick),T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.railh&&(T.bind(T.cursorh,"mousedown",function(t){T.onmousedown(t,!0)}),T.bind(T.cursorh,"mouseup",T.onmouseup)),!T.ispage&&D.enablescrollonselection&&(T.bind(T.win[0],"mousedown",T.onselectionstart),T.bind(a,"mouseup",T.onselectionend),T.bind(T.cursor,"mouseup",T.onselectionend),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onselectionend),T.bind(a,"mousemove",T.onselectiondrag)),T.zoom&&(T.jqbind(T.zoom,"mouseenter",function(){T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.zoom,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}))),D.enablemousewheel&&(T.isiframe||T.mousewheel(L.isie&&T.ispage?a:T.win,T.onmousewheel),T.mousewheel(T.rail,T.onmousewheel),T.railh&&T.mousewheel(T.railh,T.onmousewheelhr)),T.ispage||L.cantouch||/HTML|^BODY/.test(T.win[0].nodeName)||(T.win.attr("tabindex")||T.win.attr({tabindex:++n}),T.bind(T.win,"focus",function(t){e=T.getTarget(t).id||T.getTarget(t)||!1,T.hasfocus=!0,T.canshowonmouseevent&&T.noticeCursor()}),T.bind(T.win,"blur",function(t){e=!1,T.hasfocus=!1}),T.bind(T.win,"mouseenter",function(t){o=T.getTarget(t).id||T.getTarget(t)||!1,T.hasmousefocus=!0,T.canshowonmouseevent&&T.noticeCursor()}),T.bind(T.win,"mouseleave",function(t){o=!1,T.hasmousefocus=!1,T.rail.drag||T.hideCursor()})),T.onkeypress=function(t){if(T.railslocked&&0===T.page.maxh)return!0;t=t||l.event;var n=T.getTarget(t);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!n.getAttribute("type")&&!n.type||!/submit|button|cancel/i.tp))return!0;if(s(n).attr("contenteditable"))return!0;if(T.hasfocus||T.hasmousefocus&&!e||T.ispage&&!e&&!o){var i=t.keyCode;if(T.railslocked&&27!=i)return T.cancelEvent(t);var r=t.ctrlKey||!1,a=t.shiftKey||!1,c=!1;switch(i){case 38:case 63233:T.doScrollBy(72),c=!0;break;case 40:case 63235:T.doScrollBy(-72),c=!0;break;case 37:case 63232:T.railh&&(r?T.doScrollLeft(0):T.doScrollLeftBy(72),c=!0);break;case 39:case 63234:T.railh&&(r?T.doScrollLeft(T.page.maxw):T.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:T.doScrollBy(T.view.h),c=!0;break;case 34:case 63277:T.doScrollBy(-T.view.h),c=!0;break;case 36:case 63273:T.railh&&r?T.doScrollPos(0,0):T.doScrollTo(0),c=!0;break;case 35:case 63275:T.railh&&r?T.doScrollPos(T.page.maxw,T.page.maxh):T.doScrollTo(T.page.maxh),c=!0;break;case 32:D.spacebarenabled&&(a?T.doScrollBy(T.view.h):T.doScrollBy(-T.view.h),c=!0);break;case 27:T.zoomactive&&(T.doZoom(),c=!0)}if(c)return T.cancelEvent(t)}},D.enablekeyboard&&T.bind(a,L.isopera&&!L.isopera12?"keypress":"keydown",T.onkeypress),T.bind(a,"keydown",function(t){t.ctrlKey&&(T.wheelprevented=!0)}),T.bind(a,"keyup",function(t){t.ctrlKey||(T.wheelprevented=!1)}),T.bind(l,"blur",function(t){T.wheelprevented=!1}),T.bind(l,"resize",T.onscreenresize),T.bind(l,"orientationchange",T.onscreenresize),T.bind(l,"load",T.lazyResize),L.ischrome&&!T.ispage&&!T.haswrapper){var E=T.win.attr("style"),A=parseFloat(T.win.css("width"))+1;T.win.css("width",A),T.synched("chromefix",function(){T.win.attr("style",E)})}if(T.onAttributeChange=function(t){T.lazyResize(T.isieold?250:30)},D.enableobserver&&(T.isie11||!1===f||(T.observerbody=new f(function(t){if(t.forEach(function(t){if("attributes"==t.type)return C.hasClass("modal-open")&&C.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],T.doc[0])?T.hide():T.show()}),T.me.clientWidth!=T.page.width||T.me.clientHeight!=T.page.height)return T.lazyResize(30)}),T.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!T.ispage&&!T.haswrapper)){var _=T.win[0];!1!==f?(T.observer=new f(function(t){t.forEach(T.onAttributeChange)}),T.observer.observe(_,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),T.observerremover=new f(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(T&&t.removedNodes[e]===_)return T.remove()})}),T.observerremover.observe(_.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(T.bind(_,L.isie&&!L.isie9?"propertychange":"DOMAttrModified",T.onAttributeChange),L.isie9&&_.attachEvent("onpropertychange",T.onAttributeChange),T.bind(_,"DOMNodeRemoved",function(t){t.target===_&&T.remove()}))}!T.ispage&&D.boxzoom&&T.bind(l,"resize",T.resizeZoom),T.istextarea&&(T.bind(T.win,"keydown",T.lazyResize),T.bind(T.win,"mouseup",T.lazyResize)),T.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var M=function(){T.iframexd=!1;var e;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){T.iframexd=!0,e=!1}if(T.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(T.forcescreen=!0,T.isiframe&&(T.iframe={doc:s(e),html:T.doc.contents().find("html")[0],body:T.doc.contents().find("body")[0]},T.getContentSize=function(){return{w:Math.max(T.iframe.html.scrollWidth,T.iframe.body.scrollWidth),h:Math.max(T.iframe.html.scrollHeight,T.iframe.body.scrollHeight)}},T.docscroll=s(T.iframe.body)),!L.isios&&D.iframeautoresize&&!T.isiframe){T.win.scrollTop(0),T.doc.height("");var o=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);T.doc.height(o)}T.lazyResize(30),T.css(s(T.iframe.body),t),L.isios&&T.haswrapper&&T.css(s(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?T.bind(this.contentWindow,"scroll",T.onscroll):T.bind(e,"scroll",T.onscroll),D.enablemousewheel&&T.mousewheel(e,T.onmousewheel),D.enablekeyboard&&T.bind(e,L.isopera?"keypress":"keydown",T.onkeypress),L.cantouch?(T.bind(e,"touchstart",T.ontouchstart),T.bind(e,"touchmove",T.ontouchmove)):D.emulatetouch&&(T.bind(e,"mousedown",T.ontouchstart),T.bind(e,"mousemove",function(t){return T.ontouchmove(t,!0)}),D.grabcursorenabled&&L.cursorgrabvalue&&T.css(s(e.body),{cursor:L.cursorgrabvalue})),T.bind(e,"mouseup",T.ontouchend),T.zoom&&(D.dblclickzoom&&T.bind(e,"dblclick",T.doZoom),T.ongesturezoom&&T.bind(e,"gestureend",T.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){M.call(T.doc[0],!1)},500),T.bind(this.doc,"load",M)}},this.showCursor=function(t,e){if(T.cursortimeout&&(clearTimeout(T.cursortimeout),T.cursortimeout=0),T.rail){if(T.autohidedom&&(T.autohidedom.stop().css({opacity:D.cursoropacitymax}),T.cursoractive=!0),T.rail.drag&&1==T.rail.drag.pt||(void 0!==t&&!1!==t&&(T.scroll.y=t/T.scrollratio.y|0),void 0!==e&&(T.scroll.x=e/T.scrollratio.x|0)),T.cursor.css({height:T.cursorheight,top:T.scroll.y}),T.cursorh){var o=T.hasreversehr?T.scrollvaluemaxw-T.scroll.x:T.scroll.x;T.cursorh.css({width:T.cursorwidth,left:!T.rail.align&&T.rail.visibility?o+T.rail.width:o}),T.cursoractive=!0}T.zoom&&T.zoom.stop().css({opacity:D.cursoropacitymax})}},this.hideCursor=function(t){T.cursortimeout||T.rail&&T.autohidedom&&(T.hasmousefocus&&"leave"===D.autohidemode||(T.cursortimeout=setTimeout(function(){T.rail.active&&T.showonmouseevent||(T.autohidedom.stop().animate({opacity:D.cursoropacitymin}),T.zoom&&T.zoom.stop().animate({opacity:D.cursoropacitymin}),T.cursoractive=!1),T.cursortimeout=0},t||D.hidecursordelay)))},this.noticeCursor=function(t,e,o){T.showCursor(e,o),T.rail.active||T.hideCursor(t)},this.getContentSize=T.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:T.haswrapper?function(){return{w:T.doc[0].offsetWidth,h:T.doc[0].offsetHeight}}:function(){return{w:T.docscroll[0].scrollWidth,h:T.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!T||!T.win)return!1;var o=T.page.maxh,n=T.page.maxw,i=T.view.h,r=T.view.w;if(T.view={w:T.ispage?T.win.width():T.win[0].clientWidth,h:T.ispage?T.win.height():T.win[0].clientHeight},T.page=e||T.getContentSize(),T.page.maxh=Math.max(0,T.page.h-T.view.h),T.page.maxw=Math.max(0,T.page.w-T.view.w),T.page.maxh==o&&T.page.maxw==n&&T.view.w==r&&T.view.h==i){if(T.ispage)return T;var s=T.win.offset();if(T.lastposition){var a=T.lastposition;if(a.top==s.top&&a.left==s.left)return T}T.lastposition=s}return 0===T.page.maxh?(T.hideRail(),T.scrollvaluemax=0,T.scroll.y=0,T.scrollratio.y=0,T.cursorheight=0,T.setScrollTop(0),T.rail&&(T.rail.scrollable=!1)):(T.page.maxh-=D.railpadding.top+D.railpadding.bottom,T.rail.scrollable=!0),0===T.page.maxw?(T.hideRailHr(),T.scrollvaluemaxw=0,T.scroll.x=0,T.scrollratio.x=0,T.cursorwidth=0,T.setScrollLeft(0),T.railh&&(T.railh.scrollable=!1)):(T.page.maxw-=D.railpadding.left+D.railpadding.right,T.railh&&(T.railh.scrollable=D.horizrailenabled)),T.railslocked=T.locked||0===T.page.maxh&&0===T.page.maxw,T.railslocked?(T.ispage||T.updateScrollBar(T.view),!1):(T.hidden||(T.rail.visibility||T.showRail(),T.railh&&!T.railh.visibility&&T.showRailHr()),T.istextarea&&T.win.css("resize")&&"none"!=T.win.css("resize")&&(T.view.h-=20),T.cursorheight=Math.min(T.view.h,Math.round(T.view.h*(T.view.h/T.page.h))),T.cursorheight=D.cursorfixedheight?D.cursorfixedheight:Math.max(D.cursorminheight,T.cursorheight),T.cursorwidth=Math.min(T.view.w,Math.round(T.view.w*(T.view.w/T.page.w))),T.cursorwidth=D.cursorfixedheight?D.cursorfixedheight:Math.max(D.cursorminheight,T.cursorwidth),T.scrollvaluemax=T.view.h-T.cursorheight-(D.railpadding.top+D.railpadding.bottom),T.hasborderbox||(T.scrollvaluemax-=T.cursor[0].offsetHeight-T.cursor[0].clientHeight),T.railh&&(T.railh.width=T.page.maxh>0?T.view.w-T.rail.width:T.view.w,T.scrollvaluemaxw=T.railh.width-T.cursorwidth-(D.railpadding.left+D.railpadding.right)),T.ispage||T.updateScrollBar(T.view),T.scrollratio={x:T.page.maxw/T.scrollvaluemaxw,y:T.page.maxh/T.scrollvaluemax},T.getScrollTop()>T.page.maxh?T.doScrollTop(T.page.maxh):(T.scroll.y=T.getScrollTop()/T.scrollratio.y|0,T.scroll.x=T.getScrollLeft()/T.scrollratio.x|0,T.cursoractive&&T.noticeCursor()),T.scroll.y&&0===T.getScrollTop()&&T.doScrollTo(T.scroll.y*T.scrollratio.y|0),T)},this.resize=T.onResize;var z=0;this.onscreenresize=function(t){clearTimeout(z);var e=!T.ispage&&!T.haswrapper;e&&T.hideRails(),z=setTimeout(function(){T&&(e&&T.showRails(),T.resize()),z=0},120)},this.lazyResize=function(t){return clearTimeout(z),t=isNaN(t)?240:t,z=setTimeout(function(){T&&T.resize(),z=0},t),T},this.jqbind=function(t,e,o){T.events.push({e:t,n:e,f:o,q:!0}),s(t).on(e,o)},this.mousewheel=function(t,e,o){var n="jquery"in t?t[0]:t;if("onwheel"in a.createElement("div"))T._bind(n,"wheel",e,o||!1);else{var i=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";x(n,i,e,o||!1),"DOMMouseScroll"==i&&x(n,"MozMousePixelScroll",e,o||!1)}};var N=!1;if(L.haseventlistener){try{var R=Object.defineProperty({},"passive",{get:function(){N=!0}});l.addEventListener("test",null,R)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,o){this.attachEvent("on"+t,e)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,o){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||l.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||l.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,o,n,i){var r=u[e]||!1;r||(r={a:[],l:[],f:function(t){for(var e=r.l,o=!1,n=e.length-1;n>=0;n--)if(!1===(o=e[n].call(t.target,t)))return!1;return o}},T.bind(t,e,r.f,n,i),u[e]=r),T.ispage?(r.a=[T.id].concat(r.a),r.l=[o].concat(r.l)):(r.a.push(T.id),r.l.push(o))},this.undelegate=function(t,e,o,n,i){var r=u[e]||!1;if(r&&r.l)for(var s=0,a=r.l.length;s<a;s++)r.a[s]===T.id&&(r.a.splice(s),r.l.splice(s),0===r.a.length&&(T._unbind(t,e,r.l.f),u[e]=null))},this.bind=function(t,e,o,n,i){var r="jquery"in t?t[0]:t;T._bind(r,e,o,n||!1,i||!1)},this._bind=function(t,e,o,n,i){T.events.push({e:t,n:e,f:o,b:n,q:!1}),N&&i?t.addEventListener(e,o,{passive:!1,capture:n}):t.addEventListener(e,o,n||!1)},this._unbind=function(t,e,o,n){u[e]?T.undelegate(t,e,o,n):t.removeEventListener(e,o,n)},this.unbindAll=function(){for(var t=0;t<T.events.length;t++){var e=T.events[t];e.q?e.e.unbind(e.n,e.f):T._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return T.showRail().showRailHr()},this.showRail=function(){return 0===T.page.maxh||!T.ispage&&"none"==T.win.css("display")||(T.rail.visibility=!0,T.rail.css("display","block")),T},this.showRailHr=function(){return T.railh&&(0===T.page.maxw||!T.ispage&&"none"==T.win.css("display")||(T.railh.visibility=!0,T.railh.css("display","block"))),T},this.hideRails=function(){return T.hideRail().hideRailHr()},this.hideRail=function(){return T.rail.visibility=!1,T.rail.css("display","none"),T},this.hideRailHr=function(){return T.railh&&(T.railh.visibility=!1,T.railh.css("display","none")),T},this.show=function(){return T.hidden=!1,T.railslocked=!1,T.showRails()},this.hide=function(){return T.hidden=!0,T.railslocked=!0,T.hideRails()},this.toggle=function(){return T.hidden?T.show():T.hide()},this.remove=function(){T.stop(),T.cursortimeout&&clearTimeout(T.cursortimeout);for(var t in T.delaylist)T.delaylist[t]&&h(T.delaylist[t].h);T.doZoomOut(),T.unbindAll(),L.isie9&&T.win[0].detachEvent("onpropertychange",T.onAttributeChange),!1!==T.observer&&T.observer.disconnect(),!1!==T.observerremover&&T.observerremover.disconnect(),!1!==T.observerbody&&T.observerbody.disconnect(),T.events=null,T.cursor&&T.cursor.remove(),T.cursorh&&T.cursorh.remove(),T.rail&&T.rail.remove(),T.railh&&T.railh.remove(),T.zoom&&T.zoom.remove();for(var e=0;e<T.saved.css.length;e++){var o=T.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}T.saved=!1,T.me.data("__nicescroll","");var n=s.nicescroll;n.each(function(t){if(this&&this.id===T.id){delete n[t];for(var e=++t;e<n.length;e++,t++)n[t]=n[e];--n.length&&delete n[n.length]}});for(var i in T)T[i]=null,delete T[i];T=null},this.scrollstart=function(t){return this.onscrollstart=t,T},this.scrollend=function(t){return this.onscrollend=t,T},this.scrollcancel=function(t){return this.onscrollcancel=t,T},this.zoomin=function(t){return this.onzoomin=t,T},this.zoomout=function(t){return this.onzoomout=t,T},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var o=s(e),n=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(n))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=s(e);if(/fixed|absolute/.test(o.css("position")))return o;var n=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(n)&&e.clientHeight!=e.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,o,n,i){if(T.onscrollstart){var r={type:"scrollstart",current:{x:t,y:e},request:{x:o,y:n},end:{x:T.newscrollx,y:T.newscrolly},speed:i};T.onscrollstart.call(T,r)}},this.triggerScrollEnd=function(){if(T.onscrollend){var t=T.getScrollLeft(),e=T.getScrollTop(),o={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};T.onscrollend.call(T,o)}};var F=0,P=0,$=0,H=1,j=!1;if(this.onmousewheel=function(t){if(T.wheelprevented||T.locked)return!1;if(T.railslocked)return T.debounced("checkunlock",T.resize,250),!1;if(T.rail.drag)return T.cancelEvent(t);if("auto"===D.oneaxismousemode&&0!==t.deltaX&&(D.oneaxismousemode=!1),D.oneaxismousemode&&0===t.deltaX&&!T.rail.scrollable)return!T.railh||!T.railh.scrollable||T.onmousewheelhr(t);var e=m(),o=!1;if(D.preservenativescrolling&&T.checkarea+600<e&&(T.nativescrollingarea=T.isScrollable(t),o=!0),T.checkarea=e,T.nativescrollingarea)return!0;var n=k(t,!1,o);return n&&(T.checkarea=0),n},this.onmousewheelhr=function(t){if(!T.wheelprevented){if(T.railslocked||!T.railh.scrollable)return!0;if(T.rail.drag)return T.cancelEvent(t);var e=m(),o=!1;return D.preservenativescrolling&&T.checkarea+600<e&&(T.nativescrollingarea=T.isScrollable(t),o=!0),T.checkarea=e,!!T.nativescrollingarea||(T.railslocked?T.cancelEvent(t):k(t,!0,o))}},this.stop=function(){return T.cancelScroll(),T.scrollmon&&T.scrollmon.stop(),T.cursorfreezed=!1,T.scroll.y=Math.round(T.getScrollTop()*(1/T.scrollratio.y)),T.noticeCursor(),T},this.getTransitionSpeed=function(t){return 80+t/72*D.scrollspeed|0},D.smoothscroll)if(T.ishwscroll&&L.hastransition&&D.usetransition&&D.smoothscroll){var B="";this.resetTransition=function(){B="",T.doc.css(L.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var o=e?t:T.getTransitionSpeed(t),n=o+"ms";return B!==n&&(B=n,T.doc.css(L.prefixstyle+"transition-duration",n)),o},this.doScrollLeft=function(t,e){var o=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(o,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&d(e),T.showCursor(T.getScrollTop(),T.getScrollLeft()),T.notifyScrollEvent(T.win[0])};d(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,o){var n=T.getScrollTop(),i=T.getScrollLeft();if(((T.newscrolly-n)*(e-n)<0||(T.newscrollx-i)*(t-i)<0)&&T.cancelScroll(),D.bouncescroll?(e<0?e=e/2|0:e>T.page.maxh&&(e=T.page.maxh+(e-T.page.maxh)/2|0),t<0?t=t/2|0:t>T.page.maxw&&(t=T.page.maxw+(t-T.page.maxw)/2|0)):(e<0?e=0:e>T.page.maxh&&(e=T.page.maxh),t<0?t=0:t>T.page.maxw&&(t=T.page.maxw)),T.scrollrunning&&t==T.newscrollx&&e==T.newscrolly)return!1;T.newscrolly=e,T.newscrollx=t;var r=T.getScrollTop(),s=T.getScrollLeft(),a={};a.x=t-s,a.y=e-r;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=T.prepareTransition(l);T.scrollrunning||(T.scrollrunning=!0,T.triggerScrollStart(s,r,t,e,c),T.cursorupdate.start()),T.scrollendtrapped=!0,L.transitionend||(T.scrollendtrapped&&clearTimeout(T.scrollendtrapped),T.scrollendtrapped=setTimeout(T.onScrollTransitionEnd,c)),T.setScrollTop(T.newscrolly),T.setScrollLeft(T.newscrollx)},this.cancelScroll=function(){if(!T.scrollendtrapped)return!0;var t=T.getScrollTop(),e=T.getScrollLeft();return T.scrollrunning=!1,L.transitionend||clearTimeout(L.transitionend),T.scrollendtrapped=!1,T.resetTransition(),T.setScrollTop(t),T.railh&&T.setScrollLeft(e),T.timerscroll&&T.timerscroll.tm&&clearInterval(T.timerscroll.tm),T.timerscroll=!1,T.cursorfreezed=!1,T.cursorupdate.stop(),T.showCursor(t,e),T},this.onScrollTransitionEnd=function(){if(T.scrollendtrapped){var t=T.getScrollTop(),e=T.getScrollLeft();if(t<0?t=0:t>T.page.maxh&&(t=T.page.maxh),e<0?e=0:e>T.page.maxw&&(e=T.page.maxw),t!=T.newscrolly||e!=T.newscrollx)return T.doScrollPos(e,t,D.snapbackspeed);T.scrollrunning&&T.triggerScrollEnd(),T.scrollrunning=!1,T.scrollendtrapped=!1,T.resetTransition(),T.timerscroll=!1,T.setScrollTop(t),T.railh&&T.setScrollLeft(e),T.cursorupdate.stop(),T.noticeCursor(!1,t,e),T.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var o=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var n=T.getScrollTop(),i=T.getScrollLeft();((T.newscrolly-n)*(e-n)<0||(T.newscrollx-i)*(t-i)<0)&&T.cancelScroll();var r=!1;if(T.bouncescroll&&T.rail.visibility||(e<0?(e=0,r=!0):e>T.page.maxh&&(e=T.page.maxh,r=!0)),T.bouncescroll&&T.railh.visibility||(t<0?(t=0,r=!0):t>T.page.maxw&&(t=T.page.maxw,r=!0)),T.scrollrunning&&T.newscrolly===e&&T.newscrollx===t)return!0;T.newscrolly=e,T.newscrollx=t,T.dst={},T.dst.x=t-i,T.dst.y=e-n,T.dst.px=i,T.dst.py=n;var s=0|Math.sqrt(T.dst.x*T.dst.x+T.dst.y*T.dst.y),a=T.getTransitionSpeed(s);T.bzscroll={};var l=r?1:.58;T.bzscroll.x=new _(i,T.newscrollx,a,0,0,l,1),T.bzscroll.y=new _(n,T.newscrolly,a,0,0,l,1),m();var c=function(){if(T.scrollrunning){var t=T.bzscroll.y.getPos();T.setScrollLeft(T.bzscroll.x.getNow()),T.setScrollTop(T.bzscroll.y.getNow()),t<=1?T.timer=d(c):(T.scrollrunning=!1,T.timer=0,T.triggerScrollEnd())}};T.scrollrunning||(T.triggerScrollStart(i,n,t,e,a),T.scrollrunning=!0,T.timer=d(c))},this.cancelScroll=function(){return T.timer&&h(T.timer),T.timer=0,T.bzscroll=!1,T.scrollrunning=!1,T};else this.doScrollLeft=function(t,e){var o=T.getScrollTop();T.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=T.getScrollLeft();T.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var n=t>T.page.maxw?T.page.maxw:t;n<0&&(n=0);var i=e>T.page.maxh?T.page.maxh:e;i<0&&(i=0),T.synched("scroll",function(){T.setScrollTop(i),T.setScrollLeft(n)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){S(0,t)},this.doScrollLeftBy=function(t,e){S(t,0)},this.doScrollTo=function(t,e){var o=e?Math.round(t*T.scrollratio.y):t;o<0?o=0:o>T.page.maxh&&(o=T.page.maxh),T.cursorfreezed=!1,T.doScrollTop(t)},this.checkContentSize=function(){var t=T.getContentSize();t.h==T.page.h&&t.w==T.page.w||T.resize(!1,t)},T.onscroll=function(t){T.rail.drag||T.cursorfreezed||T.synched("scroll",function(){T.scroll.y=Math.round(T.getScrollTop()/T.scrollratio.y),T.railh&&(T.scroll.x=Math.round(T.getScrollLeft()/T.scrollratio.x)),T.noticeCursor()})},T.bind(T.docscroll,"scroll",T.onscroll),this.doZoomIn=function(t){if(!T.zoomactive){T.zoomactive=!0,T.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=T.win[0].style;for(var n in e){var i=e[n];T.zoomrestore.style[i]=void 0!==o[i]?o[i]:""}T.zoomrestore.style.width=T.win.css("width"),T.zoomrestore.style.height=T.win.css("height"),T.zoomrestore.padding={w:T.win.outerWidth()-T.win.width(),h:T.win.outerHeight()-T.win.height()},L.isios4&&(T.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),T.win.css({position:L.isios4?"absolute":"fixed",top:0,left:0,zIndex:r+100,margin:0});var s=T.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&T.win.css("backgroundColor","#fff"),T.rail.css({zIndex:r+101}),T.zoom.css({zIndex:r+102}),T.zoom.css("backgroundPosition","0 -18px"),T.resizeZoom(),T.onzoomin&&T.onzoomin.call(T),T.cancelEvent(t)}},this.doZoomOut=function(t){if(T.zoomactive)return T.zoomactive=!1,T.win.css("margin",""),T.win.css(T.zoomrestore.style),L.isios4&&c.scrollTop(T.zoomrestore.scrollTop),T.rail.css({"z-index":T.zindex}),T.zoom.css({"z-index":T.zindex}),T.zoomrestore=!1,T.zoom.css("backgroundPosition","0 0"),T.onResize(),T.onzoomout&&T.onzoomout.call(T),T.cancelEvent(t)},this.doZoom=function(t){return T.zoomactive?T.doZoomOut(t):T.doZoomIn(t)},this.resizeZoom=function(){if(T.zoomactive){var t=T.getScrollTop();T.win.css({width:c.width()-T.zoomrestore.padding.w+"px",height:c.height()-T.zoomrestore.padding.h+"px"}),T.onResize(),T.setScrollTop(Math.min(T.page.maxh,t))}},this.init(),s.nicescroll.push(this)},y=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,o){e.stop(),e.steptime=0,e.lasttime=m(),e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=o,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,o){var n=m();e.steptime=n-e.lasttime,e.lasttime=n;var i=o-e.lasty,r=t-e.lastx,s=e.nc.getScrollTop()+i,a=e.nc.getScrollLeft()+r;e.snapx=a<0||a>e.nc.page.maxw,e.snapy=s<0||s>e.nc.page.maxh,e.speedx=r,e.speedy=i,e.lastx=t,e.lasty=o},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,o){var n=!1;o<0?(o=0,n=!0):o>e.nc.page.maxh&&(o=e.nc.page.maxh,n=!0),t<0?(t=0,n=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,n=!0),n?e.nc.doScrollPos(t,o,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var o=m(),n=t?o+t:e.lasttime,i=e.nc.getScrollLeft(),r=e.nc.getScrollTop(),s=e.nc.page.maxh,a=e.nc.page.maxw;e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=s>0?Math.min(60,e.speedy):0;var l=n&&o-n<=60;(r<0||r>s||i<0||i>a)&&(l=!1);var c=!(!e.speedy||!l)&&e.speedy,u=!(!e.speedx||!l)&&e.speedx;if(c||u){var d=Math.max(16,e.steptime);if(d>50){var h=d/50;e.speedx*=h,e.speedy*=h,d=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var p=e.lastscrollx,f=e.lastscrolly,g=function(){var t=m()-o>600?.04:.02;e.speedx&&(p=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=p,(p<0||p>a)&&(t=.1)),e.speedy&&(f=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=f,(f<0||f>s)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft(),e.chkx=p,e.nc.setScrollLeft(p)),e.speedy&&(e.nc.getScrollTop(),e.chky=f,e.nc.setScrollTop(f)),e.timer||(e.nc.hideCursor(),e.doSnapy(p,f))}),e.demulxy<1?e.timer=setTimeout(g,d):(e.stop(),e.nc.hideCursor(),e.doSnapy(p,f))};g()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},w=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,o){var n=s.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollTop():w.call(t)},set:function(t,e){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(e)):w.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollTop():w.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):w.call(s(this),t)})};var x=t.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(t,e,o){var n=s.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollLeft():x.call(t)},set:function(t,e){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):x.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollLeft():x.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):x.call(s(this),t)})};var S=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return s.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var o=0;o<t.length;o++){var n=s.data(t[o],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,o){for(var n=0,i=e.length;n<i;n++)o(t,e[n])}(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){return void 0===t?new S(this):this[t]&&s.data(this[t],"__nicescroll")||!1},(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==s.data(t,"__nicescroll")},s.fn.niceScroll=function(t,e){void 0!==e||"object"!=typeof t||"jquery"in t||(e=t,t=!1);var o=new S;return this.each(function(){var n=s(this),i=s.extend({},e);if(t){var r=s(t);i.doc=r.length>1?s(t,n):r,i.win=n}!("doc"in i)||"win"in i||(i.win=n);var a=n.data("__nicescroll")||!1;a||(i.doc=i.doc||n,a=new b(i,n),n.data("__nicescroll",a)),o.push(a)}),1===o.length?o[0]:o},l.NiceScroll={getjQuery:function(){return t}},s.nicescroll||(s.nicescroll=new S,s.nicescroll.options=g)}),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var o={exports:{}};e(o.exports,o),t.autosize=o.exports}}(this,function(t,e){"use strict";function o(t){function e(e){var o=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=o,t.style.overflowY=e}function o(){var e=t.style.height,o=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),n=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var r=t.scrollHeight+i;return 0===t.scrollHeight?void(t.style.height=e):(t.style.height=r+"px",a=t.clientWidth,o.forEach(function(t){t.node.scrollTop=t.scrollTop}),void(n&&(document.documentElement.scrollTop=n)))}function n(){o();var n=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),r="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):t.offsetHeight;if(r!==n?"hidden"===i.overflowY&&(e("scroll"),o(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==i.overflowY&&(e("hidden"),o(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),l!==r){l=r;var a=s("autosize:resized");try{t.dispatchEvent(a)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var i=null,a=t.clientWidth,l=null,c=function(){t.clientWidth!==a&&n()},u=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",n,!1),t.removeEventListener("keyup",n,!1),t.removeEventListener("autosize:destroy",u,!1),t.removeEventListener("autosize:update",n,!1),Object.keys(e).forEach(function(o){t.style[o]=e[o]}),r.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",u,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",n,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",n,!1),t.addEventListener("autosize:update",n,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",r.set(t,{destroy:u,update:n}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),i="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(i)&&(i=0),n()}()}}function n(t){var e=r.get(t);e&&e.destroy()}function i(t){var e=r.get(t);e&&e.update()}var r="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(o){return e[t.indexOf(o)]},set:function(o,n){-1===t.indexOf(o)&&(t.push(o),e.push(n))},delete:function(o){var n=t.indexOf(o);n>-1&&(t.splice(n,1),e.splice(n,1))}}}(),s=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function(t){return t}).destroy=function(t){return t},a.update=function(t){return t}):((a=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return o(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],n),t},a.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t}),e.exports=a}),("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)})(["jquery"],function(t){return function(){var e,o,n,i=0,r={error:"error",info:"info",success:"success",warning:"warning"},s={clear:function(o,n){var i=d();e||a(i),l(o,i,n)||function(o){for(var n=e.children(),i=n.length-1;i>=0;i--)l(t(n[i]),o)}(i)},remove:function(o){var n=d();e||a(n),o&&0===t(":focus",o).length?h(o):e.children().length&&e.remove()},error:function(t,e,o){return u({type:r.error,iconClass:d().iconClasses.error,message:t,optionsOverride:o,title:e})},getContainer:a,info:function(t,e,o){return u({type:r.info,iconClass:d().iconClasses.info,message:t,optionsOverride:o,title:e})},options:{},subscribe:function(t){o=t},success:function(t,e,o){return u({type:r.success,iconClass:d().iconClasses.success,message:t,optionsOverride:o,title:e})},version:"2.1.3",warning:function(t,e,o){return u({type:r.warning,iconClass:d().iconClasses.warning,message:t,optionsOverride:o,title:e})}};return s;function a(o,n){if(o||(o=d()),(e=t("#"+o.containerId)).length)return e;n&&(i=o,(e=t("<div/>").attr("id",i.containerId).addClass(i.positionClass)).appendTo(t(i.target)),e=e);var i;return e}function l(e,o,n){var i=!(!n||!n.force)&&n.force;return!(!e||!i&&0!==t(":focus",e).length||(e[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){h(e)}}),0))}function c(t){o&&o(t)}function u(o){var r=d(),s=o.iconClass||r.iconClass;if(void 0!==o.optionsOverride&&(r=t.extend(r,o.optionsOverride),s=o.optionsOverride.iconClass||s),!function(t,e){if(t.preventDuplicates){if(e.message===n)return!0;n=e.message}return!1}(r,o)){i++,e=a(r,!0);var l=null,u=t("<div/>"),p=t("<div/>"),f=t("<div/>"),m=t("<div/>"),g=t(r.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:i,state:"visible",startTime:new Date,options:r,map:o};return o.iconClass&&u.addClass(r.toastClass).addClass(s),function(){if(o.title){var t=o.title;r.escapeHtml&&(t=y(o.title)),p.append(t).addClass(r.titleClass),u.append(p)}}(),function(){if(o.message){var t=o.message;r.escapeHtml&&(t=y(o.message)),f.append(t).addClass(r.messageClass),u.append(f)}}(),r.closeButton&&(g.addClass(r.closeClass).attr("role","button"),u.prepend(g)),r.progressBar&&(m.addClass(r.progressClass),u.prepend(m)),r.rtl&&u.addClass("rtl"),r.newestOnTop?e.prepend(u):e.append(u),function(){var t="";switch(o.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}u.attr("aria-live",t)}(),u.hide(),u[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(l=setTimeout(w,r.timeOut),v.maxHideTime=parseFloat(r.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,r.progressBar&&(v.intervalId=setInterval(k,10))),r.closeOnHover&&u.hover(S,x),!r.onclick&&r.tapToDismiss&&u.click(w),r.closeButton&&g&&g.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),r.onCloseClick&&r.onCloseClick(t),w(!0)}),r.onclick&&u.click(function(t){r.onclick(t),w()}),c(b),r.debug&&console&&console.log(b),u}function y(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(e){var o=e&&!1!==r.closeMethod?r.closeMethod:r.hideMethod,n=e&&!1!==r.closeDuration?r.closeDuration:r.hideDuration,i=e&&!1!==r.closeEasing?r.closeEasing:r.hideEasing;if(!t(":focus",u).length||e)return clearTimeout(v.intervalId),u[o]({duration:n,easing:i,complete:function(){h(u),clearTimeout(l),r.onHidden&&"hidden"!==b.state&&r.onHidden(),b.state="hidden",b.endTime=new Date,c(b)}})}function x(){(r.timeOut>0||r.extendedTimeOut>0)&&(l=setTimeout(w,r.extendedTimeOut),v.maxHideTime=parseFloat(r.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function S(){clearTimeout(l),v.hideEta=0,u.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function k(){var t=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;m.width(t+"%")}}function d(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},s.options)}function h(t){e||(e=a()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),n=void 0))}}()});var DateFormatter;!function(){"use strict";var t,e,o,n,i;t=function(t,e){return"string"==typeof t&&"string"==typeof e&&t.toLowerCase()===e.toLowerCase()},e=function(t,o,n){var i=n||"0",r=t.toString();return r.length<o?e(i+r,o):r},o=function(t){var e,n;for(t=t||{},e=1;e<arguments.length;e++)if(n=arguments[e])for(var i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?o(t[i],n[i]):t[i]=n[i]);return t},n=function(t,e){for(var o=0;o<e.length;o++)if(e[o].toLowerCase()===t.toLowerCase())return o;return-1},i={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(t){var e=t%10,o={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(t%100/10)&&o[e]?o[e]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(DateFormatter=function(t){var e=o(i,t);this.dateSettings=e.dateSettings,this.separators=e.separators,this.validParts=e.validParts,this.intParts=e.intParts,this.tzParts=e.tzParts,this.tzClip=e.tzClip}).prototype={constructor:DateFormatter,getMonth:function(t){var e;return 0===(e=n(t,this.dateSettings.monthsShort)+1)&&(e=n(t,this.dateSettings.months)+1),e},parseDate:function(e,o){var n,i,r,s,a,l,c,u,d,h,p=!1,f=!1,m=this.dateSettings,g={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!e)return null;if(e instanceof Date)return e;if("U"===o)return r=parseInt(e),r?new Date(1e3*r):e;switch(typeof e){case"number":return new Date(e);case"string":break;default:return null}if(!(n=o.match(this.validParts))||0===n.length)throw new Error("Invalid date format definition.");for(i=e.replace(this.separators,"\0").split("\0"),r=0;r<i.length;r++)switch(s=i[r],a=parseInt(s),n[r]){case"y":case"Y":if(!a)return null;d=s.length,g.year=2===d?parseInt((70>a?"20":"19")+s):a,p=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!((l=this.getMonth(s))>0))return null;g.month=l}else{if(!(a>=1&&12>=a))return null;g.month=a}p=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;g.day=a,p=!0;break;case"g":case"h":if(h=i[c=n.indexOf("a")>-1?n.indexOf("a"):n.indexOf("A")>-1?n.indexOf("A"):-1],c>-1)u=t(h,m.meridiem[0])?0:t(h,m.meridiem[1])?12:-1,a>=1&&12>=a&&u>-1?g.hour=a+u-1:a>=0&&23>=a&&(g.hour=a);else{if(!(a>=0&&23>=a))return null;g.hour=a}f=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;g.hour=a,f=!0;break;case"i":if(!(a>=0&&59>=a))return null;g.min=a,f=!0;break;case"s":if(!(a>=0&&59>=a))return null;g.sec=a,f=!0}if(!0===p&&g.year&&g.month&&g.day)g.date=new Date(g.year,g.month-1,g.day,g.hour,g.min,g.sec,0);else{if(!0!==f)return null;g.date=new Date(0,0,0,g.hour,g.min,g.sec,0)}return g.date},guessDate:function(t,e){if("string"!=typeof t)return t;var o,n,i,r,s,a,l=t.replace(this.separators,"\0").split("\0"),c=e.match(this.validParts),u=new Date,d=0;if(!/^[djmn]/g.test(c[0]))return t;for(i=0;i<l.length;i++){if(d=2,s=l[i],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(i){case 0:"m"===c[0]||"n"===c[0]?u.setMonth(a-1):u.setDate(a);break;case 1:"m"===c[0]||"n"===c[0]?u.setDate(a):u.setMonth(a-1);break;case 2:if(n=u.getFullYear(),d=4>(o=s.length)?o:4,!(n=parseInt(4>o?n.toString().substr(0,4-o)+s:s.substr(0,4))))return null;u.setFullYear(n);break;case 3:u.setHours(a);break;case 4:u.setMinutes(a);break;case 5:u.setSeconds(a)}(r=s.substr(d)).length>0&&l.splice(i+1,0,r)}return u},parseFormat:function(t,o){var n,i=this,r=i.dateSettings,s=/\\?(.?)/gi,a=function(t,e){return n[t]?n[t]():e};return n={d:function(){return e(n.j(),2)},D:function(){return r.daysShort[n.w()]},j:function(){return o.getDate()},l:function(){return r.days[n.w()]},N:function(){return n.w()||7},w:function(){return o.getDay()},z:function(){var t=new Date(n.Y(),n.n()-1,n.j()),e=new Date(n.Y(),0,1);return Math.round((t-e)/864e5)},W:function(){var t=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),o=new Date(t.getFullYear(),0,4);return e(1+Math.round((t-o)/864e5/7),2)},F:function(){return r.months[o.getMonth()]},m:function(){return e(n.n(),2)},M:function(){return r.monthsShort[o.getMonth()]},n:function(){return o.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var t=n.Y();return t%4==0&&t%100!=0||t%400==0?1:0},o:function(){var t=n.n(),e=n.W();return n.Y()+(12===t&&9>e?1:1===t&&e>9?-1:0)},Y:function(){return o.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return n.A().toLowerCase()},A:function(){var t=n.G()<12?0:1;return r.meridiem[t]},B:function(){var t=3600*o.getUTCHours(),n=60*o.getUTCMinutes(),i=o.getUTCSeconds();return e(Math.floor((t+n+i+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return o.getHours()},h:function(){return e(n.g(),2)},H:function(){return e(n.G(),2)},i:function(){return e(o.getMinutes(),2)},s:function(){return e(o.getSeconds(),2)},u:function(){return e(1e3*o.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(o))[1]||"Coordinated Universal Time"},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var t=o.getTimezoneOffset(),n=Math.abs(t);return(t>0?"-":"+")+e(100*Math.floor(n/60)+n%60,4)},P:function(){var t=n.O();return t.substr(0,3)+":"+t.substr(3,2)},T:function(){return(String(o).match(i.tzParts)||[""]).pop().replace(i.tzClip,"")||"UTC"},Z:function(){return 60*-o.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,a)},r:function(){return"D, d M Y H:i:s O".replace(s,a)},U:function(){return o.getTime()/1e3||0}},a(t,t)},formatDate:function(t,e){var o,n,i,r,s,a="";if("string"==typeof t&&(t=this.parseDate(t,e),!t))return null;if(t instanceof Date){for(i=e.length,o=0;i>o;o++)s=e.charAt(o),"S"!==s&&"\\"!==s&&(o>0&&"\\"===e.charAt(o-1)?a+=s:(r=this.parseFormat(s,t),o!==i-1&&this.intParts.test(s)&&"S"===e.charAt(o+1)&&(n=parseInt(r)||0,r+=this.dateSettings.ordinal(n)),a+=r));return a}return""}}}();var datetimepickerFactory=function(t){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},o=null,n="en",i={meridiem:["AM","PM"]},r=function(){var r=e.i18n[n],s={days:r.dayOfWeek,daysShort:r.dayOfWeekShort,months:r.months,monthsShort:t.map(r.months,function(t){return t.substring(0,3)})};"function"==typeof DateFormatter&&(o=new DateFormatter({dateSettings:t.extend({},i,s)}))};t.datetimepicker={setLocale:function(t){var o=e.i18n[t]?t:"en";n!==o&&(n=o,r())},setDateFormatter:function(t){o=t},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},r(),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var o=/(-([a-z]))/g;return"float"===e&&(e="styleFloat"),o.test(e)&&(e=e.replace(o,function(t,e,o){return o.toUpperCase()})),t.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var o,n;for(o=e||0,n=this.length;o<n;o+=1)if(this[o]===t)return o;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e,o){return this.each(function(){var n,i,r,s,a,l=t(this),c=function(t){var e,o={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],o.x=e.clientX,o.y=e.clientY):"mousedown"!==t.type&&"mouseup"!==t.type&&"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type&&"mouseenter"!==t.type&&"mouseleave"!==t.type||(o.x=t.clientX,o.y=t.clientY),o},u=100,d=!1,h=0,p=0,f=0,m=!1,g=0,v=function(){};"hide"!==o?(t(this).hasClass("xdsoft_scroller_box")||(n=l.children().eq(0),i=l[0].clientHeight,r=n[0].offsetHeight,s=t('<div class="xdsoft_scrollbar"></div>'),a=t('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),v=function(t){var e=c(t).y-h+g;e<0&&(e=0),e+a[0].offsetHeight>f&&(e=f-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){i||l.trigger("resize_scroll.xdsoft_scroller",[o]),h=c(n).y,g=parseInt(a.css("margin-top"),10),f=s[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(e.ownerDocument&&t(e.ownerDocument.body).addClass("xdsoft_noselect"),t([e.ownerDocument.body,e.contentWindow]).on("touchend mouseup.xdsoft_scroller",function o(){t([e.ownerDocument.body,e.contentWindow]).off("touchend mouseup.xdsoft_scroller",o).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")}),t(e.ownerDocument.body).on("mousemove.xdsoft_scroller",v)):(m=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(t){m&&(t.preventDefault(),v(t))}).on("touchend touchcancel",function(){m=!1,g=0}),l.on("scroll_element.xdsoft_scroller",function(t,e){i||l.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:e<0||isNaN(e)?0:e,a.css("margin-top",u*e),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-i)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,o){var c,d;i=l[0].clientHeight,r=n[0].offsetHeight,d=(c=i/r)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(d>10?d:10,10)),u=s[0].offsetHeight-a[0].offsetHeight,!0!==o&&l.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(n.css("marginTop"),10))/(r-i)]))}),l.on("mousewheel",function(t){var e=Math.abs(parseInt(n.css("marginTop"),10));return(e-=20*t.deltaY)<0&&(e=0),l.trigger("scroll_element.xdsoft_scroller",[e/(r-i)]),t.stopPropagation(),!1}),l.on("touchstart",function(t){d=c(t),p=Math.abs(parseInt(n.css("marginTop"),10))}),l.on("touchmove",function(t){if(d){t.preventDefault();var e=c(t);l.trigger("scroll_element.xdsoft_scroller",[(p-(e.y-d.y))/(r-i)])}}),l.on("touchend touchcancel",function(){d=!1,p=0})),l.trigger("resize_scroll.xdsoft_scroller",[o])):l.find(".xdsoft_scrollbar").hide()})},t.fn.datetimepicker=function(i,r){var a,l,c=this,u=48,d=57,h=96,p=105,f=17,m=46,g=13,v=27,b=8,y=37,w=38,x=39,S=40,k=9,T=116,C=65,D=67,I=86,E=90,A=89,L=!1,_=t.isPlainObject(i)||!i?t.extend(!0,{},e,i):t.extend(!0,{},e),M=0;return a=function(e){var r,a,l,c,M,O,z=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),N=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),R=t('<div class="xdsoft_datepicker active"></div>'),F=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),P=t('<div class="xdsoft_calendar"></div>'),$=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),H=$.find(".xdsoft_time_box").eq(0),j=t('<div class="xdsoft_time_variant"></div>'),B=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),W=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),q=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),U=!1,Y=0;_.id&&z.attr("id",_.id),_.style&&z.attr("style",_.style),_.weeks&&z.addClass("xdsoft_showweeks"),_.rtl&&z.addClass("xdsoft_rtl"),z.addClass("xdsoft_"+_.theme),z.addClass(_.className),F.find(".xdsoft_month span").after(W),F.find(".xdsoft_year span").after(q),F.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(e){var o,n,i=t(this).find(".xdsoft_select").eq(0),r=0,s=0,a=i.is(":visible");for(F.find(".xdsoft_select").hide(),M.currentTime&&(r=M.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[a?"hide":"show"](),o=i.find("div.xdsoft_option"),n=0;n<o.length&&o.eq(n).data("value")!==r;n+=1)s+=o[0].offsetHeight;return i.xdsoftScroller(_,s/(i.children()[0].offsetHeight-i[0].clientHeight)),e.stopPropagation(),!1}),F.find(".xdsoft_select").xdsoftScroller(_).on("touchstart mousedown.xdsoft",function(t){this.touchmoved=!1,t.stopPropagation(),t.preventDefault()}).on("touchmove",".xdsoft_option",function(){this.touchmoved=!0}).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchmoved){void 0!==M.currentTime&&null!==M.currentTime||(M.currentTime=M.now());var e=M.currentTime.getFullYear();M&&M.currentTime&&M.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),z.trigger("xchange.xdsoft"),_.onChangeMonth&&t.isFunction(_.onChangeMonth)&&_.onChangeMonth.call(z,M.currentTime,z.data("input")),e!==M.currentTime.getFullYear()&&t.isFunction(_.onChangeYear)&&_.onChangeYear.call(z,M.currentTime,z.data("input"))}}),z.getValue=function(){return M.getCurrentTime()},z.setOptions=function(n){var i={};_=t.extend(!0,{},_,n),n.allowTimes&&t.isArray(n.allowTimes)&&n.allowTimes.length&&(_.allowTimes=t.extend(!0,[],n.allowTimes)),n.weekends&&t.isArray(n.weekends)&&n.weekends.length&&(_.weekends=t.extend(!0,[],n.weekends)),n.allowDates&&t.isArray(n.allowDates)&&n.allowDates.length&&(_.allowDates=t.extend(!0,[],n.allowDates)),n.allowDateRe&&"[object String]"===Object.prototype.toString.call(n.allowDateRe)&&(_.allowDateRe=new RegExp(n.allowDateRe)),n.highlightedDates&&t.isArray(n.highlightedDates)&&n.highlightedDates.length&&(t.each(n.highlightedDates,function(e,n){var r,a=t.map(n.split(","),t.trim),l=new s(o.parseDate(a[0],_.formatDate),a[1],a[2]),c=o.formatDate(l.date,_.formatDate);void 0!==i[c]?(r=i[c].desc)&&r.length&&l.desc&&l.desc.length&&(i[c].desc=r+"\n"+l.desc):i[c]=l}),_.highlightedDates=t.extend(!0,[],i)),n.highlightedPeriods&&t.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(i=t.extend(!0,[],_.highlightedDates),t.each(n.highlightedPeriods,function(e,n){var r,a,l,c,u,d,h;if(t.isArray(n))r=n[0],a=n[1],l=n[2],h=n[3];else{var p=t.map(n.split(","),t.trim);r=o.parseDate(p[0],_.formatDate),a=o.parseDate(p[1],_.formatDate),l=p[2],h=p[3]}for(;r<=a;)c=new s(r,l,h),u=o.formatDate(r,_.formatDate),r.setDate(r.getDate()+1),void 0!==i[u]?(d=i[u].desc)&&d.length&&c.desc&&c.desc.length&&(i[u].desc=d+"\n"+c.desc):i[u]=c}),_.highlightedDates=t.extend(!0,[],i)),n.disabledDates&&t.isArray(n.disabledDates)&&n.disabledDates.length&&(_.disabledDates=t.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&t.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&(_.disabledWeekDays=t.extend(!0,[],n.disabledWeekDays)),!_.open&&!_.opened||_.inline||e.trigger("open.xdsoft"),_.inline&&(U=!0,z.addClass("xdsoft_inline"),e.after(z).hide()),_.inverseButton&&(_.next="xdsoft_prev",_.prev="xdsoft_next"),_.datepicker?R.addClass("active"):R.removeClass("active"),_.timepicker?$.addClass("active"):$.removeClass("active"),_.value&&(M.setCurrentTime(_.value),e&&e.val&&e.val(M.str)),isNaN(_.dayOfWeekStart)?_.dayOfWeekStart=0:_.dayOfWeekStart=parseInt(_.dayOfWeekStart,10)%7,_.timepickerScrollbar||H.xdsoftScroller(_,"hide"),_.minDate&&/^[\+\-](.*)$/.test(_.minDate)&&(_.minDate=o.formatDate(M.strToDateTime(_.minDate),_.formatDate)),_.maxDate&&/^[\+\-](.*)$/.test(_.maxDate)&&(_.maxDate=o.formatDate(M.strToDateTime(_.maxDate),_.formatDate)),_.minDateTime&&/^\+(.*)$/.test(_.minDateTime)&&(_.minDateTime=M.strToDateTime(_.minDateTime).dateFormat(_.formatDate)),B.toggle(_.showApplyButton),F.find(".xdsoft_today_button").css("visibility",_.todayButton?"visible":"hidden"),F.find("."+_.prev).css("visibility",_.prevButton?"visible":"hidden"),F.find("."+_.next).css("visibility",_.nextButton?"visible":"hidden"),G(_),_.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){if(_.allowBlank&&(!t.trim(t(this).val()).length||"string"==typeof _.mask&&t.trim(t(this).val())===_.mask.replace(/[0-9]/g,"_")))t(this).val(null),z.data("xdsoft_datetime").empty();else{var e=o.parseDate(t(this).val(),_.format);if(e)t(this).val(o.formatDate(e,_.format));else{var n=+[t(this).val()[0],t(this).val()[1]].join(""),i=+[t(this).val()[2],t(this).val()[3]].join("");!_.datepicker&&_.timepicker&&n>=0&&n<24&&i>=0&&i<60?t(this).val([n,i].map(function(t){return t>9?t:"0"+t}).join(":")):t(this).val(o.formatDate(M.now(),_.format))}z.data("xdsoft_datetime").setCurrentTime(t(this).val())}z.trigger("changedatetime.xdsoft"),z.trigger("close.xdsoft")}),_.dayOfWeekStartPrev=0===_.dayOfWeekStart?6:_.dayOfWeekStart-1,z.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},z.data("options",_).on("touchstart mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),q.hide(),W.hide(),!1}),H.append(j),H.xdsoftScroller(_),z.on("afterOpen.xdsoft",function(){H.xdsoftScroller(_)}),z.append(R).append($),!0!==_.withoutCopyright&&z.append(N),R.append(F).append(P).append(B),t(_.parentID).append(z),M=new function(){var e=this;e.now=function(t){var o,n,i=new Date;return!t&&_.defaultDate&&(o=e.strToDateTime(_.defaultDate),i.setFullYear(o.getFullYear()),i.setMonth(o.getMonth()),i.setDate(o.getDate())),_.yearOffset&&i.setFullYear(i.getFullYear()+_.yearOffset),!t&&_.defaultTime&&(n=e.strtotime(_.defaultTime),i.setHours(n.getHours()),i.setMinutes(n.getMinutes())),i},e.isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e.setCurrentTime=function(t,o){"string"==typeof t?e.currentTime=e.strToDateTime(t):e.isValidDate(t)?e.currentTime=t:t||o||!_.allowBlank||_.inline?e.currentTime=e.now():e.currentTime=null,z.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var o,n=e.currentTime.getMonth()+1;return 12===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),n=0),o=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),_.onChangeMonth&&t.isFunction(_.onChangeMonth)&&_.onChangeMonth.call(z,M.currentTime,z.data("input")),o!==e.currentTime.getFullYear()&&t.isFunction(_.onChangeYear)&&_.onChangeYear.call(z,M.currentTime,z.data("input")),z.trigger("xchange.xdsoft"),n},e.prevMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var o=e.currentTime.getMonth()-1;return-1===o&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),o=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),o+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(o),_.onChangeMonth&&t.isFunction(_.onChangeMonth)&&_.onChangeMonth.call(z,M.currentTime,z.data("input")),z.trigger("xchange.xdsoft"),o},e.getWeekOfYear=function(e){if(_.onGetWeekOfYear&&t.isFunction(_.onGetWeekOfYear)){var o=_.onGetWeekOfYear.call(z,e);if(void 0!==o)return o}var n=new Date(e.getFullYear(),0,1);return 4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),Math.ceil(((e-n)/864e5+n.getDay()+1)/7)},e.strToDateTime=function(t){var n,i,r=[];return t&&t instanceof Date&&e.isValidDate(t)?t:((r=/^([+-]{1})(.*)$/.exec(t))&&(r[2]=o.parseDate(r[2],_.formatDate)),r&&r[2]?(n=r[2].getTime()-6e4*r[2].getTimezoneOffset(),i=new Date(e.now(!0).getTime()+parseInt(r[1]+"1",10)*n)):i=t?o.parseDate(t,_.format):e.now(),e.isValidDate(i)||(i=e.now()),i)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?o.parseDate(t,_.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?o.parseDate(t,_.formatTime):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return o.formatDate(e.currentTime,_.format)},e.currentTime=this.now()},B.on("touchend click",function(t){t.preventDefault(),z.data("changed",!0),M.setCurrentTime(V()),e.val(M.str()),z.trigger("close.xdsoft")}),F.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){z.data("changed",!0),M.setCurrentTime(0,!0),z.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var t,o,n=M.getCurrentTime();n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=M.strToDate(_.minDate),n<(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))||(o=M.strToDate(_.maxDate),n>(o=new Date(o.getFullYear(),o.getMonth(),o.getDate()))||(e.val(M.str()),e.trigger("change"),z.trigger("close.xdsoft")))}),F.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),o=0,n=!1;!function t(i){e.hasClass(_.next)?M.nextMonth():e.hasClass(_.prev)&&M.prevMonth(),_.monthChangeSpinner&&(n||(o=setTimeout(t,i||100)))}(500),t([_.ownerDocument.body,_.contentWindow]).on("touchend mouseup.xdsoft",function e(){clearTimeout(o),n=!0,t([_.ownerDocument.body,_.contentWindow]).off("touchend mouseup.xdsoft",e)})}),$.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),o=0,n=!1,i=110;!function t(r){var s=H[0].clientHeight,a=j[0].offsetHeight,l=Math.abs(parseInt(j.css("marginTop"),10));e.hasClass(_.next)&&a-s-_.timeHeightInTimePicker>=l?j.css("marginTop","-"+(l+_.timeHeightInTimePicker)+"px"):e.hasClass(_.prev)&&l-_.timeHeightInTimePicker>=0&&j.css("marginTop","-"+(l-_.timeHeightInTimePicker)+"px"),H.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(j[0].style.marginTop,10)/(a-s))]),i=i>10?10:i-10,n||(o=setTimeout(t,r||i))}(500),t([_.ownerDocument.body,_.contentWindow]).on("touchend mouseup.xdsoft",function e(){clearTimeout(o),n=!0,t([_.ownerDocument.body,_.contentWindow]).off("touchend mouseup.xdsoft",e)})}),r=0,z.on("xchange.xdsoft",function(s){clearTimeout(r),r=setTimeout(function(){void 0!==M.currentTime&&null!==M.currentTime||(M.currentTime=M.now());for(var r,s,a,l,c,u,d,h,p,f,m="",g=new Date(M.currentTime.getFullYear(),M.currentTime.getMonth(),1,12,0,0),v=0,b=M.now(),y=!1,w=!1,x=!1,S=[],k=!0,T="";g.getDay()!==_.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",_.weeks&&(m+="<th></th>"),r=0;r<7;r+=1)m+="<th>"+_.i18n[n].dayOfWeekShort[(r+_.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==_.maxDate&&(y=M.strToDate(_.maxDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999)),!1!==_.minDate&&(w=M.strToDate(_.minDate),w=new Date(w.getFullYear(),w.getMonth(),w.getDate())),!1!==_.minDateTime&&(x=M.strToDate(_.minDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds()));v<M.currentTime.countDaysInMonth()||g.getDay()!==_.dayOfWeekStart||M.currentTime.getMonth()===g.getMonth();)S=[],v+=1,a=g.getDay(),l=g.getDate(),c=g.getFullYear(),u=g.getMonth(),d=M.getWeekOfYear(g),f="",S.push("xdsoft_date"),h=_.beforeShowDay&&t.isFunction(_.beforeShowDay.call)?_.beforeShowDay.call(z,g):null,_.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(_.allowDateRe)&&(_.allowDateRe.test(o.formatDate(g,_.formatDate))||S.push("xdsoft_disabled")),_.allowDates&&_.allowDates.length>0&&-1===_.allowDates.indexOf(o.formatDate(g,_.formatDate))&&S.push("xdsoft_disabled"),(!1!==y&&g>y||!1!==x&&g<x||!1!==w&&g<w||h&&!1===h[0])&&S.push("xdsoft_disabled"),-1!==_.disabledDates.indexOf(o.formatDate(g,_.formatDate))&&S.push("xdsoft_disabled"),-1!==_.disabledWeekDays.indexOf(a)&&S.push("xdsoft_disabled"),e.is("[disabled]")&&S.push("xdsoft_disabled"),h&&""!==h[1]&&S.push(h[1]),M.currentTime.getMonth()!==u&&S.push("xdsoft_other_month"),(_.defaultSelect||z.data("changed"))&&o.formatDate(M.currentTime,_.formatDate)===o.formatDate(g,_.formatDate)&&S.push("xdsoft_current"),o.formatDate(b,_.formatDate)===o.formatDate(g,_.formatDate)&&S.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===_.weekends.indexOf(o.formatDate(g,_.formatDate))||S.push("xdsoft_weekend"),void 0!==_.highlightedDates[o.formatDate(g,_.formatDate)]&&(s=_.highlightedDates[o.formatDate(g,_.formatDate)],S.push(void 0===s.style?"xdsoft_highlighted_default":s.style),f=void 0===s.desc?"":s.desc),_.beforeShowDay&&t.isFunction(_.beforeShowDay)&&S.push(_.beforeShowDay(g)),k&&(m+="<tr>",k=!1,_.weeks&&(m+="<th>"+d+"</th>")),m+='<td data-date="'+l+'" data-month="'+u+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+S.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",g.getDay()===_.dayOfWeekStartPrev&&(m+="</tr>",k=!0),g.setDate(l+1);if(m+="</tbody></table>",P.html(m),F.find(".xdsoft_label span").eq(0).text(_.i18n[n].months[M.currentTime.getMonth()]),F.find(".xdsoft_label span").eq(1).text(M.currentTime.getFullYear()),T="","",u="",p=function(n,i){var r,s,a=M.now(),l=_.allowTimes&&t.isArray(_.allowTimes)&&_.allowTimes.length;a.setHours(n),n=parseInt(a.getHours(),10),a.setMinutes(i),i=parseInt(a.getMinutes(),10),(r=new Date(M.currentTime)).setHours(n),r.setMinutes(i),S=[],!1!==_.minDateTime&&_.minDateTime>r||!1!==_.maxTime&&M.strtotime(_.maxTime).getTime()<a.getTime()||!1!==_.minTime&&M.strtotime(_.minTime).getTime()>a.getTime()?S.push("xdsoft_disabled"):!1!==_.minDateTime&&_.minDateTime>r||!1!==_.disabledMinTime&&a.getTime()>M.strtotime(_.disabledMinTime).getTime()&&!1!==_.disabledMaxTime&&a.getTime()<M.strtotime(_.disabledMaxTime).getTime()?S.push("xdsoft_disabled"):e.is("[disabled]")&&S.push("xdsoft_disabled"),(s=new Date(M.currentTime)).setHours(parseInt(M.currentTime.getHours(),10)),l||s.setMinutes(Math[_.roundTime](M.currentTime.getMinutes()/_.step)*_.step),(_.initTime||_.defaultSelect||z.data("changed"))&&s.getHours()===parseInt(n,10)&&(!l&&_.step>59||s.getMinutes()===parseInt(i,10))&&(_.defaultSelect||z.data("changed")?S.push("xdsoft_current"):_.initTime&&S.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(n,10)&&parseInt(b.getMinutes(),10)===parseInt(i,10)&&S.push("xdsoft_today"),T+='<div class="xdsoft_time '+S.join(" ")+'" data-hour="'+n+'" data-minute="'+i+'">'+o.formatDate(a,_.formatTime)+"</div>"},_.allowTimes&&t.isArray(_.allowTimes)&&_.allowTimes.length)for(v=0;v<_.allowTimes.length;v+=1)p(M.strtotime(_.allowTimes[v]).getHours(),u=M.strtotime(_.allowTimes[v]).getMinutes());else for(v=0,r=0;v<(_.hours12?12:24);v+=1)for(r=0;r<60;r+=_.step)p((v<10?"0":"")+v,u=(r<10?"0":"")+r);for(j.html(T),i="",v=parseInt(_.yearStart,10)+_.yearOffset;v<=parseInt(_.yearEnd,10)+_.yearOffset;v+=1)i+='<div class="xdsoft_option '+(M.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+v+"</div>";for(q.children().eq(0).html(i),v=parseInt(_.monthStart,10),i="";v<=parseInt(_.monthEnd,10);v+=1)i+='<div class="xdsoft_option '+(M.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+_.i18n[n].months[v]+"</div>";W.children().eq(0).html(i),t(z).trigger("generate.xdsoft")},10),s.stopPropagation()}).on("afterOpen.xdsoft",function(){if(_.timepicker){var t,e,o,n;j.find(".xdsoft_current").length?t=".xdsoft_current":j.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=H[0].clientHeight,(o=j[0].offsetHeight)-e<(n=j.find(t).index()*_.timeHeightInTimePicker+1)&&(n=o-e),H.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(o-e)])):H.trigger("scroll_element.xdsoft_scroller",[0])}}),a=0,P.on("touchend click.xdsoft","td",function(o){o.stopPropagation(),a+=1;var n=t(this),i=M.currentTime;if(void 0!==i&&null!==i||(M.currentTime=M.now(),i=M.currentTime),n.hasClass("xdsoft_disabled"))return!1;i.setDate(1),i.setFullYear(n.data("year")),i.setMonth(n.data("month")),i.setDate(n.data("date")),z.trigger("select.xdsoft",[i]),e.val(M.str()),_.onSelectDate&&t.isFunction(_.onSelectDate)&&_.onSelectDate.call(z,M.currentTime,z.data("input"),o),z.data("changed",!0),z.trigger("xchange.xdsoft"),z.trigger("changedatetime.xdsoft"),(a>1||!0===_.closeOnDateSelect||!1===_.closeOnDateSelect&&!_.timepicker)&&!_.inline&&z.trigger("close.xdsoft"),setTimeout(function(){a=0},200)}),j.on("touchstart","div",function(t){this.touchmoved=!1}).on("touchmove","div",function(t){this.touchmoved=!0}).on("touchend click.xdsoft","div",function(e){if(!this.touchmoved){e.stopPropagation();var o=t(this),n=M.currentTime;if(void 0!==n&&null!==n||(M.currentTime=M.now(),n=M.currentTime),o.hasClass("xdsoft_disabled"))return!1;n.setHours(o.data("hour")),n.setMinutes(o.data("minute")),z.trigger("select.xdsoft",[n]),z.data("input").val(M.str()),_.onSelectTime&&t.isFunction(_.onSelectTime)&&_.onSelectTime.call(z,M.currentTime,z.data("input"),e),z.data("changed",!0),z.trigger("xchange.xdsoft"),z.trigger("changedatetime.xdsoft"),!0!==_.inline&&!0===_.closeOnTimeSelect&&z.trigger("close.xdsoft")}}),R.on("mousewheel.xdsoft",function(t){return!_.scrollMonth||(t.deltaY<0?M.nextMonth():M.prevMonth(),!1)}),e.on("mousewheel.xdsoft",function(t){return!_.scrollInput||(!_.datepicker&&_.timepicker?((l=j.find(".xdsoft_current").length?j.find(".xdsoft_current").eq(0).index():0)+t.deltaY>=0&&l+t.deltaY<j.children().length&&(l+=t.deltaY),j.children().eq(l).length&&j.children().eq(l).trigger("mousedown"),!1):_.datepicker&&!_.timepicker?(R.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(M.str()),z.trigger("changedatetime.xdsoft"),!1):void 0)}),z.on("changedatetime.xdsoft",function(e){if(_.onChangeDateTime&&t.isFunction(_.onChangeDateTime)){var o=z.data("input");_.onChangeDateTime.call(z,M.currentTime,o,e),delete _.value,o.trigger("change")}}).on("generate.xdsoft",function(){_.onGenerate&&t.isFunction(_.onGenerate)&&_.onGenerate.call(z,M.currentTime,z.data("input")),U&&(z.trigger("afterOpen.xdsoft"),U=!1)}).on("click.xdsoft",function(t){t.stopPropagation()}),l=0,O=function(t,e){do{if(!(t=t.parentNode)||!1===e(t))break}while("HTML"!==t.nodeName)},c=function(){var e,o,n,i,r,s,a,l,c,u,d,h,p;if(e=(l=z.data("input")).offset(),o=l[0],u="top",n=e.top+o.offsetHeight-1,i=e.left,r="absolute",c=t(_.contentWindow).width(),h=t(_.contentWindow).height(),p=t(_.contentWindow).scrollTop(),_.ownerDocument.documentElement.clientWidth-e.left<R.parent().outerWidth(!0)){var f=R.parent().outerWidth(!0)-o.offsetWidth;i-=f}"rtl"===l.parent().css("direction")&&(i-=z.outerWidth()-l.outerWidth()),_.fixed?(n-=p,i-=t(_.contentWindow).scrollLeft(),r="fixed"):(a=!1,O(o,function(t){return null!==t&&("fixed"===_.contentWindow.getComputedStyle(t).getPropertyValue("position")?(a=!0,!1):void 0)}),a?(r="fixed",n+z.outerHeight()>h+p?(u="bottom",n=h+p-e.top):n-=p):n+z[0].offsetHeight>h+p&&(n=e.top-z[0].offsetHeight+1),n<0&&(n=0),i+o.offsetWidth>c&&(i=c-o.offsetWidth)),s=z[0],O(s,function(t){if("relative"===_.contentWindow.getComputedStyle(t).getPropertyValue("position")&&c>=t.offsetWidth)return i-=(c-t.offsetWidth)/2,!1}),(d={position:r,left:i,top:"",bottom:""})[u]=n,z.css(d)},z.on("open.xdsoft",function(e){var o=!0;_.onShow&&t.isFunction(_.onShow)&&(o=_.onShow.call(z,M.currentTime,z.data("input"),e)),!1!==o&&(z.show(),c(),t(_.contentWindow).off("resize.xdsoft",c).on("resize.xdsoft",c),_.closeOnWithoutClick&&t([_.ownerDocument.body,_.contentWindow]).on("touchstart mousedown.xdsoft",function e(){z.trigger("close.xdsoft"),t([_.ownerDocument.body,_.contentWindow]).off("touchstart mousedown.xdsoft",e)}))}).on("close.xdsoft",function(e){var o=!0;F.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),_.onClose&&t.isFunction(_.onClose)&&(o=_.onClose.call(z,M.currentTime,z.data("input"),e)),!1===o||_.opened||_.inline||z.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(){z.is(":visible")?z.trigger("close.xdsoft"):z.trigger("open.xdsoft")}).data("input",e),Y=0,z.data("xdsoft_datetime",M),z.setOptions(_);function V(){var t,o=!1;return _.startDate?o=M.strToDate(_.startDate):(o=_.value||(e&&e.val&&e.val()?e.val():""))?o=M.strToDateTime(o):_.defaultDate&&(o=M.strToDateTime(_.defaultDate),_.defaultTime&&(t=M.strtotime(_.defaultTime),o.setHours(t.getHours()),o.setMinutes(t.getMinutes()))),o&&M.isValidDate(o)?z.data("changed",!0):o="",o||0}function G(o){var n=function(t,e){var o=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(o).test(e)},i=function(t,e){if(!(t="string"==typeof t||t instanceof String?o.ownerDocument.getElementById(t):t))return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select(),!0}return!!t.setSelectionRange&&(t.setSelectionRange(e,e),!0)};o.mask&&e.off("keydown.xdsoft"),!0===o.mask&&("undefined"!=typeof moment?o.mask=o.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):o.mask=o.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(o.mask)&&(n(o.mask,e.val())||(e.val(o.mask.replace(/[0-9]/g,"_")),i(e[0],0)),e.on("keydown.xdsoft",function(r){var s,a,l=this.value,c=r.which;if(c>=u&&c<=d||c>=h&&c<=p||c===b||c===m){for(s=function(t){try{if(o.ownerDocument.selection&&o.ownerDocument.selection.createRange)return o.ownerDocument.selection.createRange().getBookmark().charCodeAt(2)-2;if(t.setSelectionRange)return t.selectionStart}catch(t){return 0}}(this),a=c!==b&&c!==m?String.fromCharCode(h<=c&&c<=p?c-u:c):"_",c!==b&&c!==m||!s||(s-=1,a="_");/[^0-9_]/.test(o.mask.substr(s,1))&&s<o.mask.length&&s>0;)s+=c===b||c===m?-1:1;if(l=l.substr(0,s)+a+l.substr(s+1),""===t.trim(l))l=o.mask.replace(/[0-9]/g,"_");else if(s===o.mask.length)return r.preventDefault(),!1;for(s+=c===b||c===m?0:1;/[^0-9_]/.test(o.mask.substr(s,1))&&s<o.mask.length&&s>0;)s+=c===b||c===m?-1:1;n(o.mask,l)?(this.value=l,i(this,s)):""===t.trim(l)?this.value=o.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[C,D,I,E,A].indexOf(c)&&L||-1!==[v,w,S,y,x,T,f,k,g].indexOf(c))return!0;return r.preventDefault(),!1}))}M.setCurrentTime(V()),e.data("xdsoft_datetimepicker",z).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&_.closeOnInputClick||(clearTimeout(Y),Y=setTimeout(function(){e.is(":disabled")||(U=!0,M.setCurrentTime(V(),!0),_.mask&&G(_),z.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var o,n=e.which;return-1!==[g].indexOf(n)&&_.enterLikeTab?(o=t("input:visible,textarea:visible,button:visible,a:visible"),z.trigger("close.xdsoft"),o.eq(o.index(this)+1).focus(),!1):-1!==[k].indexOf(n)?(z.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){z.trigger("close.xdsoft")})},l=function(e){var o=e.data("xdsoft_datetimepicker");o&&(o.data("xdsoft_datetime",null),o.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(_.contentWindow).off("resize.xdsoft"),t([_.contentWindow,_.ownerDocument.body]).off("mousedown.xdsoft touchstart"),e.unmousewheel&&e.unmousewheel())},t(_.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode===f&&(L=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode===f&&(L=!1)}),this.each(function(){var e=t(this).data("xdsoft_datetimepicker");if(e){if("string"===t.type(i))switch(i){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":l(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(o.parseDate(this.value,_.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":e.data("input").trigger("blur.xdsoft");break;default:e[i]&&t.isFunction(e[i])&&(c=e[i](r))}else e.setOptions(i);return 0}"string"!==t.type(i)&&(!_.lazyInit||_.open||_.inline?a(t(this)):(n=t(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){n.is(":disabled")||n.data("xdsoft_datetimepicker")||(clearTimeout(M),M=setTimeout(function(){n.data("xdsoft_datetimepicker")||a(n),n.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))}));var n}),c},t.fn.datetimepicker.defaults=e;function s(t,e,o){this.date=t,this.desc=e,this.style=o}};!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(datetimepickerFactory),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){var e,o,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var s=n.length;s;)t.event.fixHooks[n[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var o=t(e),n=o["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}});function l(n){var i=n||window.event,s=r.call(arguments,1),l=0,d=0,h=0,p=0,f=0,m=0;if((n=t.event.fix(i)).type="mousewheel","detail"in i&&(h=-1*i.detail),"wheelDelta"in i&&(h=i.wheelDelta),"wheelDeltaY"in i&&(h=i.wheelDeltaY),"wheelDeltaX"in i&&(d=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(d=-1*h,h=0),l=0===h?d:h,"deltaY"in i&&(l=h=-1*i.deltaY),"deltaX"in i&&(d=i.deltaX,0===h&&(l=-1*d)),0!==h||0!==d){if(1===i.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,h*=g,d*=g}else if(2===i.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!o||p<o)&&(o=p,u(i,p)&&(o/=40)),u(i,p)&&(l/=40,d/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,m=n.clientY-b.top}return n.deltaX=d,n.deltaY=h,n.deltaFactor=o,n.offsetX=f,n.offsetY=m,n.deltaMode=0,s.unshift(n,l,d,h),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function c(){o=null}function u(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e=function(){function e(t,e,o,n){this.markup=t,this.children=e,this.options=o,this.callback=n}return e.prototype.render=function(e){var o=t(this.markup);if(this.options&&this.options.contents&&o.html(this.options.contents),this.options&&this.options.className&&o.addClass(this.options.className),this.options&&this.options.data&&t.each(this.options.data,function(t,e){o.attr("data-"+t,e)}),this.options&&this.options.click&&o.on("click",this.options.click),this.children){var n=o.find(".note-children-container");this.children.forEach(function(t){t.render(n.length?n:o)})}return this.callback&&this.callback(o,this.options),this.options&&this.options.callback&&this.options.callback(o),e&&e.append(o),o},e}(),o=function(o,n){return function(){var i="object"==typeof arguments[1]?arguments[1]:arguments[0],r=t.isArray(arguments[0])?arguments[0]:[];return i&&i.children&&(r=i.children),new e(o,r,i,n)}},n=o('<div class="note-editor note-frame panel"/>'),i=o('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading"></div></div>'),r=o('<div class="note-editing-area"/>'),s=o('<textarea class="note-codable"/>'),a=o('<div class="note-editable" contentEditable="true"/>'),l=o(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=o('<div class="note-editor"/>'),u=o('<div class="note-editable" contentEditable="true"/>'),d=o('<div class="note-btn-group btn-group">'),h=o('<div class="dropdown-menu">',function(e,o){var n=t.isArray(o.items)?o.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=o.template?o.template(t):t,i="object"==typeof t?t.option:void 0;return'<li><a href="#" data-value="'+e+'"'+(void 0!==i?' data-option="'+i+'"':"")+">"+n+"</a></li>"}).join(""):o.items;e.html(n)}),p=o('<div class="dropdown-menu note-check">',function(e,o){var n=t.isArray(o.items)?o.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=o.template?o.template(t):t;return'<li><a href="#" data-value="'+e+'">'+f(o.checkClassName)+" "+n+"</a></li>"}).join(""):o.items;e.html(n)}),f=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},m={editor:n,toolbar:i,editingArea:r,codable:s,editable:a,statusbar:l,airEditor:c,airEditable:u,buttonGroup:d,dropdown:h,dropdownButtonContents:function(t,e){return t+" "+f(e.icons.caret,"span")},dropdownCheck:p,palette:o('<div class="note-color-palette"/>',function(t,e){for(var o=[],n=0,i=e.colors.length;n<i;n++){for(var r=e.eventName,s=e.colors[n],a=[],l=0,c=s.length;l<c;l++){var u=s[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+a.join("")+"</div>")}t.html(o.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})}),dialog:o('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),popover:o(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var o=void 0!==e.direction?e.direction:"bottom";t.addClass(o),e.hideArrow&&t.find(".arrow").hide()}),checkbox:o('<div class="checkbox"></div>',function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input type="checkbox"'+(e.id?' id="'+e.id+'"':""),(e.checked?" checked":"")+"/>",e.text?e.text:"","</label>"].join(""))}),icon:f,options:{},button:function(t,e){return o('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:e.container,trigger:"hover",placement:"bottom"})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var o=(e.airMode?m.airEditor([m.editingArea([m.airEditable()])]):m.editor([m.toolbar(),m.editingArea([m.codable(),m.editable()]),m.statusbar()])).render();return o.insertAfter(t),{note:t,editor:o,toolbar:o.find(".note-toolbar"),editingArea:o.find(".note-editing-area"),editable:o.find(".note-editable"),codable:o.find(".note-codable"),statusbar:o.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}},g=0,v={eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,o){return e[t]===o[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(o){return t(o)&&e(o)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++g+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[t[o]]=o);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(t,e,o){var n,i=this;return function(){var r=i,s=arguments,a=o&&!n;clearTimeout(n),n=setTimeout(function(){n=null,o||t.apply(r,s)},e),a&&t.apply(r,s)}}};function b(t){return t[0]}function y(t){return t[t.length-1]}function w(t){return t.slice(1)}function x(e,o){return t.inArray(o,e)}function S(t,e){return-1!==x(t,e)}var k,T={head:b,last:y,initial:function(t){return t.slice(0,t.length-1)},tail:w,prev:function(t,e){var o=x(t,e);return-1===o?null:t[o-1]},next:function(t,e){var o=x(t,e);return-1===o?null:t[o+1]},find:function(t,e){for(var o=0,n=t.length;o<n;o++){var i=t[o];if(e(i))return i}},contains:S,all:function(t,e){for(var o=0,n=t.length;o<n;o++)if(!e(t[o]))return!1;return!0},sum:function(t,e){return e=e||v.self,t.reduce(function(t,o){return t+e(o)},0)},from:function(t){for(var e=[],o=t.length,n=-1;++n<o;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,e){return t.length?w(t).reduce(function(t,o){var n=y(t);return e(y(n),o)?n[n.length]=o:t[t.length]=[o],t},[[b(t)]]):[]},compact:function(t){for(var e=[],o=0,n=t.length;o<n;o++)t[o]&&e.push(t[o]);return e},unique:function(t){for(var e=[],o=0,n=t.length;o<n;o++)S(e,t[o])||e.push(t[o]);return e}},C="function"==typeof define&&define.amd,D=navigator.userAgent,I=/MSIE|Trident/i.test(D);if(I){var E=/MSIE (\d+[.]\d+)/.exec(D);E&&(k=parseFloat(E[1])),(E=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(D))&&(k=parseFloat(E[1]))}var A=/Edge\/\d+/.test(D),L=!!window.CodeMirror;if(!L&&C)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),L=!0}catch(t){}else if("undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),L=!0}catch(t){}else void 0!==require.specified&&(L=require.specified("codemirror"));var _="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,M=I||A?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",O={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:I,isEdge:A,isFF:!A&&/firefox/i.test(D),isPhantom:/PhantomJS/i.test(D),isWebkit:!A&&/webkit/i.test(D),isChrome:!A&&/chrome/i.test(D),isSafari:!A&&/safari/i.test(D),browserVersion:k,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:C,isSupportTouch:_,hasCodeMirror:L,isFontInstalled:function(e){var o="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",o).width(),r=n.css("fontFamily",e+","+o).width();return n.remove(),i!==r},isW3CRangeSupport:!!document.createRange,inputEventName:M},z=String.fromCharCode(160);function N(e){return e&&t(e).hasClass("note-editable")}function R(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function F(t){return t&&3===t.nodeType}function P(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())}function H(t){return!N(t)&&t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())}var j=R("PRE"),B=R("LI"),W=R("TABLE"),q=R("DATA");function U(t){return!(J(t)||Y(t)||V(t)||H(t)||W(t)||X(t)||q(t))}function Y(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var V=R("HR");function G(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var X=R("BLOCKQUOTE");function J(t){return G(t)||X(t)||N(t)}var K=R("A"),Z=R("BODY"),Q=O.isMSIE&&O.browserVersion<11?"&nbsp;":"<br>";function tt(t){return F(t)?t.nodeValue.length:t?t.childNodes.length:0}function et(t){var e=tt(t);return 0===e||!F(t)&&1===e&&t.innerHTML===Q||!(!T.all(t.childNodes,F)||""!==t.innerHTML)}function ot(t){P(t)||tt(t)||(t.innerHTML=Q)}function nt(t,e){for(;t;){if(e(t))return t;if(N(t))break;t=t.parentNode}return null}function it(t,e){e=e||v.fail;var o=[];return nt(t,function(t){return N(t)||o.push(t),e(t)}),o}function rt(t,e){e=e||v.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.nextSibling;return o}function st(t,e){var o=e.nextSibling,n=e.parentNode;return o?n.insertBefore(t,o):n.appendChild(t),t}function at(e,o){return t.each(o,function(t,o){e.appendChild(o)}),e}function lt(t){return 0===t.offset}function ct(t){return t.offset===tt(t.node)}function ut(t){return lt(t)||ct(t)}function dt(t,e){for(;t&&t!==e;){if(0!==pt(t))return!1;t=t.parentNode}return!0}function ht(t,e){if(!e)return!1;for(;t&&t!==e;){if(pt(t)!==tt(t.parentNode)-1)return!1;t=t.parentNode}return!0}function pt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function ft(t){return!!(t&&t.childNodes&&t.childNodes.length)}function mt(t,e){var o,n;if(0===t.offset){if(N(t.node))return null;o=t.node.parentNode,n=pt(t.node)}else ft(t.node)?n=tt(o=t.node.childNodes[t.offset-1]):(o=t.node,n=e?0:t.offset-1);return{node:o,offset:n}}function gt(t,e){var o,n;if(tt(t.node)===t.offset){if(N(t.node))return null;o=t.node.parentNode,n=pt(t.node)+1}else ft(t.node)?(o=t.node.childNodes[t.offset],n=0):(o=t.node,n=e?tt(t.node):t.offset+1);return{node:o,offset:n}}function vt(t,e){return t.node===e.node&&t.offset===e.offset}function bt(t,e){var o=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint;if(ut(t)&&(F(t.node)||n)){if(lt(t))return t.node;if(ct(t))return t.node.nextSibling}if(F(t.node))return t.node.splitText(t.offset);var i=t.node.childNodes[t.offset],r=st(t.node.cloneNode(!1),t.node);return at(r,rt(i)),o||(ot(t.node),ot(r)),r}function yt(t,e,o){var n=it(e.node,v.eq(t));return n.length?1===n.length?bt(e,o):n.reduce(function(t,n){return t===e.node&&(t=bt(e,o)),bt({node:n,offset:t?pt(t):tt(n)},o)}):null}function wt(t){return document.createElement(t)}function xt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var o=t.parentNode;if(!e){for(var n=[],i=0,r=t.childNodes.length;i<r;i++)n.push(t.childNodes[i]);for(i=0,r=n.length;i<r;i++)o.insertBefore(n[i],t)}o.removeChild(t)}}var St=R("TEXTAREA");function kt(t,e){var o=St(t[0])?t.val():t.html();return e?o.replace(/[\n\r]/g,""):o}var Tt={NBSP_CHAR:z,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:Q,emptyPara:"<p>"+Q+"</p>",makePredByNodeName:R,isEditable:N,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},isText:F,isElement:function(t){return t&&1===t.nodeType},isVoid:P,isPara:H,isPurePara:function(t){return H(t)&&!B(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:U,isBlock:v.not(U),isBodyInline:function(t){return U(t)&&!nt(t,H)},isBody:Z,isParaInline:function(t){return U(t)&&!!nt(t,H)},isPre:j,isList:Y,isTable:W,isData:q,isCell:G,isBlockquote:X,isBodyContainer:J,isAnchor:K,isDiv:R("DIV"),isLi:B,isBR:R("BR"),isSpan:R("SPAN"),isB:R("B"),isU:R("U"),isS:R("S"),isI:R("I"),isImg:R("IMG"),isTextarea:St,isEmpty:et,isEmptyAnchor:v.and(K,et),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||v.ok;var o=[];return t.previousSibling&&e(t.previousSibling)&&o.push(t.previousSibling),o.push(t),t.nextSibling&&e(t.nextSibling)&&o.push(t.nextSibling),o},nodeLength:tt,isLeftEdgePoint:lt,isRightEdgePoint:ct,isEdgePoint:ut,isLeftEdgeOf:dt,isRightEdgeOf:ht,isLeftEdgePointOf:function(t,e){return lt(t)&&dt(t.node,e)},isRightEdgePointOf:function(t,e){return ct(t)&&ht(t.node,e)},prevPoint:mt,nextPoint:gt,isSamePoint:vt,isVisiblePoint:function(t){if(F(t.node)||!ft(t.node)||et(t.node))return!0;var e=t.node.childNodes[t.offset-1],o=t.node.childNodes[t.offset];return!(e&&!P(e)||o&&!P(o))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=mt(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=gt(t)}return null},isCharPoint:function(t){if(!F(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==z},walkPoint:function(t,e,o,n){for(var i=t;i&&(o(i),!vt(i,e));)i=gt(i,n&&t.node!==i.node&&e.node!==i.node)},ancestor:nt,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===tt(t);){if(e(t))return t;if(N(t))break;t=t.parentNode}return null},listAncestor:it,lastAncestor:function(t,e){var o=it(t);return T.last(o.filter(e))},listNext:rt,listPrev:function(t,e){e=e||v.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.previousSibling;return o},listDescendant:function(t,e){var o=[];return e=e||v.ok,function n(i){t!==i&&e(i)&&o.push(i);for(var r=0,s=i.childNodes.length;r<s;r++)n(i.childNodes[r])}(t),o},commonAncestor:function(e,o){for(var n=it(e),i=o;i;i=i.parentNode)if(t.inArray(i,n)>-1)return i;return null},wrap:function(e,o){var n=e.parentNode,i=t("<"+o+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},insertAfter:st,appendChildNodes:at,position:pt,hasChildren:ft,makeOffsetPath:function(t,e){return it(e,v.eq(t)).map(pt).reverse()},fromOffsetPath:function(t,e){for(var o=t,n=0,i=e.length;n<i;n++)o=o.childNodes.length<=e[n]?o.childNodes[o.childNodes.length-1]:o.childNodes[e[n]];return o},splitTree:yt,splitPoint:function(t,e){var o,n,i=e?H:J,r=it(t.node,i),s=T.last(r)||t.node;i(s)?(o=r[r.length-2],n=s):n=(o=s).parentNode;var a=o&&yt(o,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||n!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:n}},create:wt,createText:function(t){return document.createTextNode(t)},remove:xt,removeWhile:function(t,e){for(;t&&!N(t)&&e(t);){var o=t.parentNode;xt(t),t=o}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var o=wt(e);return t.style.cssText&&(o.style.cssText=t.style.cssText),at(o,T.from(t.childNodes)),st(o,t),xt(t),o},html:function(e,o){var n=kt(e);return o&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,o){o=o.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(o)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(o);return t+(n||i?"\n":"")}),n=t.trim(n)),n},value:kt,posFromPlaceholder:function(e){var o=t(e),n=o.offset(),i=o.outerHeight(!0);return{left:n.left,top:n.top+i}},attachEvents:function(t,e){Object.keys(e).forEach(function(o){t.on(o,e[o])})},detachEvents:function(t,e){Object.keys(e).forEach(function(o){t.off(o,e[o])})},isCustomStyleTag:function(t){return t&&!F(t)&&T.contains(t.classList,"note-styletag")}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Ct={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Dt={isEdit:function(t){return T.contains([Ct.BACKSPACE,Ct.TAB,Ct.ENTER,Ct.SPACE,Ct.DELETE],t)},isMove:function(t){return T.contains([Ct.LEFT,Ct.UP,Ct.RIGHT,Ct.DOWN],t)},nameFromCode:v.invertObject(Ct),code:Ct};function It(t,e){var o,n,i=t.parentElement(),r=document.body.createTextRange(),s=T.from(i.childNodes);for(o=0;o<s.length;o++)if(!Tt.isText(s[o])){if(r.moveToElementText(s[o]),r.compareEndPoints("StartToStart",t)>=0)break;n=s[o]}if(0!==o&&Tt.isText(s[o-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||i),a.collapse(!n),l=n?n.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",a);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,e&&l.nextSibling&&Tt.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,o=u}return{cont:i,offset:o}}function Et(t){var e=function(t,o){var n,i;if(Tt.isText(t)){var r=Tt.listPrev(t,v.not(Tt.isText)),s=T.last(r).previousSibling;n=s||t.parentNode,o+=T.sum(T.tail(r),Tt.nodeLength),i=!s}else{if(n=t.childNodes[o]||t,Tt.isText(n))return e(n,0);o=0,i=!1}return{node:n,collapseToStart:i,offset:o}},o=document.body.createTextRange(),n=e(t.node,t.offset);return o.moveToElementText(n.node),o.collapse(n.collapseToStart),o.moveStart("character",n.offset),o}var At=function(){function e(t,e,o,n){this.sc=t,this.so=e,this.ec=o,this.eo=n,this.isOnEditable=this.makeIsOn(Tt.isEditable),this.isOnList=this.makeIsOn(Tt.isList),this.isOnAnchor=this.makeIsOn(Tt.isAnchor),this.isOnCell=this.makeIsOn(Tt.isCell),this.isOnData=this.makeIsOn(Tt.isData)}return e.prototype.nativeRange=function(){if(O.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=Et({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Et({node:this.ec,offset:this.eo})),e},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var t=this.nativeRange();if(O.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},e.prototype.scrollIntoView=function(e){var o=t(e).height();return e.scrollTop+o<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+o-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(t,e){if(Tt.isVisiblePoint(t)&&!Tt.isEdgePoint(t)||Tt.isVisiblePoint(t)&&Tt.isRightEdgePoint(t)&&!e||Tt.isVisiblePoint(t)&&Tt.isLeftEdgePoint(t)&&e||Tt.isVisiblePoint(t)&&Tt.isBlock(t.node)&&Tt.isEmpty(t.node))return t;var o=Tt.ancestor(t.node,Tt.isBlock);if((Tt.isLeftEdgePointOf(t,o)||Tt.isVoid(Tt.prevPoint(t).node))&&!e||(Tt.isRightEdgePointOf(t,o)||Tt.isVoid(Tt.nextPoint(t).node))&&e){if(Tt.isVisiblePoint(t))return t;e=!e}return(e?Tt.nextPointUntil(Tt.nextPoint(t),Tt.isVisiblePoint):Tt.prevPointUntil(Tt.prevPoint(t),Tt.isVisiblePoint))||t},o=t(this.getEndPoint(),!1),n=this.isCollapsed()?o:t(this.getStartPoint(),!0);return new e(n.node,n.offset,o.node,o.offset)},e.prototype.nodes=function(t,e){t=t||v.ok;var o=e&&e.includeAncestor,n=e&&e.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return Tt.walkPoint(i,r,function(e){if(!Tt.isEditable(e.node)){var i;n?(Tt.isLeftEdgePoint(e)&&a.push(e.node),Tt.isRightEdgePoint(e)&&T.contains(a,e.node)&&(i=e.node)):i=o?Tt.ancestor(e.node,t):e.node,i&&t(i)&&s.push(i)}},!0),T.unique(s)},e.prototype.commonAncestor=function(){return Tt.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var o=Tt.ancestor(this.sc,t),n=Tt.ancestor(this.ec,t);if(!o&&!n)return new e(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return o&&(i.sc=o,i.so=0),n&&(i.ec=n,i.eo=Tt.nodeLength(n)),new e(i.sc,i.so,i.ec,i.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,o=this.getPoints();return Tt.isText(this.ec)&&!Tt.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Tt.isText(this.sc)&&!Tt.isEdgePoint(this.getStartPoint())&&(o.sc=this.sc.splitText(this.so),o.so=0,t&&(o.ec=o.sc,o.eo=this.eo-this.so)),new e(o.sc,o.so,o.ec,o.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var o=this.splitText(),n=o.nodes(null,{fullyContains:!0}),i=Tt.prevPointUntil(o.getStartPoint(),function(t){return!T.contains(n,t.node)}),r=[];return t.each(n,function(t,e){var o=e.parentNode;i.node!==o&&1===Tt.nodeLength(o)&&r.push(o),Tt.remove(e,!1)}),t.each(r,function(t,e){Tt.remove(e,!1)}),new e(i.node,i.offset,i.node,i.offset).normalize()},e.prototype.makeIsOn=function(t){return function(){var e=Tt.ancestor(this.sc,t);return!!e&&e===Tt.ancestor(this.ec,t)}},e.prototype.isLeftEdgeOf=function(t){if(!Tt.isLeftEdgePoint(this.getStartPoint()))return!1;var e=Tt.ancestor(this.sc,t);return e&&Tt.isLeftEdgeOf(this.sc,e)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(Tt.isBodyContainer(this.sc)&&Tt.isEmpty(this.sc))return this.sc.innerHTML=Tt.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t=this.normalize();if(Tt.isParaInline(this.sc)||Tt.isPara(this.sc))return t;var o;if(Tt.isInline(t.sc)){var n=Tt.listAncestor(t.sc,v.not(Tt.isInline));o=T.last(n),Tt.isInline(o)||(o=n[n.length-2]||t.sc.childNodes[t.so])}else o=t.sc.childNodes[t.so>0?t.so-1:0];var i=Tt.listPrev(o,Tt.isParaInline).reverse();if((i=i.concat(Tt.listNext(o.nextSibling,Tt.isParaInline))).length){var r=Tt.wrap(T.head(i),"p");Tt.appendChildNodes(r,T.tail(i))}return this.normalize()},e.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),o=Tt.splitPoint(e.getStartPoint(),Tt.isInline(t));return o.rightNode?o.rightNode.parentNode.insertBefore(t,o.rightNode):o.container.appendChild(t),t},e.prototype.pasteHTML=function(e){var o=t("<div></div>").html(e)[0],n=T.from(o.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(t){return i.insertNode(t)}).reverse()},e.prototype.toString=function(){var t=this.nativeRange();return O.isW3CRangeSupport?t.toString():t.text},e.prototype.getWordRange=function(t){var o=this.getEndPoint();if(!Tt.isCharPoint(o))return this;var n=Tt.prevPointUntil(o,function(t){return!Tt.isCharPoint(t)});return t&&(o=Tt.nextPointUntil(o,function(t){return!Tt.isCharPoint(t)})),new e(n.node,n.offset,o.node,o.offset)},e.prototype.bookmark=function(t){return{s:{path:Tt.makeOffsetPath(t,this.sc),offset:this.so},e:{path:Tt.makeOffsetPath(t,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(t){return{s:{path:T.tail(Tt.makeOffsetPath(T.head(t),this.sc)),offset:this.so},e:{path:T.tail(Tt.makeOffsetPath(T.last(t),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},e}(),Lt={create:function(t,e,o,n){if(4===arguments.length)return new At(t,e,o,n);if(2===arguments.length)return new At(t,e,o=t,n=e);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(arguments[0])).collapse(Tt.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var t,e,o,n;if(O.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(Tt.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,o=r.endContainer,n=r.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=It(l,!0),u=It(a,!1);Tt.isText(c.node)&&Tt.isLeftEdgePoint(c)&&Tt.isTextNode(u.node)&&Tt.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),t=c.cont,e=c.offset,o=u.cont,n=u.offset}return new At(t,e,o,n)},createFromNode:function(t){var e=t,o=0,n=t,i=Tt.nodeLength(n);return Tt.isVoid(e)&&(o=Tt.listPrev(e).length-1,e=e.parentNode),Tt.isBR(n)?(i=Tt.listPrev(n).length-1,n=n.parentNode):Tt.isVoid(n)&&(i=Tt.listPrev(n).length,n=n.parentNode),this.create(e,o,n,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var o=Tt.fromOffsetPath(t,e.s.path),n=e.s.offset,i=Tt.fromOffsetPath(t,e.e.path),r=e.e.offset;return new At(o,n,i,r)},createFromParaBookmark:function(t,e){var o=t.s.offset,n=t.e.offset,i=Tt.fromOffsetPath(T.head(e),t.s.path),r=Tt.fromOffsetPath(T.last(e),t.e.path);return new At(i,o,r,n)}},_t=function(){function t(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}return t.prototype.makeSnapshot=function(){var t=Lt.create(this.editable);return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},t.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&Lt.createFromBookmark(this.editable,t.bookmark).select()},t.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},t.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},t.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},t}(),Mt=function(){function e(){}return e.prototype.jQueryCSS=function(e,o){if(O.jqueryVersion<1.9){var n={};return t.each(o,function(t,o){n[o]=e.css(o)}),n}return e.css(o)},e.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},e.prototype.stylePara=function(e,o){t.each(e.nodes(Tt.isPara,{includeAncestor:!0}),function(e,n){t(n).css(o)})},e.prototype.styleNodes=function(e,o){e=e.splitText();var n=o&&o.nodeName||"SPAN",i=!(!o||!o.expandClosestSibling),r=!(!o||!o.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Tt.create(n))];var s=Tt.makePredByNodeName(n),a=e.nodes(Tt.isText,{fullyContains:!0}).map(function(t){return Tt.singleChildAncestor(t,s)||Tt.wrap(t,n)});if(i){if(r){var l=e.nodes();s=v.and(s,function(t){return T.contains(l,t)})}return a.map(function(e){var o=Tt.withClosestSiblings(e,s),n=T.head(o),i=T.tail(o);return t.each(i,function(t,e){Tt.appendChildNodes(n,e.childNodes),Tt.remove(e)}),T.head(o)})}return a},e.prototype.current=function(e){var o=t(Tt.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(o);try{n=t.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(t){}if(e.isOnList()){var i=t.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var r=Tt.ancestor(e.sc,Tt.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}return n.anchor=e.isOnAnchor()&&Tt.ancestor(e.sc,Tt.isAnchor),n.ancestors=Tt.listAncestor(e.sc,Tt.isEditable),n.range=e,n},e}(),Ot=function(){function e(){}return e.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},e.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},e.prototype.indent=function(e){var o=this,n=Lt.create(e).wrapBodyInlineWithPara(),i=n.nodes(Tt.isPara,{includeAncestor:!0}),r=T.clusterBy(i,v.peq2("parentNode"));t.each(r,function(e,n){var i=T.head(n);Tt.isLi(i)?o.wrapList(n,i.parentNode.nodeName):t.each(n,function(e,o){t(o).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()},e.prototype.outdent=function(e){var o=this,n=Lt.create(e).wrapBodyInlineWithPara(),i=n.nodes(Tt.isPara,{includeAncestor:!0}),r=T.clusterBy(i,v.peq2("parentNode"));t.each(r,function(e,n){var i=T.head(n);Tt.isLi(i)?o.releaseList([n]):t.each(n,function(e,o){t(o).css("marginLeft",function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""})})}),n.select()},e.prototype.toggleList=function(e,o){var n=this,i=Lt.create(o).wrapBodyInlineWithPara(),r=i.nodes(Tt.isPara,{includeAncestor:!0}),s=i.paraBookmark(r),a=T.clusterBy(r,v.peq2("parentNode"));if(T.find(r,Tt.isPurePara)){var l=[];t.each(a,function(t,o){l=l.concat(n.wrapList(o,e))}),r=l}else{var c=i.nodes(Tt.isList,{includeAncestor:!0}).filter(function(o){return!t.nodeName(o,e)});c.length?t.each(c,function(t,o){Tt.replace(o,e)}):r=this.releaseList(a,!0)}Lt.createFromParaBookmark(s,r).select()},e.prototype.wrapList=function(t,e){var o=T.head(t),n=T.last(t),i=Tt.isList(o.previousSibling)&&o.previousSibling,r=Tt.isList(n.nextSibling)&&n.nextSibling,s=i||Tt.insertAfter(Tt.create(e||"UL"),n);return t=t.map(function(t){return Tt.isPurePara(t)?Tt.replace(t,"LI"):t}),Tt.appendChildNodes(s,t),r&&(Tt.appendChildNodes(s,T.from(r.childNodes)),Tt.remove(r)),t},e.prototype.releaseList=function(e,o){var n=[];return t.each(e,function(e,i){var r=T.head(i),s=T.last(i),a=o?Tt.lastAncestor(r,Tt.isList):r.parentNode,l=a.childNodes.length>1?Tt.splitTree(a,{node:s.parentNode,offset:Tt.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,c=Tt.splitTree(a,{node:r.parentNode,offset:Tt.position(r)},{isSkipPaddingBlankHTML:!0});i=o?Tt.listDescendant(c,Tt.isLi):T.from(c.childNodes).filter(Tt.isLi),!o&&Tt.isList(a.parentNode)||(i=i.map(function(t){return Tt.replace(t,"P")})),t.each(T.from(i).reverse(),function(t,e){Tt.insertAfter(e,a)});var u=T.compact([a,c,l]);t.each(u,function(e,o){var n=[o].concat(Tt.listDescendant(o,Tt.isList));t.each(n.reverse(),function(t,e){Tt.nodeLength(e)||Tt.remove(e,!0)})}),n=n.concat(i)}),n},e}(),zt=function(){function e(){this.bullet=new Ot}return e.prototype.insertTab=function(t,e){var o=Tt.createText(new Array(e+1).join(Tt.NBSP_CHAR));(t=t.deleteContents()).insertNode(o,!0),(t=Lt.create(o,e)).select()},e.prototype.insertParagraph=function(e){var o=Lt.create(e);o=(o=o.deleteContents()).wrapBodyInlineWithPara();var n,i=Tt.ancestor(o.sc,Tt.isPara);if(i){if(Tt.isEmpty(i)&&Tt.isLi(i))return void this.bullet.toggleList(i.parentNode.nodeName);if(Tt.isEmpty(i)&&Tt.isPara(i)&&Tt.isBlockquote(i.parentNode))Tt.insertAfter(i,i.parentNode),n=i;else{n=Tt.splitTree(i,o.getStartPoint());var r=Tt.listDescendant(i,Tt.isEmptyAnchor);r=r.concat(Tt.listDescendant(n,Tt.isEmptyAnchor)),t.each(r,function(t,e){Tt.remove(e)}),(Tt.isHeading(n)||Tt.isPre(n)||Tt.isCustomStyleTag(n))&&Tt.isEmpty(n)&&(n=Tt.replace(n,"p"))}}else{var s=o.sc.childNodes[o.so];n=t(Tt.emptyPara)[0],s?o.sc.insertBefore(n,s):o.sc.appendChild(n)}Lt.create(n,0).normalize().select().scrollIntoView(e)},e}(),Nt=function(t,e,o,n){var i={colPos:0,rowPos:0},r=[],s=[];function a(t,e,o,n,i,s,a){var l={baseRow:o,baseCell:n,isRowSpan:i,isColSpan:s,isVirtual:a};r[t]||(r[t]=[]),r[t][e]=l}function l(t,e){if(!r[t])return e;if(!r[t][e])return e;for(var o=e;r[t][o];)if(o++,!r[t][o])return o}function c(t,e){var o=l(t.rowIndex,e.cellIndex),n=e.colSpan>1,r=e.rowSpan>1,s=t.rowIndex===i.rowPos&&e.cellIndex===i.colPos;a(t.rowIndex,o,t,e,r,n,!1);var c=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(c>1)for(var d=1;d<c;d++){var h=t.rowIndex+d;u(h,o,e,s),a(h,o,t,e,!0,n,!0)}var p=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(p>1)for(var f=1;f<p;f++){var m=l(t.rowIndex,o+f);u(t.rowIndex,m,e,s),a(t.rowIndex,m,t,e,r,!0,!0)}}function u(t,e,o,n){t===i.rowPos&&i.colPos>=o.cellIndex&&o.cellIndex<=e&&!n&&i.colPos++}function d(t){switch(e){case Nt.where.Column:if(t.isColSpan)return Nt.resultAction.SubtractSpanCount;break;case Nt.where.Row:if(!t.isVirtual&&t.isRowSpan)return Nt.resultAction.AddCell;if(t.isRowSpan)return Nt.resultAction.SubtractSpanCount}return Nt.resultAction.RemoveCell}function h(t){switch(e){case Nt.where.Column:if(t.isColSpan)return Nt.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Nt.resultAction.Ignore;break;case Nt.where.Row:if(t.isRowSpan)return Nt.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Nt.resultAction.Ignore}return Nt.resultAction.AddCell}this.getActionList=function(){for(var t=e===Nt.where.Row?i.rowPos:-1,n=e===Nt.where.Column?i.colPos:-1,a=0,l=!0;l;){var c=t>=0?t:a,u=n>=0?n:a,p=r[c];if(!p)return l=!1,s;var f=p[u];if(!f)return l=!1,s;var m=Nt.resultAction.Ignore;switch(o){case Nt.requestAction.Add:m=h(f);break;case Nt.requestAction.Delete:m=d(f)}s.push((g=m,v=c,b=u,{baseCell:f.baseCell,action:g,virtualTable:{rowIndex:v,cellIndex:b}})),a++}var g,v,b;return s},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(i.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?i.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=n.rows,e=0;e<t.length;e++)for(var o=t[e].cells,i=0;i<o.length;i++)c(t[e],o[i])}()};Nt.where={Row:0,Column:1},Nt.requestAction={Add:0,Delete:1},Nt.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Rt,Ft=function(){function e(){}return e.prototype.tab=function(t,e){var o=Tt.ancestor(t.commonAncestor(),Tt.isCell),n=Tt.ancestor(o,Tt.isTable),i=Tt.listDescendant(n,Tt.isCell),r=T[e?"prev":"next"](i,o);r&&Lt.create(r,0).select()},e.prototype.addRow=function(e,o){for(var n=Tt.ancestor(e.commonAncestor(),Tt.isCell),i=t(n).closest("tr"),r=this.recoverAttributes(i),s=t("<tr"+r+"></tr>"),a=new Nt(n,Nt.where.Row,Nt.requestAction.Add,t(i).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var c=a[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case Nt.resultAction.AddCell:s.append("<td"+u+">"+Tt.blank+"</td>");break;case Nt.resultAction.SumSpanCount:if("top"===o&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var d=t("<div></div>").append(t("<td"+u+">"+Tt.blank+"</td>").removeAttr("rowspan")).html();s.append(d);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===o)i.before(s);else{if(n.rowSpan>1){var p=i[0].rowIndex+(n.rowSpan-2);return void t(t(i).parent().find("tr")[p]).after(t(s))}i.after(s)}},e.prototype.addCol=function(e,o){var n=Tt.ancestor(e.commonAncestor(),Tt.isCell),i=t(n).closest("tr");t(i).siblings().push(i);for(var r=new Nt(n,Nt.where.Column,Nt.requestAction.Add,t(i).closest("table")[0]).getActionList(),s=0;s<r.length;s++){var a=r[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Nt.resultAction.AddCell:"right"===o?t(a.baseCell).after("<td"+l+">"+Tt.blank+"</td>"):t(a.baseCell).before("<td"+l+">"+Tt.blank+"</td>");break;case Nt.resultAction.SumSpanCount:if("right"===o){var c=parseInt(a.baseCell.colSpan,10);c++,a.baseCell.setAttribute("colSpan",c)}else t(a.baseCell).before("<td"+l+">"+Tt.blank+"</td>")}}},e.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var o=t.attributes||[],n=0;n<o.length;n++)"id"!==o[n].name.toLowerCase()&&o[n].specified&&(e+=" "+o[n].name+"='"+o[n].value+"'");return e},e.prototype.deleteRow=function(e){for(var o=Tt.ancestor(e.commonAncestor(),Tt.isCell),n=t(o).closest("tr"),i=n.children("td, th").index(t(o)),r=n[0].rowIndex,s=new Nt(o,Nt.where.Row,Nt.requestAction.Delete,t(n).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,c=s[a].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(s[a].action){case Nt.resultAction.Ignore:continue;case Nt.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var p=n[0].cells[i];u&&(d>2?(d--,h.insertBefore(p,h.cells[i]),h.cells[i].setAttribute("rowSpan",d),h.cells[i].innerHTML=""):2===d&&(h.insertBefore(p,h.cells[i]),h.cells[i].removeAttribute("rowSpan"),h.cells[i].innerHTML=""));continue;case Nt.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===i&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===i&&(l.innerHTML="")));continue;case Nt.resultAction.RemoveCell:continue}}n.remove()},e.prototype.deleteCol=function(e){for(var o=Tt.ancestor(e.commonAncestor(),Tt.isCell),n=t(o).closest("tr"),i=n.children("td, th").index(t(o)),r=new Nt(o,Nt.where.Column,Nt.requestAction.Delete,t(n).closest("table")[0]).getActionList(),s=0;s<r.length;s++)if(r[s])switch(r[s].action){case Nt.resultAction.Ignore:continue;case Nt.resultAction.SubtractSpanCount:var a=r[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===i&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===i&&(a.innerHTML=""))}continue;case Nt.resultAction.RemoveCell:Tt.remove(r[s].baseCell,!0);continue}},e.prototype.createTable=function(e,o,n){for(var i,r=[],s=0;s<e;s++)r.push("<td>"+Tt.blank+"</td>");i=r.join("");for(var a,l=[],c=0;c<o;c++)l.push("<tr>"+i+"</tr>");a=l.join("");var u=t("<table>"+a+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]},e.prototype.deleteTable=function(e){var o=Tt.ancestor(e.commonAncestor(),Tt.isCell);t(o).closest("table").remove()},e}(),Pt=function(){function e(e){var o=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Mt,this.table=new Ft,this.typing=new zt,this.bullet=new Ot,this.history=new _t(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],i=0,r=n.length;i<r;i++)this[n[i]]=(s=n[i],function(t){o.beforeCommand(),document.execCommand(s,!1,t),o.afterCommand(!0)}),this.context.memo("help."+n[i],this.lang.help[n[i]]);var s;for(this.fontName=this.wrapCommand(function(t){return o.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return o.fontStyling("font-size",t+"px")}),i=1;i<=6;i++)this["formatH"+i]=(a=i,function(){o.formatBlock("H"+a)}),this.context.memo("help.formatH"+i,this.lang.help["formatH"+i]);var a;this.insertParagraph=this.wrapCommand(function(){o.typing.insertParagraph(o.editable)}),this.insertOrderedList=this.wrapCommand(function(){o.bullet.insertOrderedList(o.editable)}),this.insertUnorderedList=this.wrapCommand(function(){o.bullet.insertUnorderedList(o.editable)}),this.indent=this.wrapCommand(function(){o.bullet.indent(o.editable)}),this.outdent=this.wrapCommand(function(){o.bullet.outdent(o.editable)}),this.insertNode=this.wrapCommand(function(e){o.isLimited(t(e).text().length)||(o.createRange().insertNode(e),Lt.createFromNodeAfter(e).select())}),this.insertText=this.wrapCommand(function(t){if(!o.isLimited(t.length)){var e=o.createRange().insertNode(Tt.createText(t));Lt.create(e,Tt.nodeLength(e)).select()}}),this.pasteHTML=this.wrapCommand(function(t){if(!o.isLimited(t.length)){var e=o.createRange().pasteHTML(t);Lt.createFromNodeAfter(T.last(e)).select()}}),this.formatBlock=this.wrapCommand(function(t,e){var n=o.options.callbacks.onApplyCustomStyle;n?n.call(o,e,o.context,o.onFormatBlock):o.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=o.createRange().insertNode(Tt.create("HR"));t.nextSibling&&Lt.create(t.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(t){o.style.stylePara(o.createRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(e){var n=e.url,i=e.text,r=e.isNewWindow,s=e.range||o.createRange(),a=s.toString()!==i;"string"==typeof n&&(n=n.trim()),n=o.options.onCreateLink?o.options.onCreateLink(n):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(n)?n:"http://"+n;var l=[];if(a){var c=(s=s.deleteContents()).insertNode(t("<A>"+i+"</A>")[0]);l.push(c)}else l=o.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(l,function(e,o){t(o).attr("href",n),r?t(o).attr("target","_blank"):t(o).removeAttr("target")});var u=Lt.createFromNodeBefore(T.head(l)).getStartPoint(),d=Lt.createFromNodeAfter(T.last(l)).getEndPoint();Lt.create(u.node,u.offset,d.node,d.offset).select()}),this.color=this.wrapCommand(function(t){var e=t.foreColor,o=t.backColor;e&&document.execCommand("foreColor",!1,e),o&&document.execCommand("backColor",!1,o)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");o.createRange().deleteContents().insertNode(o.table.createTable(e[0],e[1],o.options))}),this.removeMedia=this.wrapCommand(function(){var e=t(o.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=t(o.restoreTarget()).detach(),o.context.triggerEvent("media.delete",e,o.$editable)}),this.floatMe=this.wrapCommand(function(e){var n=t(o.restoreTarget());n.toggleClass("note-float-left","left"===e),n.toggleClass("note-float-right","right"===e),n.css("float",e)}),this.resize=this.wrapCommand(function(e){t(o.restoreTarget()).css({width:100*e+"%",height:""})})}return e.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===Dt.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.context.triggerEvent("paste",e)}),this.$editable.html(Tt.html(this.$note)||Tt.emptyPara),this.$editable.on(O.inputEventName,v.debounce(function(){t.context.triggerEvent("change",t.$editable.html())},100)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(t){var e=this.options.keyMap[O.isMac?"mac":"pc"],o=[];t.metaKey&&o.push("CMD"),t.ctrlKey&&!t.altKey&&o.push("CTRL"),t.shiftKey&&o.push("SHIFT");var n=Dt.nameFromCode[t.keyCode];n&&o.push(n);var i=e[o.join("+")];i?!1!==this.context.invoke(i)&&t.preventDefault():Dt.isEdit(t.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&T.contains([66,73,85],t.keyCode)&&t.preventDefault()},e.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Dt.isMove(e.keyCode)||e.ctrlKey||e.metaKey||T.contains([Dt.code.BACKSPACE,Dt.code.DELETE],e.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+t>=this.options.maxTextLength},e.prototype.createRange=function(){return this.focus(),Lt.create(this.editable)},e.prototype.saveRange=function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(t){this.$editable.data("target",t)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var t=Lt.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(t){return this.style.fromNode(t)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(t){this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())},e.prototype.tab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(t){var e=this;return function(){e.beforeCommand(),t.apply(e,arguments),e.afterCommand()}},e.prototype.insertImage=function(e,o){var n=this;return(i=e,t.Deferred(function(e){var o=t("<img>");o.one("load",function(){o.off("error abort"),e.resolve(o)}).one("error abort",function(){o.off("load").detach(),e.reject(o)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise()).then(function(t){n.beforeCommand(),"function"==typeof o?o(t):("string"==typeof o&&t.attr("data-filename",o),t.css("width",Math.min(n.$editable.width(),t.width()))),t.show(),Lt.create(n.editable).insertNode(t[0]),Lt.createFromNodeAfter(t[0]).select(),n.afterCommand()}).fail(function(t){n.context.triggerEvent("image.upload.error",t)});var i},e.prototype.insertImages=function(e){var o=this;t.each(e,function(e,n){var i=n.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<n.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(r=n,t.Deferred(function(e){t.extend(new FileReader,{onload:function(t){var o=t.target.result;e.resolve(o)},onerror:function(t){e.reject(t)}}).readAsDataURL(r)}).promise()).then(function(t){return o.insertImage(t,i)}).fail(function(){o.context.triggerEvent("image.upload.error")});var r})},e.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImages(t)},e.prototype.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=Lt.createFromNode(Tt.ancestor(t.sc,Tt.isAnchor))),t.toString()},e.prototype.onFormatBlock=function(e,o){if(e=O.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),o&&o.length){var n=o[0].className||"";if(n){var i=this.createRange();t([i.sc,i.ec]).closest(e).addClass(n)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,o){var n=this.createRange();if(n){var i=this.style.styleNodes(n);if(t(i).css(e,o),n.isCollapsed()){var r=T.head(i);r&&!Tt.nodeLength(r)&&(r.innerHTML=Tt.ZERO_WIDTH_NBSP_CHAR,Lt.createFromNodeAfter(r.firstChild).select(),this.$editable.data("bogus",r))}}},e.prototype.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=Tt.ancestor(t.sc,Tt.isAnchor);(t=Lt.createFromNode(e)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.createRange().expand(Tt.isAnchor),o=t(T.head(e.nodes(Tt.isAnchor))),n={range:e,text:e.toString(),url:o.length?o.attr("href"):""};return o.length&&(n.isNewWindow="_blank"===o.attr("target")),n},e.prototype.addRow=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},e.prototype.addCol=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},e.prototype.deleteRow=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},e.prototype.deleteCol=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},e.prototype.deleteTable=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},e.prototype.resizeTo=function(t,e,o){var n;if(o){var i=t.y/t.x,r=e.data("ratio");n={width:r>i?t.x:t.y/r,height:r>i?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return Tt.isEmpty(this.$editable[0])||Tt.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",Tt.emptyPara)},e}(),$t=function(){function t(t){this.context=t,this.$editable=t.layoutInfo.editable}return t.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},t.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var o=T.head(e.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),this.context.invoke("editor.afterCommand")}},t}(),Ht=function(){function e(e){this.context=e,this.$eventListener=t(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,o=t(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var i=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;i||o.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),o=o.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(o=o.not(t.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){o=t(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(o){var n=o.originalEvent.dataTransfer;o.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):t.each(n.types,function(o,i){var r=n.getData(i);i.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",r):t(r).each(function(t,o){e.context.invoke("editor.insertNode",o)})})}).on("dragover",!1)},e.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},e}();O.hasCodeMirror&&(O.isSupportAmd?require(["codemirror"],function(t){Rt=t}):Rt=window.CodeMirror);var jt=function(){function t(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return t.prototype.sync=function(){this.isActivated()&&O.hasCodeMirror&&this.$codable.data("cmEditor").save()},t.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},t.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},t.prototype.activate=function(){var t=this;if(this.$codable.val(Tt.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),O.hasCodeMirror){var e=Rt.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var o=new Rt.TernServer(this.options.codemirror.tern);e.ternServer=o,e.on("cursorActivity",function(t){o.updateArgHints(t)})}e.on("blur",function(o){t.context.triggerEvent("blur.codeview",e.getValue(),o)}),e.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",e)}else this.$codable.on("blur",function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)})},t.prototype.deactivate=function(){if(O.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=Tt.value(this.$codable,this.options.prettifyHtml)||Tt.emptyPara,o=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),o&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},t.prototype.destroy=function(){this.isActivated()&&this.deactivate()},t}(),Bt=function(){function e(e){this.$document=t(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var t=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var o=t.$editable.offset().top-t.$document.scrollTop(),n=function(e){var n=e.clientY-(o+24);n=t.options.minheight>0?Math.max(n,t.options.minheight):n,n=t.options.maxHeight>0?Math.min(n,t.options.maxHeight):n,t.$editable.height(n)};t.$document.on("mousemove",n).one("mouseup",function(){t.$document.off("mousemove",n)})})},e.prototype.destroy=function(){this.$statusbar.off()},e}(),Wt=function(){function e(e){var o=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=t(window),this.$scrollbar=t("html, body"),this.onResize=function(){o.resizeTo({h:o.$window.height()-o.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),qt=function(){function e(e){var o=this;this.context=e,this.$document=t(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){o.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){o.update()},"summernote.disable":function(){o.hide()},"summernote.codeview.toggled":function(){o.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(Tt.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var o=e.$handle.find(".note-control-selection").data("target"),n=o.offset(),i=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-n.left,y:t.clientY-(n.top-i)},o,!t.shiftKey),e.update(o[0])};e.$document.on("mousemove",r).one("mouseup",function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),e.update()})},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var o=Tt.isImg(e),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e),o){var i=t(e),r=i.position(),s={left:r.left+parseInt(i.css("marginLeft"),10),top:r.top+parseInt(i.css("marginTop"),10)},a={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",i);var l=new Image;l.src=i.attr("src");var c=a.w+"x"+a.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",e)}else this.hide();return o},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),Ut=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Yt=function(){function e(t){var e=this;this.context=t,this.events={"summernote.keyup":function(t,o){o.isDefaultPrevented()||e.handleKeyup(o)},"summernote.keydown":function(t,o){e.handleKeydown(o)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),o=e.match(Ut);if(o&&(o[1]||o[2])){var n=o[1]?e:"http://"+e,i=t("<a />").html(e).attr("href",n)[0];this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(t){if(T.contains([Dt.code.ENTER,Dt.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},e.prototype.handleKeyup=function(t){T.contains([Dt.code.ENTER,Dt.code.SPACE],t.keyCode)&&this.replace()},e}(),Vt=function(){function t(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return t.prototype.shouldInitialize=function(){return Tt.isTextarea(this.$note[0])},t}(),Gt=function(){function e(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},e}(),Xt=function(){function e(e){this.ui=t.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=v.invertObject(this.options.keyMap[O.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(O.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=O.isFontInstalled(t)||T.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},e.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===t.inArray(e,["sans-serif","serif","monospace","cursive","fantasy"])},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var o=t.tag,n=t.title;return"<"+o+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+o+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var o=function(t,o){var i=n.options.styleTags[t];n.context.memo("button.style."+i,function(){return e.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"</div>",tooltip:i.toUpperCase(),click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,i=0,r=this.options.styleTags.length;i<r;i++)o(i);this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var o=e.context.invoke("editor.currentStyle");return t.each(o["font-family"].split(","),function(o,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===t.inArray(n,e.options.fontNames)&&e.options.fontNames.push(n)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return e.ui.buttonGroup({className:"note-color",children:[e.button({className:"note-current-color-button",contents:e.ui.icon(e.options.icons.font+" note-recent-color"),tooltip:e.lang.color.recent,click:function(o){var n=t(o.currentTarget);e.context.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents("",e.options),tooltip:e.lang.color.more,data:{toggle:"dropdown"}}),e.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',e.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',e.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(o){o.find(".note-holder").each(function(o,n){var i=t(n);i.append(e.ui.palette({colors:e.options.colors,eventName:i.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())})},click:function(o){var n=t(o.target),i=n.data("event"),r=n.data("value");if(i&&r){var s="backColor"===i?"background-color":"color",a=n.closest(".note-color").find(".note-recent-color"),l=n.closest(".note-color").find(".note-current-color-button");a.css(s,r),l.attr("data-"+i,r),e.context.invoke("editor."+i,r)}}})]}).render()}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var s=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",v.invoke(s,"render")),this.context.memo("button.justifyCenter",v.invoke(a,"render")),this.context.memo("button.justifyRight",v.invoke(l,"render")),this.context.memo("button.justifyFull",v.invoke(c,"render")),this.context.memo("button.outdent",v.invoke(u,"render")),this.context.memo("button.indent",v.invoke(d,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[s,a,l,c]}),e.ui.buttonGroup({className:"note-list",children:[u,d]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})},e.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.imageSize100",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},e.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},e.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},e.prototype.build=function(e,o){for(var n=0,i=o.length;n<i;n++){for(var r=o[n],s=t.isArray(r)?r[0]:r,a=t.isArray(r)?1===r.length?[r[0]]:r[1]:[r],l=this.ui.buttonGroup({className:"note-"+s}).render(),c=0,u=a.length;c<u;c++){var d=this.context.memo("button."+a[c]);d&&l.append("function"==typeof d?d(this.context):d)}l.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var o=this,n=e||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=T.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(e,o){var n=t(o),i=n.data("value")+""==s+"";n.toggleClass("checked",i)}),n.find(".note-current-fontname").text(s).css("font-family",s)}if(i["font-size"]){var a=i["font-size"];n.find(".dropdown-fontsize a").each(function(e,o){var n=t(o),i=n.data("value")+""==a+"";n.toggleClass("checked",i)}),n.find(".note-current-fontsize").text(a)}if(i["line-height"]){var l=i["line-height"];n.find(".dropdown-line-height li a").each(function(e,n){var i=t(n).data("value")+""==l+"";o.className=i?"checked":""})}},e.prototype.updateBtnStates=function(e,o){var n=this;t.each(o,function(t,o){n.ui.toggleBtnActive(e.find(t),o())})},e.prototype.tableMoveHandler=function(e){var o,n=t(e.target.parentNode),i=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),s=n.find(".note-dimension-picker-highlighted"),a=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();o={x:e.pageX-l.left,y:e.pageY-l.top}}else o={x:e.offsetX,y:e.offsetY};var c=Math.ceil(o.x/18)||1,u=Math.ceil(o.y/18)||1;s.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),c>3&&c<this.options.insertTableMaxSize.col&&a.css({width:c+1+"em"}),u>3&&u<this.options.insertTableMaxSize.row&&a.css({height:u+1+"em"}),i.html(c+" x "+u)},e}(),Jt=function(){function e(e){this.context=e,this.$window=t(window),this.$document=t(document),this.ui=t.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$toolbar.parent(".note-toolbar-wrapper"),o=this.$editor.outerHeight(),n=this.$editor.width(),i=this.$toolbar.height();e.css({height:i});var r=0;this.options.otherStaticBar&&(r=t(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top;s>a-r&&s<a+o-r-i?this.$toolbar.css({position:"fixed",top:r,width:n}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},e.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},e.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},e.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},e.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},e.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},e}(),Kt=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,o=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":t("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:o,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Dt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},e.prototype.toggleLinkBtn=function(t,e,o){this.ui.toggleBtn(t,e.val()&&o.val())},e.prototype.showLinkDialog=function(e){var o=this;return t.Deferred(function(t){var n=o.$dialog.find(".note-link-text"),i=o.$dialog.find(".note-link-url"),r=o.$dialog.find(".note-link-btn"),s=o.$dialog.find("input[type=checkbox]");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.url||(e.url=e.text),n.val(e.text);var a=function(){o.toggleLinkBtn(r,n,i),e.text=n.val()};n.on("input",a).on("paste",function(){setTimeout(a,0)});var l=function(){o.toggleLinkBtn(r,n,i),e.text||n.val(i.val())};i.on("input",l).on("paste",function(){setTimeout(l,0)}).val(e.url),O.isSupportTouch||i.trigger("focus"),o.toggleLinkBtn(r,n,i),o.bindEnterKey(i,r),o.bindEnterKey(n,r);var c=void 0!==e.isNewWindow?e.isNewWindow:o.context.options.linkTargetBlank;s.prop("checked",c),r.one("click",function(r){r.preventDefault(),t.resolve({range:e.range,url:i.val(),text:n.val(),isNewWindow:s.is(":checked")}),o.ui.hideDialog(o.$dialog)})}),o.ui.onDialogHidden(o.$dialog,function(){n.off("input paste keypress"),i.off("input paste keypress"),r.off("click"),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)}).promise()},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},e}(),Zt=function(){function e(e){var o=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){o.update()},"summernote.disable summernote.dialog.shown":function(){o.hide()}}}return e.prototype.shouldInitialize=function(){return!T.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var o=Tt.ancestor(e.sc,Tt.isAnchor),n=t(o).attr("href");this.$popover.find("a").attr("href",n).html(n);var i=Tt.posFromPlaceholder(o);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),Qt=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var o=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Dt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},e.prototype.showImageDialog=function(){var e=this;return t.Deferred(function(t){var o=e.$dialog.find(".note-image-input"),n=e.$dialog.find(".note-image-url"),i=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),n.on("keyup paste",function(){var t=n.val();e.ui.toggleBtn(i,t)}).val(""),O.isSupportTouch||n.trigger("focus"),e.bindEnterKey(n,i)}),e.ui.onDialogHidden(e.$dialog,function(){o.off("change"),n.off("keyup paste keypress"),i.off("click"),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})},e}(),te=function(){function e(e){var o=this;this.context=e,this.ui=t.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){o.hide()}}}return e.prototype.shouldInitialize=function(){return!T.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(Tt.isImg(t)){var e=Tt.posFromPlaceholder(t),o=Tt.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,o.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),ee=function(){function e(e){var o=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){o.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){o.update()},"summernote.disable":function(){o.hide()}}}return e.prototype.shouldInitialize=function(){return!T.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),O.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Tt.isCell(t);if(e){var o=Tt.posFromPlaceholder(t);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide();return e},e.prototype.hide=function(){this.$popover.hide()},e}(),oe=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),o='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Dt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},e.prototype.createVideoNode=function(e){var o,n=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),i=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),s=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=e.match(/^.+.(mp4|m4v)$/),h=e.match(/^.+.(ogg|ogv)$/),p=e.match(/^.+.(webm)$/);if(n&&11===n[1].length){var f=n[1];o=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f).attr("width","640").attr("height","360")}else if(i&&i[0].length)o=t("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+i[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)o=t("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(s&&s[3].length)o=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)o=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)o=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var m=c&&c[1].length?c[1]:u[2];o=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+m+"&amp;auto=0")}else{if(!(d||h||p))return!1;o=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return o.addClass("note-video-clip"),o[0]},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var o=t.createVideoNode(e);o&&t.context.invoke("editor.insertNode",o)}).fail(function(){t.context.invoke("editor.restoreRange")})},e.prototype.showVideoDialog=function(e){var o=this;return t.Deferred(function(t){var n=o.$dialog.find(".note-video-url"),i=o.$dialog.find(".note-video-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),n.val(e).on("input",function(){o.ui.toggleBtn(i,n.val())}),O.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){n.off("input"),i.off("click"),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},e}(),ne=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.9</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,o=this.options.keyMap[O.isMac?"mac":"pc"];return Object.keys(o).map(function(n){var i=o[n],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.context.memo("help."+i)||i)),r.html()}).join("")},e.prototype.showHelpDialog=function(){var e=this;return t.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},e}(),ie=function(){function e(e){var o=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){O.isFF||e.relatedTarget&&Tt.ancestor(e.relatedTarget,v.eq(o.$popover[0]))||o.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!T.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=T.last(t.range.getClientRects());if(e){var o=v.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(o.left+o.width/2,0)-20,top:o.top+o.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),re=function(){function e(e){var o=this;this.context=e,this.ui=t.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=t.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){o.hide()}}}return e.prototype.shouldInitialize=function(){return this.hints.length>0},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active"),t(e).addClass("active"),e.replace()})},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var o=t.parent().next();o.length||(o=this.$content.find(".note-hint-group").first()),this.selectItem(o.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var o=t.parent().prev();o.length||(o=this.$content.find(".note-hint-group").last()),this.selectItem(o.find(".note-hint-item").last())}},e.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),Lt.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],o=t.data("item"),n=e.content?e.content(o):o;return"string"==typeof n&&(n=Tt.createText(n)),n},e.prototype.createItemTemplates=function(e,o){var n=this.hints[e];return o.map(function(o,i){var r=t('<div class="note-hint-item"/>');return r.append(n.template?n.template(o):o+""),r.data({index:e,item:o}),r})},e.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Dt.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Dt.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Dt.code.DOWN&&(t.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(t,e,o){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var i=n.match.exec(e);n.search(i[1],o)}else o()},e.prototype.createGroup=function(e,o){var n=this,i=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,o,function(t){(t=t||[]).length&&(i.html(n.createItemTemplates(e,t)),n.show())}),i},e.prototype.handleKeyup=function(t){var e=this;if(!T.contains([Dt.code.ENTER,Dt.code.UP,Dt.code.DOWN],t.keyCode)){var o=this.context.invoke("editor.createRange").getWordRange(),n=o.toString();if(this.hints.length&&n){this.$content.empty();var i=v.rect2bnd(T.last(o.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=o,this.hints.forEach(function(t,o){t.match.test(n)&&e.createGroup(o,n).appendTo(e.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}(),se=function(){function e(e,o){this.ui=t.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=o,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var t=this.isDisabled();this.code(Tt.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},e.prototype._initialize=function(){var e=this,o=t.extend({},this.options.buttons);Object.keys(o).forEach(function(t){e.memo("button."+t,o[t])});var n=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},e.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},e.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var t=T.head(arguments),e=T.tail(T.from(arguments)),o=this.options.callbacks[v.namespaceToCamel(t,"on")];o&&o.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},e.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||v.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Tt.attachEvents(this.$note,e.events))},e.prototype.module=function(t,e,o){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),o||this.initializeModule(t)},e.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&Tt.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},e.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},e.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},e.prototype.createInvokeHandlerAndUpdateState=function(t,e){var o=this;return function(n){o.createInvokeHandler(t,e)(n),o.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,o){var n=this;return function(i){i.preventDefault();var r=t(i.target);n.invoke(e,o||r.closest("[data-value]").data("value"),r)}},e.prototype.invoke=function(){var t=T.head(arguments),e=T.tail(T.from(arguments)),o=t.split("."),n=o.length>1,i=n&&T.head(o),r=n?T.last(o):T.head(o),s=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,e):void 0},e}();t.fn.extend({summernote:function(){var e=t.type(T.head(arguments)),o="string"===e,n="object"===e,i=t.extend({},t.summernote.options,n?T.head(arguments):{});i.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[i.lang]),i.icons=t.extend(!0,{},t.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!O.isSupportTouch:i.tooltip,this.each(function(e,o){var n=t(o);if(!n.data("summernote")){var r=new se(n,i);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}});var r=this.first();if(r.length){var s=r.data("summernote");if(o)return s.invoke.apply(s,T.from(arguments));i.focus&&s.invoke("editor.focus")}return this}}),t.summernote=t.extend(t.summernote,{version:"0.8.9",ui:m,dom:Tt,plugins:{},options:{modules:{editor:Pt,clipboard:$t,dropzone:Ht,codeview:jt,statusbar:Bt,fullscreen:Wt,handle:qt,hintPopover:re,autoLink:Yt,autoSync:Vt,placeholder:Gt,buttons:Xt,toolbar:Jt,linkDialog:Kt,linkPopover:Zt,imageDialog:Qt,imagePopover:te,tablePopover:ee,videoDialog:oe,helpDialog:ne,airPopover:ie},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var o=t.data(this[0],"validator");return o||(this.attr("novalidate","novalidate"),o=new t.validator(e,this[0]),t.data(this[0],"validator",o),o.settings.onsubmit&&(this.on("click.validate",":submit",function(e){o.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(o.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(o.cancelSubmit=!0)}),this.on("submit.validate",function(e){o.settings.debug&&e.preventDefault();function n(){var n,i;return o.submitButton&&(o.settings.submitHandler||o.formSubmitted)&&(n=t("<input type='hidden'/>").attr("name",o.submitButton.name).val(t(o.submitButton).val()).appendTo(o.currentForm)),!o.settings.submitHandler||(i=o.settings.submitHandler.call(o,o.currentForm,e),n&&n.remove(),void 0!==i&&i)}return o.cancelSubmit?(o.cancelSubmit=!1,n()):o.form()?o.pendingRequest?(o.formSubmitted=!0,!1):n():(o.focusInvalid(),!1)})),o)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,o,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,o=t(this[0].form).validate(),this.each(function(){(e=o.element(this)&&e)||(n=n.concat(o.errorList))}),o.errorList=n),e},rules:function(e,o){var n,i,r,s,a,l,c=this[0];if(null!=c&&(!c.form&&c.hasAttribute("contenteditable")&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(e)switch(i=(n=t.data(c.form,"validator").settings).rules,r=t.validator.staticRules(c),e){case"add":t.extend(r,t.validator.normalizeRule(o)),delete r.messages,i[c.name]=r,o.messages&&(n.messages[c.name]=t.extend(n.messages[c.name],o.messages));break;case"remove":return o?(l={},t.each(o.split(/\s/),function(t,e){l[e]=r[e],delete r[e]}),l):(delete i[c.name],r)}return(s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=t.extend({required:a},s)),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var o=t(e).val();return null!==o&&!!t.trim(""+o)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,o){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=o,this.init()},t.validator.format=function(e,o){return 1===arguments.length?function(){var o=t.makeArray(arguments);return o.unshift(e),t.validator.format.apply(this,o)}:void 0===o?e:(arguments.length>2&&o.constructor!==Array&&(o=t.makeArray(arguments).slice(1)),o.constructor!==Array&&(o=[o]),t.each(o,function(t,o){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return o})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,o){9===o.which&&""===this.elementValue(e)||-1!==t.inArray(o.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,o,n){"radio"===e.type?this.findByName(e.name).addClass(o).removeClass(n):t(e).addClass(o).removeClass(n)},unhighlight:function(e,o,n){"radio"===e.type?this.findByName(e.name).removeClass(o).addClass(n):t(e).removeClass(o).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var e,o=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){o[n]=e})}),e=this.settings.rules,t.each(e,function(o,n){e[o]=t.validator.normalizeRule(n)});function n(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name"));var o=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),i=o.settings;i[n]&&!t(this).is(i.ignore)&&i[n].call(o,this,e)}t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",n).on("click.validate","select, option, [type='radio'], [type='checkbox']",n),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var o,n,i=this.clean(e),r=this.validationTargetFor(i),s=this,a=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=t(r),(n=this.groups[r.name])&&t.each(this.groups,function(t,e){e===n&&t!==r.name&&(i=s.validationTargetFor(s.clean(s.findByName(t))))&&i.name in s.invalid&&(s.currentElements.push(i),a=s.check(i)&&a)}),o=!1!==this.check(r),a=a&&o,this.invalid[r.name]=!o,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!o)),a},showErrors:function(e){if(e){var o=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:o.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,o=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&o++;return o},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,o={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=n),!(n in o||!e.objectLength(t(this).rules()))&&(o[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var o,n,i=t(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&void 0!==e.validity?e.validity.badInput?"NaN":i.val():(o=e.hasAttribute("contenteditable")?i.text():i.val(),"file"===r?"C:\\fakepath\\"===o.substr(0,12)?o.substr(12):(n=o.lastIndexOf("/"))>=0?o.substr(n+1):(n=o.lastIndexOf("\\"))>=0?o.substr(n+1):o:"string"==typeof o?o.replace(/\r/g,""):o)},check:function(e){e=this.validationTargetFor(this.clean(e));var o,n,i,r,s=t(e).rules(),a=t.map(s,function(t,e){return e}).length,l=!1,c=this.elementValue(e);if("function"==typeof s.normalizer?r=s.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r){if("string"!=typeof(c=r.call(e,c)))throw new TypeError("The normalizer should return a string value.");delete s.normalizer}for(n in s){i={method:n,parameters:s[n]};try{if("dependency-mismatch"===(o=t.validator.methods[n].call(this,c,e,i.parameters))&&1===a){l=!0;continue}if(l=!1,"pending"===o)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!o)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}if(!l)return this.objectLength(s)&&this.successList.push(e),!0},customDataMessage:function(e,o){return t(e).data("msg"+o.charAt(0).toUpperCase()+o.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var o=this.settings.messages[t];return o&&(o.constructor===String?o:o[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,o){"string"==typeof o&&(o={method:o});var n=this.findDefined(this.customMessage(e.name,o.method),this.customDataMessage(e,o.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[o.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,o.parameters,e):i.test(n)&&(n=t.validator.format(n.replace(i,"{$1}"),o.parameters)),n},formatAndAdd:function(t,e){var o=this.defaultMessage(t,e);this.errorList.push({message:o,element:t,method:e.method}),this.errorMap[t.name]=o,this.submitted[t.name]=o},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,o;for(t=0;this.errorList[t];t++)o=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,o.element,this.settings.errorClass,this.settings.validClass),this.showLabel(o.element,o.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,o){var n,i,r,s,a=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(o)):(n=a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(o||""),this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=a.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(c+=" "+r):c=r,t(e).attr("aria-describedby",c),(i=this.groups[e.name])&&(s=this,t.each(s.groups,function(e,o){o===i&&t("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))})))),!o&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var o=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),i="label[for='"+o+"'], label[for='"+o+"'] *";return n&&(i=i+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,o){switch(o.nodeName.toLowerCase()){case"select":return t("option:selected",o).length;case"input":if(this.checkable(o))return this.findByName(o.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,o){return!!t(e,o.form).length},function:function(t,e){return t(e)}},optional:function(e){var o=this.elementValue(e);return!t.validator.methods.required.call(this,o,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,o){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),o&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!o&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,o){return o="string"==typeof o&&o||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:o})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,o){e.constructor===String?this.classRuleSettings[e]=o:t.extend(this.classRuleSettings,e)},classRules:function(e){var o={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(o,t.validator.classRuleSettings[this])}),o},normalizeAttributeRule:function(t,e,o,n){/min|max|step/.test(o)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[o]=n:e===o&&"range"!==e&&(t[o]=!0)},attributeRules:function(e){var o,n,i={},r=t(e),s=e.getAttribute("type");for(o in t.validator.methods)"required"===o?(""===(n=e.getAttribute(o))&&(n=!0),n=!!n):n=r.attr(o),this.normalizeAttributeRule(i,s,o,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var o,n,i={},r=t(e),s=e.getAttribute("type");for(o in t.validator.methods)n=r.data("rule"+o.charAt(0).toUpperCase()+o.substring(1).toLowerCase()),this.normalizeAttributeRule(i,s,o,n);return i},staticRules:function(e){var o={},n=t.data(e.form,"validator");return n.settings.rules&&(o=t.validator.normalizeRule(n.settings.rules[e.name])||{}),o},normalizeRules:function(e,o){return t.each(e,function(n,i){if(!1!==i){if(i.param||i.depends){var r=!0;switch(typeof i.depends){case"string":r=!!t(i.depends,o.form).length;break;case"function":r=i.depends.call(o,o)}r?e[n]=void 0===i.param||i.param:(t.data(o.form,"validator").resetElements(t(o)),delete e[n])}}else delete e[n]}),t.each(e,function(n,i){e[n]=t.isFunction(i)&&"normalizer"!==n?i(o):i}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var o;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(o=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(o[0]),Number(o[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var o={};t.each(e.split(/\s/),function(){o[this]=!0}),e=o}return e},addMethod:function(e,o,n){t.validator.methods[e]=o,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],o.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,o,n){if(!this.depend(n,o))return"dependency-mismatch";if("select"===o.nodeName.toLowerCase()){var i=t(o).val();return i&&i.length>0}return this.checkable(o)?this.getLength(e,o)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,o,n){var i=t.isArray(e)?e.length:this.getLength(e,o);return this.optional(o)||i>=n},maxlength:function(e,o,n){var i=t.isArray(e)?e.length:this.getLength(e,o);return this.optional(o)||i<=n},rangelength:function(e,o,n){var i=t.isArray(e)?e.length:this.getLength(e,o);return this.optional(o)||i>=n[0]&&i<=n[1]},min:function(t,e,o){return this.optional(e)||t>=o},max:function(t,e,o){return this.optional(e)||t<=o},range:function(t,e,o){return this.optional(e)||t>=o[0]&&t<=o[1]},step:function(e,o,n){var i,r=t(o).attr("type"),s="Step attribute on input type "+r+" is not supported.",a=new RegExp("\\b"+r+"\\b"),l=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},c=function(t){return Math.round(t*Math.pow(10,i))},u=!0;if(r&&!a.test(["text","number","range"].join()))throw new Error(s);return i=l(n),(l(e)>i||c(e)%c(n)!=0)&&(u=!1),this.optional(o)||u},equalTo:function(e,o,n){var i=t(n);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(o).valid()}),e===i.val()},remote:function(e,o,n,i){if(this.optional(o))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var r,s,a,l=this.previousValue(o,i);return this.settings.messages[o.name]||(this.settings.messages[o.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[o.name][i],this.settings.messages[o.name][i]=l.message,n="string"==typeof n&&{url:n}||n,a=t.param(t.extend({data:e},n.data)),l.old===a?l.valid:(l.old=a,r=this,this.startRequest(o),(s={})[o.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+o.name,dataType:"json",data:s,context:r.currentForm,success:function(t){var n,s,a,c=!0===t||"true"===t;r.settings.messages[o.name][i]=l.originalMessage,c?(a=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(o),r.formSubmitted=a,r.successList.push(o),r.invalid[o.name]=!1,r.showErrors()):(n={},s=t||r.defaultMessage(o,{method:i,parameters:e}),n[o.name]=l.message=s,r.invalid[o.name]=!0,r.showErrors(n)),l.valid=c,r.stopRequest(o,c)}},n)),"pending")}}});var e,o={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(o[i]&&o[i].abort(),o[i]=n)}):(e=t.ajax,t.ajax=function(n){var i=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"===i?(o[r]&&o[r].abort(),o[r]=e.apply(this,arguments),o[r]):e.apply(this,arguments)}),t}),function(t){"function"==typeof define&&define.amd?define("jquery-typeahead",["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=(e=void 0,void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(void 0)),t(e)):t(jQuery);var e}(function(t){"use strict";window.Typeahead={version:"2.10.4"};var e={input:null,minLength:2,maxLength:!1,maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,multiselect:null,group:!1,groupOrder:null,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,backdropOnFocus:!1,cache:!1,ttl:36e5,compression:!1,searchOnFocus:!1,blurOnTab:!0,resultContainer:null,generateOnLoad:null,mustSelectItem:!1,href:null,display:["display"],template:null,templateValue:null,groupTemplate:null,correlativeTemplate:!1,emptyTemplate:!1,cancelButton:!0,loadingAnimation:!0,filter:!0,matcher:null,source:null,callback:{onInit:null,onReady:null,onShowLayout:null,onHideLayout:null,onSearch:null,onResult:null,onLayoutBuiltBefore:null,onLayoutBuiltAfter:null,onNavigateBefore:null,onNavigateAfter:null,onEnter:null,onLeave:null,onClickBefore:null,onClickAfter:null,onDropdownFilter:null,onSendRequest:null,onReceiveRequest:null,onPopulateSource:null,onCacheSave:null,onSubmit:null,onCancel:null},selector:{container:"typeahead__container",result:"typeahead__result",list:"typeahead__list",group:"typeahead__group",item:"typeahead__item",empty:"typeahead__empty",display:"typeahead__display",query:"typeahead__query",filter:"typeahead__filter",filterButton:"typeahead__filter-button",dropdown:"typeahead__dropdown",dropdownItem:"typeahead__dropdown-item",labelContainer:"typeahead__label-container",label:"typeahead__label",button:"typeahead__button",backdrop:"typeahead__backdrop",hint:"typeahead__hint",cancelButton:"typeahead__cancel-button"},debug:!1},o={from:"ãàáäâẽèéëêìíïîõòóöôùúüûñç",to:"aaaaaeeeeeiiiiooooouuuunc"},n=~window.navigator.appVersion.indexOf("MSIE 9."),i=~window.navigator.appVersion.indexOf("MSIE 10"),r=!!~window.navigator.userAgent.indexOf("Trident")&&~window.navigator.userAgent.indexOf("rv:11"),s=function(t,e){this.rawQuery=t.val()||"",this.query=t.val()||"",this.selector=t[0].selector,this.deferred=null,this.tmpSource={},this.source={},this.dynamicGroups=[],this.hasDynamicGroups=!1,this.generatedGroupCount=0,this.groupBy="group",this.groups=[],this.searchGroups=[],this.generateGroups=[],this.requestGroups=[],this.result=[],this.tmpResult={},this.groupTemplate="",this.resultHtml=null,this.resultCount=0,this.resultCountPerGroup={},this.options=e,this.node=t,this.namespace="."+this.helper.slugify.call(this,this.selector)+".typeahead",this.isContentEditable=void 0!==this.node.attr("contenteditable")&&"false"!==this.node.attr("contenteditable"),this.container=null,this.resultContainer=null,this.item=null,this.items=null,this.comparedItems=null,this.xhr={},this.hintIndex=null,this.filters={dropdown:{},dynamic:{}},this.dropdownFilter={static:[],dynamic:[]},this.dropdownFilterAll=null,this.isDropdownEvent=!1,this.requests={},this.backdrop={},this.hint={},this.label={},this.hasDragged=!1,this.focusOnly=!1,this.__construct()};s.prototype={_validateCacheMethod:function(t){var e;if(!0===t)t="localStorage";else if("string"==typeof t&&!~["localStorage","sessionStorage"].indexOf(t))return!1;e=void 0!==window[t];try{window[t].setItem("typeahead","typeahead"),window[t].removeItem("typeahead")}catch(t){e=!1}return e&&t||!1},extendOptions:function(){if(this.options.cache=this._validateCacheMethod(this.options.cache),this.options.compression&&("object"==typeof LZString&&this.options.cache||(this.options.compression=!1)),(!this.options.maxLength||isNaN(this.options.maxLength))&&(this.options.maxLength=1/0),void 0!==this.options.maxItem&&~[0,!1].indexOf(this.options.maxItem)&&(this.options.maxItem=1/0),this.options.maxItemPerGroup&&!/^\d+$/.test(this.options.maxItemPerGroup)&&(this.options.maxItemPerGroup=null),this.options.display&&!Array.isArray(this.options.display)&&(this.options.display=[this.options.display]),this.options.multiselect&&(this.items=[],this.comparedItems=[],"string"==typeof this.options.multiselect.matchOn&&(this.options.multiselect.matchOn=[this.options.multiselect.matchOn])),this.options.group&&(Array.isArray(this.options.group)||("string"==typeof this.options.group?this.options.group={key:this.options.group}:"boolean"==typeof this.options.group&&(this.options.group={key:"group"}),this.options.group.key=this.options.group.key||"group")),this.options.highlight&&!~["any",!0].indexOf(this.options.highlight)&&(this.options.highlight=!1),this.options.dropdownFilter&&this.options.dropdownFilter instanceof Object){Array.isArray(this.options.dropdownFilter)||(this.options.dropdownFilter=[this.options.dropdownFilter]);for(var n=0,i=this.options.dropdownFilter.length;i>n;++n)this.dropdownFilter[this.options.dropdownFilter[n].value?"static":"dynamic"].push(this.options.dropdownFilter[n])}this.options.dynamicFilter&&!Array.isArray(this.options.dynamicFilter)&&(this.options.dynamicFilter=[this.options.dynamicFilter]),this.options.accent&&("object"==typeof this.options.accent?this.options.accent.from&&this.options.accent.to&&(this.options.accent.from.length,this.options.accent.to.length):this.options.accent=o),this.options.groupTemplate&&(this.groupTemplate=this.options.groupTemplate),this.options.resultContainer&&("string"==typeof this.options.resultContainer&&(this.options.resultContainer=t(this.options.resultContainer)),this.options.resultContainer instanceof t&&this.options.resultContainer[0]&&(this.resultContainer=this.options.resultContainer)),this.options.maxItemPerGroup&&this.options.group&&this.options.group.key&&(this.groupBy=this.options.group.key),this.options.callback&&this.options.callback.onClick&&(this.options.callback.onClickBefore=this.options.callback.onClick,delete this.options.callback.onClick),this.options.callback&&this.options.callback.onNavigate&&(this.options.callback.onNavigateBefore=this.options.callback.onNavigate,delete this.options.callback.onNavigate),this.options=t.extend(!0,{},e,this.options)},unifySourceFormat:function(){this.dynamicGroups=[],Array.isArray(this.options.source)&&(this.options.source={group:{data:this.options.source}}),"string"==typeof this.options.source&&(this.options.source={group:{ajax:{url:this.options.source}}}),this.options.source.ajax&&(this.options.source={group:{ajax:this.options.source.ajax}}),(this.options.source.url||this.options.source.data)&&(this.options.source={group:this.options.source});var t,e,o;for(t in this.options.source)if(this.options.source.hasOwnProperty(t)){if("string"==typeof(e=this.options.source[t])&&(e={ajax:{url:e}}),o=e.url||e.ajax,Array.isArray(o)?(e.ajax="string"==typeof o[0]?{url:o[0]}:o[0],e.ajax.path=e.ajax.path||o[1]||null,delete e.url):("object"==typeof e.url?e.ajax=e.url:"string"==typeof e.url&&(e.ajax={url:e.url}),delete e.url),!e.data&&!e.ajax)return!1;e.display&&!Array.isArray(e.display)&&(e.display=[e.display]),e.minLength="number"==typeof e.minLength?e.minLength:this.options.minLength,e.maxLength="number"==typeof e.maxLength?e.maxLength:this.options.maxLength,e.dynamic="boolean"==typeof e.dynamic||this.options.dynamic,e.minLength>e.maxLength&&(e.minLength=e.maxLength),this.options.source[t]=e,this.options.source[t].dynamic&&this.dynamicGroups.push(t),e.cache=void 0!==e.cache?this._validateCacheMethod(e.cache):this.options.cache,e.compression&&("object"==typeof LZString&&e.cache||(e.compression=!1))}return this.hasDynamicGroups=this.options.dynamic||!!this.dynamicGroups.length,!0},init:function(){this.helper.executeCallback.call(this,this.options.callback.onInit,[this.node]),this.container=this.node.closest("."+this.options.selector.container)},delegateEvents:function(){var e=this,o=["focus"+this.namespace,"input"+this.namespace,"propertychange"+this.namespace,"keydown"+this.namespace,"keyup"+this.namespace,"search"+this.namespace,"generate"+this.namespace];t("html").on("touchmove",function(){e.hasDragged=!0}).on("touchstart",function(){e.hasDragged=!1}),this.node.closest("form").on("submit",function(t){return e.options.mustSelectItem&&e.helper.isEmpty(e.item)?void t.preventDefault():(e.options.backdropOnFocus||e.hideLayout(),e.options.callback.onSubmit?e.helper.executeCallback.call(e,e.options.callback.onSubmit,[e.node,this,e.item||e.items,t]):void 0)}).on("reset",function(){setTimeout(function(){e.node.trigger("input"+e.namespace),e.hideLayout()})});var s=!1;if(this.node.attr("placeholder")&&(i||r)){var a=!0;this.node.on("focusin focusout",function(){a=!(this.value||!this.placeholder)}),this.node.on("input",function(t){a&&(t.stopImmediatePropagation(),a=!1)})}this.node.off(this.namespace).on(o.join(" "),function(o,i){switch(o.type){case"generate":e.generateSource(Object.keys(e.options.source));break;case"focus":if(e.focusOnly){e.focusOnly=!1;break}e.options.backdropOnFocus&&(e.buildBackdropLayout(),e.showLayout()),e.options.searchOnFocus&&!e.item&&(e.deferred=t.Deferred(),e.assignQuery(),e.generateSource());break;case"keydown":8===o.keyCode&&e.options.multiselect&&e.options.multiselect.cancelOnBackspace&&""===e.query&&e.items.length?e.cancelMultiselectItem(e.items.length-1,null,o):o.keyCode&&~[9,13,27,38,39,40].indexOf(o.keyCode)&&(s=!0,e.navigate(o));break;case"keyup":n&&e.node[0].value.replace(/^\s+/,"").toString().length<e.query.length&&e.node.trigger("input"+e.namespace);break;case"propertychange":if(s){s=!1;break}case"input":e.deferred=t.Deferred(),e.assignQuery(),""===e.rawQuery&&""===e.query&&(o.originalEvent=i||{},e.helper.executeCallback.call(e,e.options.callback.onCancel,[e.node,o])),e.options.cancelButton&&e.toggleCancelButtonVisibility(),e.options.hint&&e.hint.container&&""!==e.hint.container.val()&&0!==e.hint.container.val().indexOf(e.rawQuery)&&(e.hint.container.val(""),e.isContentEditable&&e.hint.container.text("")),e.hasDynamicGroups?e.helper.typeWatch(function(){e.generateSource()},e.options.delay):e.generateSource();break;case"search":e.searchResult(),e.buildLayout(),e.result.length||e.searchGroups.length&&e.options.emptyTemplate&&e.query.length?e.showLayout():e.hideLayout(),e.deferred&&e.deferred.resolve()}return e.deferred&&e.deferred.promise()}),this.options.generateOnLoad&&this.node.trigger("generate"+this.namespace)},assignQuery:function(){this.isContentEditable?this.rawQuery=this.node.text():this.rawQuery=this.node.val().toString(),this.rawQuery=this.rawQuery.replace(/^\s+/,""),this.rawQuery!==this.query&&(this.item=null,this.query=this.rawQuery)},filterGenerateSource:function(){if(this.searchGroups=[],this.generateGroups=[],!this.focusOnly||this.options.multiselect)for(var t in this.options.source)if(this.options.source.hasOwnProperty(t)&&this.query.length>=this.options.source[t].minLength&&this.query.length<=this.options.source[t].maxLength){if(this.searchGroups.push(t),!this.options.source[t].dynamic&&this.source[t])continue;this.generateGroups.push(t)}},generateSource:function(e){if(this.filterGenerateSource(),Array.isArray(e)&&e.length)this.generateGroups=e;else if(!this.generateGroups.length)return void this.node.trigger("search"+this.namespace);if(this.requestGroups=[],this.generatedGroupCount=0,this.options.loadingAnimation&&this.container.addClass("loading"),!this.helper.isEmpty(this.xhr)){for(var o in this.xhr)this.xhr.hasOwnProperty(o)&&this.xhr[o].abort();this.xhr={}}for(var n,i,r,s,a,l,c,u=this,d=(o=0,this.generateGroups.length);d>o;++o){if(n=this.generateGroups[o],s=(r=this.options.source[n]).cache,a=r.compression,s&&(l=window[s].getItem("TYPEAHEAD_"+this.selector+":"+n))){a&&(l=LZString.decompressFromUTF16(l)),c=!1;try{(l=JSON.parse(l+"")).data&&l.ttl>(new Date).getTime()?(this.populateSource(l.data,n),c=!0):window[s].removeItem("TYPEAHEAD_"+this.selector+":"+n)}catch(t){}if(c)continue}!r.data||r.ajax?r.ajax&&(this.requests[n]||(this.requests[n]=this.generateRequestObject(n)),this.requestGroups.push(n)):"function"==typeof r.data?(i=r.data.call(this),Array.isArray(i)?u.populateSource(i,n):"function"==typeof i.promise&&function(e){t.when(i).then(function(t){t&&Array.isArray(t)&&u.populateSource(t,e)})}(n)):this.populateSource(t.extend(!0,[],r.data),n)}return this.requestGroups.length&&this.handleRequests(),!!this.generateGroups.length},generateRequestObject:function(t){var e=this,o=this.options.source[t],n={request:{url:o.ajax.url||null,dataType:"json",beforeSend:function(n,i){e.xhr[t]=n;var r=e.requests[t].callback.beforeSend||o.ajax.beforeSend;"function"==typeof r&&r.apply(null,arguments)}},callback:{beforeSend:null,done:null,fail:null,then:null,always:null},extra:{path:o.ajax.path||null,group:t},validForGroup:[t]};if("function"!=typeof o.ajax&&(o.ajax instanceof Object&&(n=this.extendXhrObject(n,o.ajax)),Object.keys(this.options.source).length>1))for(var i in this.requests)this.requests.hasOwnProperty(i)&&(this.requests[i].isDuplicated||n.request.url&&n.request.url===this.requests[i].request.url&&(this.requests[i].validForGroup.push(t),n.isDuplicated=!0,delete n.validForGroup));return n},extendXhrObject:function(e,o){return"object"==typeof o.callback&&(e.callback=o.callback,delete o.callback),"function"==typeof o.beforeSend&&(e.callback.beforeSend=o.beforeSend,delete o.beforeSend),e.request=t.extend(!0,e.request,o),"jsonp"!==e.request.dataType.toLowerCase()||e.request.jsonpCallback||(e.request.jsonpCallback="callback_"+e.extra.group),e},handleRequests:function(){var e,o=this,n=this.requestGroups.length;if(!1!==this.helper.executeCallback.call(this,this.options.callback.onSendRequest,[this.node,this.query]))for(var i=0,r=this.requestGroups.length;r>i;++i)e=this.requestGroups[i],this.requests[e].isDuplicated||function(e,i){if("function"==typeof o.options.source[e].ajax){var r=o.options.source[e].ajax.call(o,o.query);if("object"!=typeof(i=o.extendXhrObject(o.generateRequestObject(e),"object"==typeof r?r:{})).request||!i.request.url)return void o.populateSource([],e);o.requests[e]=i}var s,a=!1,l={};if(~i.request.url.indexOf("{{query}}")&&(a||(i=t.extend(!0,{},i),a=!0),i.request.url=i.request.url.replace("{{query}}",encodeURIComponent(o.query))),i.request.data)for(var c in i.request.data)if(i.request.data.hasOwnProperty(c)&&~String(i.request.data[c]).indexOf("{{query}}")){a||(i=t.extend(!0,{},i),a=!0),i.request.data[c]=i.request.data[c].replace("{{query}}",o.query);break}t.ajax(i.request).done(function(t,e,n){for(var r,a=0,c=i.validForGroup.length;c>a;a++)r=i.validForGroup[a],s=o.requests[r],s.callback.done instanceof Function&&(l[r]=s.callback.done.call(o,t,e,n))}).fail(function(t,e,n){for(var r=0,a=i.validForGroup.length;a>r;r++)s=o.requests[i.validForGroup[r]],s.callback.fail instanceof Function&&s.callback.fail.call(o,t,e,n)}).always(function(t,e,r){for(var a,c=0,u=i.validForGroup.length;u>c;c++){if(a=i.validForGroup[c],(s=o.requests[a]).callback.always instanceof Function&&s.callback.always.call(o,t,e,r),"object"!=typeof r)return;o.populateSource(null!==t&&"function"==typeof t.promise&&[]||l[a]||t,s.extra.group,s.extra.path||s.request.path),0===(n-=1)&&o.helper.executeCallback.call(o,o.options.callback.onReceiveRequest,[o.node,o.query])}}).then(function(t,e){for(var n=0,r=i.validForGroup.length;r>n;n++)s=o.requests[i.validForGroup[n]],s.callback.then instanceof Function&&s.callback.then.call(o,t,e)})}(e,this.requests[e])},populateSource:function(e,o,n){var i=this,r=this.options.source[o],s=r.ajax&&r.data;n&&"string"==typeof n&&(e=this.helper.namespace.call(this,n,e)),Array.isArray(e)||(e=[]),s&&("function"==typeof s&&(s=s()),Array.isArray(s)&&(e=e.concat(s)));for(var a,l=r.display?"compiled"===r.display[0]?r.display[1]:r.display[0]:"compiled"===this.options.display[0]?this.options.display[1]:this.options.display[0],c=0,u=e.length;u>c;c++)null!==e[c]&&"boolean"!=typeof e[c]&&("string"==typeof e[c]&&(a={},a[l]=e[c],e[c]=a),e[c].group=o);if(!this.hasDynamicGroups&&this.dropdownFilter.dynamic.length){var d,h,p={};for(c=0,u=e.length;u>c;c++)for(var f=0,m=this.dropdownFilter.dynamic.length;m>f;f++)d=this.dropdownFilter.dynamic[f].key,h=e[c][d],h&&(this.dropdownFilter.dynamic[f].value||(this.dropdownFilter.dynamic[f].value=[]),p[d]||(p[d]=[]),~p[d].indexOf(h.toLowerCase())||(p[d].push(h.toLowerCase()),this.dropdownFilter.dynamic[f].value.push(h)))}if(this.options.correlativeTemplate){var g=r.template||this.options.template,v="";if("function"==typeof g&&(g=g.call(this,"",{})),g){if(Array.isArray(this.options.correlativeTemplate))for(c=0,u=this.options.correlativeTemplate.length;u>c;c++)v+="{{"+this.options.correlativeTemplate[c]+"}} ";else v=g.replace(/<.+?>/g," ").replace(/\s{2,}/," ").trim();for(c=0,u=e.length;u>c;c++)e[c].compiled=t("<textarea />").html(v.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(t,o){return i.helper.namespace.call(i,o,e[c],"get","")}).trim()).text();r.display?~r.display.indexOf("compiled")||r.display.unshift("compiled"):~this.options.display.indexOf("compiled")||this.options.display.unshift("compiled")}}this.options.callback.onPopulateSource&&(e=this.helper.executeCallback.call(this,this.options.callback.onPopulateSource,[this.node,e,o,n])),this.tmpSource[o]=Array.isArray(e)&&e||[];var b=this.options.source[o].cache,y=this.options.source[o].compression,w=this.options.source[o].ttl||this.options.ttl;if(b&&!window[b].getItem("TYPEAHEAD_"+this.selector+":"+o)){this.options.callback.onCacheSave&&(e=this.helper.executeCallback.call(this,this.options.callback.onCacheSave,[this.node,e,o,n]));var x=JSON.stringify({data:e,ttl:(new Date).getTime()+w});y&&(x=LZString.compressToUTF16(x)),window[b].setItem("TYPEAHEAD_"+this.selector+":"+o,x)}this.incrementGeneratedGroup()},incrementGeneratedGroup:function(){if(this.generatedGroupCount++,this.generatedGroupCount===this.generateGroups.length){this.xhr={};for(var t=0,e=this.generateGroups.length;e>t;t++)this.source[this.generateGroups[t]]=this.tmpSource[this.generateGroups[t]];this.hasDynamicGroups||this.buildDropdownItemLayout("dynamic"),this.options.loadingAnimation&&this.container.removeClass("loading"),this.node.trigger("search"+this.namespace)}},navigate:function(t){if(this.helper.executeCallback.call(this,this.options.callback.onNavigateBefore,[this.node,this.query,t]),27===t.keyCode)return t.preventDefault(),void(this.query.length?(this.resetInput(),this.node.trigger("input"+this.namespace,[t])):(this.node.blur(),this.hideLayout()));if(this.result.length){var e=this.resultContainer.find("."+this.options.selector.item).not("[disabled]"),o=e.filter(".active"),n=o[0]?e.index(o):null,i=o[0]?o.attr("data-index"):null,r=null,s=null;if(this.clearActiveItem(),this.helper.executeCallback.call(this,this.options.callback.onLeave,[this.node,null!==n&&e.eq(n)||void 0,null!==i&&this.result[i]||void 0,t]),13===t.keyCode)return t.preventDefault(),void(o.length>0?"javascript:;"===o.find("a:first")[0].href?o.find("a:first").trigger("click",t):o.find("a:first")[0].click():this.node.closest("form").trigger("submit"));if(39===t.keyCode)return void(null!==n?e.eq(n).find("a:first")[0].click():this.options.hint&&""!==this.hint.container.val()&&this.helper.getCaret(this.node[0])>=this.query.length&&e.filter('[data-index="'+this.hintIndex+'"]').find("a:first")[0].click());9===t.keyCode?this.options.blurOnTab?this.hideLayout():o.length>0?n+1<e.length?(t.preventDefault(),r=n+1,this.addActiveItem(e.eq(r))):this.hideLayout():e.length?(t.preventDefault(),r=0,this.addActiveItem(e.first())):this.hideLayout():38===t.keyCode?(t.preventDefault(),o.length>0?n-1>=0&&(r=n-1,this.addActiveItem(e.eq(r))):e.length&&(r=e.length-1,this.addActiveItem(e.last()))):40===t.keyCode&&(t.preventDefault(),o.length>0?n+1<e.length&&(r=n+1,this.addActiveItem(e.eq(r))):e.length&&(r=0,this.addActiveItem(e.first()))),s=null!==r?e.eq(r).attr("data-index"):null,this.helper.executeCallback.call(this,this.options.callback.onEnter,[this.node,null!==r&&e.eq(r)||void 0,null!==s&&this.result[s]||void 0,t]),t.preventInputChange&&~[38,40].indexOf(t.keyCode)&&this.buildHintLayout(null!==s&&s<this.result.length?[this.result[s]]:null),this.options.hint&&this.hint.container&&this.hint.container.css("color",t.preventInputChange?this.hint.css.color:null===s&&this.hint.css.color||this.hint.container.css("background-color")||"fff");var a=null===s||t.preventInputChange?this.rawQuery:this.getTemplateValue.call(this,this.result[s]);this.node.val(a),this.isContentEditable&&this.node.text(a),this.helper.executeCallback.call(this,this.options.callback.onNavigateAfter,[this.node,e,null!==r&&e.eq(r).find("a:first")||void 0,null!==s&&this.result[s]||void 0,this.query,t])}},getTemplateValue:function(t){if(t){var e=t.group&&this.options.source[t.group].templateValue||this.options.templateValue;if("function"==typeof e&&(e=e.call(this)),!e)return this.helper.namespace.call(this,t.matchedKey,t).toString();var o=this;return e.replace(/\{\{([\w\-.]+)}}/gi,function(e,n){return o.helper.namespace.call(o,n,t,"get","")})}},clearActiveItem:function(){this.resultContainer.find("."+this.options.selector.item).removeClass("active")},addActiveItem:function(t){t.addClass("active")},searchResult:function(){this.resetLayout(),!1!==this.helper.executeCallback.call(this,this.options.callback.onSearch,[this.node,this.query])&&(!this.searchGroups.length||this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit||this.searchResultData(),this.helper.executeCallback.call(this,this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount,this.resultCountPerGroup]),this.isDropdownEvent&&(this.helper.executeCallback.call(this,this.options.callback.onDropdownFilter,[this.node,this.query,this.filters.dropdown,this.result]),this.isDropdownEvent=!1))},searchResultData:function(){var e,o,n,i,r,s,a,l,c,u,d,h=this.groupBy,p=null,f=this.query.toLowerCase(),m=this.options.maxItem,g=this.options.maxItemPerGroup,v=this.filters.dynamic&&!this.helper.isEmpty(this.filters.dynamic),b="function"==typeof this.options.matcher&&this.options.matcher;this.options.accent&&(f=this.helper.removeAccent.call(this,f));for(var y=0,w=this.searchGroups.length;w>y;++y)if(A=this.searchGroups[y],!this.filters.dropdown||"group"!==this.filters.dropdown.key||this.filters.dropdown.value===A){r=void 0!==this.options.source[A].filter?this.options.source[A].filter:this.options.filter,a="function"==typeof this.options.source[A].matcher&&this.options.source[A].matcher||b;for(var x=0,S=this.source[A].length;S>x&&(!(this.resultItemCount>=m)||this.options.callback.onResult);x++)if((!v||this.dynamicFilter.validate.apply(this,[this.source[A][x]]))&&(e=this.source[A][x],null!==e&&"boolean"!=typeof e&&(!this.options.multiselect||this.isMultiselectUniqueData(e))&&(!this.filters.dropdown||(e[this.filters.dropdown.key]||"").toLowerCase()===(this.filters.dropdown.value||"").toLowerCase()))){if((p="group"===h?A:e[h]?e[h]:e.group)&&!this.tmpResult[p]&&(this.tmpResult[p]=[],this.resultCountPerGroup[p]=0),g&&"group"===h&&this.tmpResult[p].length>=g&&!this.options.callback.onResult)break;for(var k=0,T=(E=this.options.source[A].display||this.options.display).length;T>k;++k){if(!1!==r){if(void 0===(i=/\./.test(E[k])?this.helper.namespace.call(this,E[k],e):e[E[k]])||""===i)continue;i=this.helper.cleanStringFromScript(i)}if("function"==typeof r){if(void 0===(s=r.call(this,e,i)))break;if(!s)continue;"object"==typeof s&&(e=s)}if(~[void 0,!0].indexOf(r)){if(n=(n=i).toString().toLowerCase(),this.options.accent&&(n=this.helper.removeAccent.call(this,n)),o=n.indexOf(f),this.options.correlativeTemplate&&"compiled"===E[k]&&0>o&&/\s/.test(f)){c=!0,d=n;for(var C=0,D=(u=f.split(" ")).length;D>C;C++)if(""!==u[C]){if(!~d.indexOf(u[C])){c=!1;break}d=d.replace(u[C],"")}}if(0>o&&!c)continue;if(this.options.offset&&0!==o)continue;if(a){if(void 0===(l=a.call(this,e,i)))break;if(!l)continue;"object"==typeof l&&(e=l)}}if(this.resultCount++,this.resultCountPerGroup[p]++,this.resultItemCount<m){if(g&&this.tmpResult[p].length>=g)break;this.tmpResult[p].push(t.extend(!0,{matchedKey:E[k]},e)),this.resultItemCount++}break}if(!this.options.callback.onResult){if(this.resultItemCount>=m)break;if(g&&this.tmpResult[p].length>=g&&"group"===h)break}}}if(this.options.order){var I,E=[];for(var A in this.tmpResult)if(this.tmpResult.hasOwnProperty(A)){for(y=0,w=this.tmpResult[A].length;w>y;y++)I=this.options.source[this.tmpResult[A][y].group].display||this.options.display,~E.indexOf(I[0])||E.push(I[0]);this.tmpResult[A].sort(this.helper.sort(E,"asc"===this.options.order,function(t){return t.toString().toUpperCase()}))}}var L=[],_=[];for(y=0,w=(_="function"==typeof this.options.groupOrder?this.options.groupOrder.apply(this,[this.node,this.query,this.tmpResult,this.resultCount,this.resultCountPerGroup]):Array.isArray(this.options.groupOrder)?this.options.groupOrder:"string"==typeof this.options.groupOrder&&~["asc","desc"].indexOf(this.options.groupOrder)?Object.keys(this.tmpResult).sort(this.helper.sort([],"asc"===this.options.groupOrder,function(t){return t.toString().toUpperCase()})):Object.keys(this.tmpResult)).length;w>y;y++)L=L.concat(this.tmpResult[_[y]]||[]);this.groups=JSON.parse(JSON.stringify(_)),this.result=L},buildLayout:function(){this.buildHtmlLayout(),this.buildBackdropLayout(),this.buildHintLayout(),this.options.callback.onLayoutBuiltBefore&&this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltBefore,[this.node,this.query,this.result,this.resultHtml]),this.resultHtml instanceof t&&this.resultContainer.html(this.resultHtml),this.options.callback.onLayoutBuiltAfter&&this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltAfter,[this.node,this.query,this.result])},buildHtmlLayout:function(){if(!1!==this.options.resultContainer){this.resultContainer||(this.resultContainer=t("<div/>",{class:this.options.selector.result}),this.container.append(this.resultContainer));var e;if(!this.result.length)if(this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit)e=this.options.multiselect.limitTemplate?"function"==typeof this.options.multiselect.limitTemplate?this.options.multiselect.limitTemplate.call(this,this.query):this.options.multiselect.limitTemplate.replace(/\{\{query}}/gi,t("<div>").text(this.helper.cleanStringFromScript(this.query)).html()):"Can't select more than "+this.items.length+" items.";else{if(!this.options.emptyTemplate||""===this.query)return;e="function"==typeof this.options.emptyTemplate?this.options.emptyTemplate.call(this,this.query):this.options.emptyTemplate.replace(/\{\{query}}/gi,t("<div>").text(this.helper.cleanStringFromScript(this.query)).html())}var o=this.query.toLowerCase();this.options.accent&&(o=this.helper.removeAccent.call(this,o));var n=this,i=this.groupTemplate||"<ul></ul>",r=!1;this.groupTemplate?i=t(i.replace(/<([^>]+)>\{\{(.+?)}}<\/[^>]+>/g,function(t,o,i,s,a){var l="",c="group"===i?n.groups:[i];if(!n.result.length)return!0===r?"":(r=!0,"<"+o+' class="'+n.options.selector.empty+'">'+e+"</"+o+">");for(var u=0,d=c.length;d>u;++u)l+="<"+o+' data-group-template="'+c[u]+'"><ul></ul></'+o+">";return l})):(i=t(i),this.result.length||i.append(e instanceof t?e:'<li class="'+n.options.selector.empty+'">'+e+"</li>")),i.addClass(this.options.selector.list+(this.helper.isEmpty(this.result)?" empty":""));for(var s,a,l,c,u,d,h,p,f,m,g,v=this.groupTemplate&&this.result.length&&n.groups||[],b=0,y=this.result.length;y>b;++b)l=this.result[b],s=l.group,c=!this.options.multiselect&&this.options.source[l.group].href||this.options.href,p=[],f=this.options.source[l.group].display||this.options.display,this.options.group&&(s=l[this.options.group.key],this.options.group.template&&("function"==typeof this.options.group.template?a=this.options.group.template.call(this,l):"string"==typeof this.options.group.template&&(a=this.options.group.template.replace(/\{\{([\w\-\.]+)}}/gi,function(t,e){return n.helper.namespace.call(n,e,l,"get","")}))),i.find('[data-search-group="'+s+'"]')[0]||(this.groupTemplate?i.find('[data-group-template="'+s+'"] ul'):i).append(t("<li/>",{class:n.options.selector.group,html:t("<a/>",{href:"javascript:;",html:a||s,tabindex:-1}),"data-search-group":s}))),this.groupTemplate&&v.length&&(g=v.indexOf(s||l.group),~g&&v.splice(g,1)),u=t("<li/>",{class:n.options.selector.item+" "+n.options.selector.group+"-"+this.helper.slugify.call(this,s),disabled:!!l.disabled,"data-group":s,"data-index":b,html:t("<a/>",{href:c&&!l.disabled?(w=c,x=l,x.href=n.generateHref.call(n,w,x)):"javascript:;",html:function(){if(d=l.group&&n.options.source[l.group].template||n.options.template)"function"==typeof d&&(d=d.call(n,n.query,l)),h=d.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(t,e,i){var r=n.helper.cleanStringFromScript(String(n.helper.namespace.call(n,e,l,"get","")));return~(i=i&&i.split("|")||[]).indexOf("slugify")&&(r=n.helper.slugify.call(n,r)),~i.indexOf("raw")||!0===n.options.highlight&&o&&~f.indexOf(e)&&(r=n.helper.highlight.call(n,r,o.split(" "),n.options.accent)),r});else{for(var e=0,i=f.length;i>e;e++)m=/\./.test(f[e])?n.helper.namespace.call(n,f[e],l,"get",""):l[f[e]],void 0!==m&&""!==m&&p.push(m);h='<span class="'+n.options.selector.display+'">'+n.helper.cleanStringFromScript(String(p.join(" ")))+"</span>"}(!0===n.options.highlight&&o&&!d||"any"===n.options.highlight)&&(h=n.helper.highlight.call(n,h,o.split(" "),n.options.accent)),t(this).append(h)}})}),function(e,o,i){i.on("click",function(e,i){if(o.disabled)e.preventDefault();else if(i&&"object"==typeof i&&(e.originalEvent=i),n.options.mustSelectItem&&n.helper.isEmpty(o))e.preventDefault();else if(n.options.multiselect?(n.items.push(o),n.comparedItems.push(n.getMultiselectComparedData(o))):n.item=o,!1!==n.helper.executeCallback.call(n,n.options.callback.onClickBefore,[n.node,t(this),o,e])&&!(e.originalEvent&&e.originalEvent.defaultPrevented||e.isDefaultPrevented())){var r=n.getTemplateValue.call(n,o);n.options.multiselect?(n.query=n.rawQuery="",n.addMultiselectItemLayout(r)):(n.focusOnly=!0,n.query=n.rawQuery=r,n.isContentEditable&&(n.node.text(n.query),n.helper.setCaretAtEnd(n.node[0]))),n.hideLayout(),n.node.val(n.query).focus(),n.helper.executeCallback.call(n,n.options.callback.onClickAfter,[n.node,t(this),o,e])}}),i.on("mouseenter",function(e){o.disabled||(n.clearActiveItem(),n.addActiveItem(t(this))),n.helper.executeCallback.call(n,n.options.callback.onEnter,[n.node,t(this),o,e])}),i.on("mouseleave",function(e){o.disabled||n.clearActiveItem(),n.helper.executeCallback.call(n,n.options.callback.onLeave,[n.node,t(this),o,e])})}(0,l,u),(this.groupTemplate?i.find('[data-group-template="'+s+'"] ul'):i).append(u);if(this.result.length&&v.length)for(b=0,y=v.length;y>b;++b)i.find('[data-group-template="'+v[b]+'"]').remove();this.resultHtml=i}var w,x},generateHref:function(t,e){var o=this;return"string"==typeof t?t=t.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(t,n,i){var r=o.helper.namespace.call(o,n,e,"get","");return~(i=i&&i.split("|")||[]).indexOf("slugify")&&(r=o.helper.slugify.call(o,r)),r}):"function"==typeof t&&(t=t.call(this,e)),t},getMultiselectComparedData:function(t){var e="";if(Array.isArray(this.options.multiselect.matchOn))for(var o=0,n=this.options.multiselect.matchOn.length;n>o;++o)e+=void 0!==t[this.options.multiselect.matchOn[o]]?t[this.options.multiselect.matchOn[o]]:"";else{var i=JSON.parse(JSON.stringify(t)),r=["group","matchedKey","compiled","href"];for(o=0,n=r.length;n>o;++o)delete i[r[o]];e=JSON.stringify(i)}return e},buildBackdropLayout:function(){this.options.backdrop&&(this.backdrop.container||(this.backdrop.css=t.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=t("<div/>",{class:this.options.selector.backdrop,css:this.backdrop.css}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"}))},buildHintLayout:function(e){if(this.options.hint){if(this.node[0].scrollWidth>Math.ceil(this.node.innerWidth()))return void(this.hint.container&&this.hint.container.val(""));var o=this,n="",i=(e=e||this.result,this.query.toLowerCase());if(this.options.accent&&(i=this.helper.removeAccent.call(this,i)),this.hintIndex=null,this.searchGroups.length){if(this.hint.container||(this.hint.css=t.extend({"border-color":"transparent",position:"absolute",top:0,display:"inline","z-index":-1,float:"none",color:"silver","box-shadow":"none",cursor:"default","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},this.options.hint),this.hint.container=t("<"+this.node[0].nodeName+"/>",{type:this.node.attr("type"),class:this.node.attr("class"),readonly:!0,unselectable:"on","aria-hidden":"true",tabindex:-1,click:function(){o.node.focus()}}).addClass(this.options.selector.hint).css(this.hint.css).insertAfter(this.node),this.node.parent().css({position:"relative"})),this.hint.container.css("color",this.hint.css.color),i)for(var r,s,a,l=0,c=e.length;c>l;l++)if(!e[l].disabled){s=e[l].group;for(var u=0,d=(r=this.options.source[s].display||this.options.display).length;d>u;u++)if(a=String(e[l][r[u]]).toLowerCase(),this.options.accent&&(a=this.helper.removeAccent.call(this,a)),0===a.indexOf(i)){n=String(e[l][r[u]]),this.hintIndex=l;break}if(null!==this.hintIndex)break}var h=n.length>0&&this.rawQuery+n.substring(this.query.length)||"";this.hint.container.val(h),this.isContentEditable&&this.hint.container.text(h)}}},buildDropdownLayout:function(){if(this.options.dropdownFilter){var e=this;t("<span/>",{class:this.options.selector.filter,html:function(){t(this).append(t("<button/>",{type:"button",class:e.options.selector.filterButton,style:"display: none;",click:function(){e.container.toggleClass("filter");var o=e.namespace+"-dropdown-filter";t("html").off(o),e.container.hasClass("filter")&&t("html").on("click"+o+" touchend"+o,function(n){t(n.target).closest("."+e.options.selector.filter)[0]&&t(n.target).closest(e.container)[0]||e.hasDragged||(e.container.removeClass("filter"),t("html").off(o))})}})),t(this).append(t("<ul/>",{class:e.options.selector.dropdown}))}}).insertAfter(e.container.find("."+e.options.selector.query))}},buildDropdownItemLayout:function(e){function o(t){"*"===t.value?delete this.filters.dropdown:this.filters.dropdown=t,this.container.removeClass("filter").find("."+this.options.selector.filterButton).html(t.template),this.isDropdownEvent=!0,this.node.trigger("search"+this.namespace),this.options.multiselect&&this.adjustInputSize(),this.node.focus()}if(this.options.dropdownFilter){var n,i,r=this,s="string"==typeof this.options.dropdownFilter&&this.options.dropdownFilter||"All",a=this.container.find("."+this.options.selector.dropdown);"static"!==e||!0!==this.options.dropdownFilter&&"string"!=typeof this.options.dropdownFilter||this.dropdownFilter.static.push({key:"group",template:"{{group}}",all:s,value:Object.keys(this.options.source)});for(var l=0,c=this.dropdownFilter[e].length;c>l;l++){i=this.dropdownFilter[e][l],Array.isArray(i.value)||(i.value=[i.value]),i.all&&(this.dropdownFilterAll=i.all);for(var u=0,d=i.value.length;d>=u;u++)(u!==d||l===c-1)&&(u===d&&l===c-1&&"static"===e&&this.dropdownFilter.dynamic.length||(n=this.dropdownFilterAll||s,i.value[u]?n=i.template?i.template.replace(new RegExp("{{"+i.key+"}}","gi"),i.value[u]):i.value[u]:this.container.find("."+r.options.selector.filterButton).html(n),function(e,n,i){a.append(t("<li/>",{class:r.options.selector.dropdownItem+" "+r.helper.slugify.call(r,n.key+"-"+(n.value[e]||s)),html:t("<a/>",{href:"javascript:;",html:i,click:function(t){t.preventDefault(),o.call(r,{key:n.key,value:n.value[e]||"*",template:i})}})}))}(u,i,n)))}this.dropdownFilter[e].length&&this.container.find("."+r.options.selector.filterButton).removeAttr("style")}},dynamicFilter:{isEnabled:!1,init:function(){this.options.dynamicFilter&&(this.dynamicFilter.bind.call(this),this.dynamicFilter.isEnabled=!0)},validate:function(t){var e,o,n=null,i=null;for(var r in this.filters.dynamic)if(this.filters.dynamic.hasOwnProperty(r)&&(o=~r.indexOf(".")?this.helper.namespace.call(this,r,t,"get"):t[r],"|"!==this.filters.dynamic[r].modifier||n||(n=o==this.filters.dynamic[r].value||!1),"&"===this.filters.dynamic[r].modifier)){if(o!=this.filters.dynamic[r].value){i=!1;break}i=!0}return e=n,null!==i&&(e=i,!0===i&&null!==n&&(e=n)),!!e},set:function(t,e){var o=t.match(/^([|&])?(.+)/);e?this.filters.dynamic[o[2]]={modifier:o[1]||"|",value:e}:delete this.filters.dynamic[o[2]],this.dynamicFilter.isEnabled&&this.generateSource()},bind:function(){for(var e,o=this,n=0,i=this.options.dynamicFilter.length;i>n;n++)e=this.options.dynamicFilter[n],"string"==typeof e.selector&&(e.selector=t(e.selector)),e.selector instanceof t&&e.selector[0]&&e.key&&function(t){t.selector.off(o.namespace).on("change"+o.namespace,function(){o.dynamicFilter.set.apply(o,[t.key,o.dynamicFilter.getValue(this)])}).trigger("change"+o.namespace)}(e)},getValue:function(t){var e;return"SELECT"===t.tagName?e=t.value:"INPUT"===t.tagName&&("checkbox"===t.type?e=t.checked&&t.getAttribute("value")||t.checked||null:"radio"===t.type&&t.checked&&(e=t.value)),e}},buildMultiselectLayout:function(){if(this.options.multiselect){var e,o=this;this.label.container=t("<span/>",{class:this.options.selector.labelContainer,"data-padding-left":parseFloat(this.node.css("padding-left"))||0,"data-padding-right":parseFloat(this.node.css("padding-right"))||0,"data-padding-top":parseFloat(this.node.css("padding-top"))||0,click:function(e){t(e.target).hasClass(o.options.selector.labelContainer)&&o.node.focus()}}),this.node.closest("."+this.options.selector.query).prepend(this.label.container),this.options.multiselect.data&&(Array.isArray(this.options.multiselect.data)?this.populateMultiselectData(this.options.multiselect.data):"function"==typeof this.options.multiselect.data&&(e=this.options.multiselect.data.call(this),Array.isArray(e)?this.populateMultiselectData(e):"function"==typeof e.promise&&t.when(e).then(function(t){t&&Array.isArray(t)&&o.populateMultiselectData(t)})))}},isMultiselectUniqueData:function(t){for(var e=!0,o=0,n=this.comparedItems.length;n>o;++o)if(this.comparedItems[o]===this.getMultiselectComparedData(t)){e=!1;break}return e},populateMultiselectData:function(t){for(var e=0,o=t.length;o>e;++e)this.isMultiselectUniqueData(t[e])&&(this.items.push(t[e]),this.comparedItems.push(this.getMultiselectComparedData(t[e])),this.addMultiselectItemLayout(this.getTemplateValue(t[e])));this.node.trigger("search"+this.namespace,{origin:"populateMultiselectData"})},addMultiselectItemLayout:function(e){var o,n=this,i=this.options.multiselect.href?"a":"span",r=t("<span/>",{class:this.options.selector.label,html:t("<"+i+"/>",{text:e,click:function(e){var o=t(this).closest("."+n.options.selector.label),i=n.label.container.find("."+n.options.selector.label).index(o);n.options.multiselect.callback&&n.helper.executeCallback.call(n,n.options.multiselect.callback.onClick,[n.node,n.items[i],e])},href:this.options.multiselect.href?(o=n.items[n.items.length-1],n.generateHref.call(n,n.options.multiselect.href,o)):null})});r.append(t("<span/>",{class:this.options.selector.cancelButton,html:"×",click:function(e){var o=t(this).closest("."+n.options.selector.label),i=n.label.container.find("."+n.options.selector.label).index(o);n.cancelMultiselectItem(i,o,e)}})),this.label.container.append(r),this.adjustInputSize()},cancelMultiselectItem:function(t,e,o){var n=this.items[t];(e=e||this.label.container.find("."+this.options.selector.label).eq(t)).remove(),this.items.splice(t,1),this.comparedItems.splice(t,1),this.options.multiselect.callback&&this.helper.executeCallback.call(this,this.options.multiselect.callback.onCancel,[this.node,n,o]),this.adjustInputSize(),this.focusOnly=!0,this.node.focus().trigger("input"+this.namespace,{origin:"cancelMultiselectItem"})},adjustInputSize:function(){var e=this.node[0].getBoundingClientRect().width-(parseFloat(this.label.container.data("padding-right"))||0)-(parseFloat(this.label.container.css("padding-left"))||0),o=0,n=0,i=0,r=!1,s=0;this.label.container.find("."+this.options.selector.label).filter(function(a,l){0===a&&(s=t(l)[0].getBoundingClientRect().height+parseFloat(t(l).css("margin-bottom")||0)),o=t(l)[0].getBoundingClientRect().width+parseFloat(t(l).css("margin-right")||0),i+o>.7*e&&!r&&(n++,r=!0),e>i+o?i+=o:(r=!1,i=o)});var a=parseFloat(this.label.container.data("padding-left")||0)+(r?0:i),l=n*s+parseFloat(this.label.container.data("padding-top")||0);this.container.find("."+this.options.selector.query).find("input, textarea, [contenteditable], .typeahead__hint").css({paddingLeft:a,paddingTop:l})},showLayout:function(){!this.container.hasClass("result")&&(this.result.length||this.options.emptyTemplate||this.options.backdropOnFocus)&&(function(){var e=this;t("html").off("keydown"+this.namespace).on("keydown"+this.namespace,function(o){o.keyCode&&9===o.keyCode&&setTimeout(function(){t(":focus").closest(e.container).find(e.node)[0]||e.hideLayout()},0)}),t("html").off("click"+this.namespace+" touchend"+this.namespace).on("click"+this.namespace+" touchend"+this.namespace,function(o){t(o.target).closest(e.container)[0]||t(o.target).closest("."+e.options.selector.item)[0]||o.target.className===e.options.selector.cancelButton||e.hasDragged||e.hideLayout()})}.call(this),this.container.addClass([this.result.length||this.searchGroups.length&&this.options.emptyTemplate&&this.query.length?"result ":"",this.options.hint&&this.searchGroups.length?"hint":"",this.options.backdrop||this.options.backdropOnFocus?"backdrop":""].join(" ")),this.helper.executeCallback.call(this,this.options.callback.onShowLayout,[this.node,this.query]))},hideLayout:function(){(this.container.hasClass("result")||this.container.hasClass("backdrop"))&&(this.container.removeClass("result hint filter"+(this.options.backdropOnFocus&&t(this.node).is(":focus")?"":" backdrop")),this.options.backdropOnFocus&&this.container.hasClass("backdrop")||(t("html").off(this.namespace),this.helper.executeCallback.call(this,this.options.callback.onHideLayout,[this.node,this.query])))},resetLayout:function(){this.result=[],this.tmpResult={},this.groups=[],this.resultCount=0,this.resultCountPerGroup={},this.resultItemCount=0,this.resultHtml=null,this.options.hint&&this.hint.container&&(this.hint.container.val(""),this.isContentEditable&&this.hint.container.text(""))},resetInput:function(){this.node.val(""),this.isContentEditable&&this.node.text(""),this.item=null,this.query="",this.rawQuery=""},buildCancelButtonLayout:function(){if(this.options.cancelButton){var e=this;t("<span/>",{class:this.options.selector.cancelButton,html:"×",mousedown:function(t){t.stopImmediatePropagation(),t.preventDefault(),e.resetInput(),e.node.trigger("input"+e.namespace,[t])}}).insertBefore(this.node)}},toggleCancelButtonVisibility:function(){this.container.toggleClass("cancel",!!this.query.length)},__construct:function(){this.extendOptions(),this.unifySourceFormat()&&(this.dynamicFilter.init.apply(this),this.init(),this.buildDropdownLayout(),this.buildDropdownItemLayout("static"),this.buildMultiselectLayout(),this.delegateEvents(),this.buildCancelButtonLayout(),this.helper.executeCallback.call(this,this.options.callback.onReady,[this.node]))},helper:{isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},removeAccent:function(t){if("string"==typeof t){var e=o;return"object"==typeof this.options.accent&&(e=this.options.accent),t.toLowerCase().replace(new RegExp("["+e.from+"]","g"),function(t){return e.to[e.from.indexOf(t)]})}},slugify:function(t){return""!==(t=String(t))&&(t=this.helper.removeAccent.call(this,t),t=t.replace(/[^-a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")),t},sort:function(t,e,o){var n=function(e){for(var n=0,i=t.length;i>n;n++)if(void 0!==e[t[n]])return o(e[t[n]]);return e};return e=[-1,1][+!!e],function(t,o){return t=n(t),o=n(o),e*((t>o)-(o>t))}},replaceAt:function(t,e,o,n){return t.substring(0,e)+n+t.substring(e+o)},highlight:function(t,e,o){t=String(t);var n=o&&this.helper.removeAccent.call(this,t)||t,i=[];Array.isArray(e)||(e=[e]),e.sort(function(t,e){return e.length-t.length});for(var r=e.length-1;r>=0;r--)""!==e[r].trim()?e[r]=e[r].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e.splice(r,1);n.replace(new RegExp("(?:"+e.join("|")+")(?!([^<]+)?>)","gi"),function(t,e,o){i.push({offset:o,length:t.length})});for(r=i.length-1;r>=0;r--)t=this.helper.replaceAt(t,i[r].offset,i[r].length,"<strong>"+t.substr(i[r].offset,i[r].length)+"</strong>");return t},getCaret:function(t){var e=0;if(t.selectionStart)return t.selectionStart;if(document.selection){var o=document.selection.createRange();if(null===o)return e;var n=t.createTextRange(),i=n.duplicate();n.moveToBookmark(o.getBookmark()),i.setEndPoint("EndToStart",n),e=i.text.length}else if(window.getSelection){var r=window.getSelection();if(r.rangeCount){var s=r.getRangeAt(0);s.commonAncestorContainer.parentNode==t&&(e=s.endOffset)}}return e},setCaretAtEnd:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(e)}else if(void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(t),n.collapse(!1),n.select()}},cleanStringFromScript:function(t){return"string"==typeof t&&t.replace(/<\/?(?:script|iframe)\b[^>]*>/gm,"")||t},executeCallback:function(t,e){if(t){var o;if("function"==typeof t)o=t;else if(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t,[]]),o=this.helper.namespace.call(this,t[0],window),"function"!=typeof o))return;return o.apply(this,(t[1]||[]).concat(e||[]))}},namespace:function(t,e,o,n){if("string"!=typeof t||""===t)return!1;var i=void 0!==n?n:void 0;if(!~t.indexOf("."))return e[t]||i;for(var r=t.split("."),s=e||window,a=(o=o||"get",""),l=0,c=r.length;c>l;l++){if(void 0===s[a=r[l]]){if(~["get","delete"].indexOf(o))return void 0!==n?n:void 0;s[a]={}}if(~["set","create","delete"].indexOf(o)&&l===c-1){if("set"!==o&&"create"!==o)return delete s[a],!0;s[a]=i}s=s[a]}return s},typeWatch:function(){var t=0;return function(e,o){clearTimeout(t),t=setTimeout(e,o)}}()}},t.fn.typeahead=t.typeahead=function(t){return a.typeahead(this,t)};var a={typeahead:function(e,o){if(o&&o.source&&"object"==typeof o.source){if("function"==typeof e){if(!o.input)return;e=t(o.input)}if(void 0===e[0].value&&(e[0].value=e.text()),e.length){if(1===e.length)return e[0].selector=e.selector||o.input||e[0].nodeName.toLowerCase(),window.Typeahead[e[0].selector]=new s(e,o);for(var n,i={},r=0,a=e.length;a>r;++r)n=e[r].nodeName.toLowerCase(),void 0!==i[n]&&(n+=r),e[r].selector=n,window.Typeahead[n]=i[n]=new s(e.eq(r),o);return i}}}};return window.console=window.console||{log:function(){}},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var o=this.length;o>e;e++)if(e in this&&this[e]===t)return e;return-1}),Object.keys||(Object.keys=function(t){var e,o=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.push(e);return o}),s}),function(t){"use strict";t(function(){var e=t(window),o=e.width(),n=t("body"),i=t("#ui"),r=t("#content"),s=t("[ui-nav]"),a=t('[data-toggle="ui-nav"]'),l=t('[data-toggle="ui-nav--mobile-only"]'),c=t("#aside"),u=t(".ui-aside-right"),d=t('[data-toggle="ui-aside-right"]');if(a.on("click",function(t){t.preventDefault(),i.toggleClass("ui-aside-compact")}),d.on("click",function(t){t.preventDefault(),r.toggleClass("ui-content-compact")}),n.on("click.asideRight",function(t){0!=u.has(t.target).length||u.is(t.target)||0!=d.has(t.target).length||d.is(t.target)||r.removeClass("ui-content-compact")}),e.on("resize.windowscreen",function(){t(this).width()<768?(n.on("click.aside",function(t){0!=c.has(t.target).length||c.is(t.target)||0!=a.has(t.target).length||a.is(t.target)||i.removeClass("ui-aside-compact")}),l.on("click",function(t){t.preventDefault(),i.removeClass("ui-aside-compact")})):(n.off("click.aside"),l.off("click"))}),e.trigger("resize.windowscreen"),s.on("click","a",function(e){var o=t(this).attr("href");o&&(window.location.href=o);var n,i=t(e.target);i.is("a")||(i=i.closest("a")),(n=i.parent().siblings(".active"))&&n.toggleClass("active").find("> ul:visible").stop().slideUp(200),i.parent().hasClass("active")&&i.next().stop().slideUp(200)||i.next().stop().slideDown(200),i.parent().toggleClass("active"),i.next().is("ul")&&e.preventDefault()}),i.hasClass("ui-aside-compact"))var h=!0;if(r.hasClass("ui-content-compact"))var p=!0;function f(){Modernizr.mq("screen and (min-width:768px)")?(!0===h&&i.addClass("ui-aside-compact"),!0===p&&r.addClass("ui-content-compact")):Modernizr.mq("screen and (max-width:767px)")&&(!0===h&&i.removeClass("ui-aside-compact"),!0===p&&r.removeClass("ui-content-compact"),a.on("click",function(t){t.preventDefault();var e=i.hasClass("ui-aside-compact"),o=r.hasClass("ui-content-compact");e&&o&&r.removeClass("ui-content-compact")}),d.on("click",function(t){t.preventDefault();var e=i.hasClass("ui-aside-compact");r.hasClass("ui-content-compact")&&e&&i.removeClass("ui-aside-compact")}))}var m;e.on("resize",function(){clearTimeout(m),m=setTimeout(f,0)}),f(),t('[data-toggle="tooltip"]').tooltip(),t('[data-toggle="popover"]').popover();var g=t(".panel");g.on("click.PanelCollapse",".collapse-box",function(e){var o=t(this),n=t(e.delegateTarget),i=n.find(".panel-heading"),r=n.find(".panel-body");o.hasClass("fa-chevron-down")?(o.removeClass("fa-chevron-down").addClass("fa-chevron-up"),i.removeClass("panel-border"),r.slideUp(200)):(o.removeClass("fa-chevron-up").addClass("fa-chevron-down"),i.addClass("panel-border"),r.slideDown(200))}),g.on("click.PanelDestroy",".close-box",function(e){t(e.delegateTarget).remove()}),g.on("click.PanelRefresh",".refresh-box",function(e){e.preventDefault();var o=t(e.delegateTarget);t("<div class='refresh-block'><span class='refresh-loader'><i class='fa fa-spinner fa-spin'></i></span></div>").appendTo(o),setTimeout(function(){o.find(".refresh-block").remove()},1e3)}),autosize(t(".autosize")),t(".niceScroll").niceScroll({zindex:"10",cursorwidth:"8px",cursoropacitymax:.3,cursorcolor:"#000000",cursordragontouch:!0,cursorborderradius:"10px",cursorborder:"2px solid transparent"});var v=t(".Mailbox-nav-aside"),b=t(".Mailbox-list"),y=t(".Mail > a"),w=t("#toggle-mailbox-nav"),x=t("#return-mailbox-list > a"),S="Mailbox-list--slideLeft";function k(t,e){t=t||"add",e=e||"";y.off("click.MailAnchor"),y.on("click.MailAnchor",function(o){o.preventDefault(),"add"===t?b.addClass(S):"remove"===t&&b.removeClass(S),"show"===e?v.show():"hide"===e&&v.hide()})}w.on("click.MailboxToggle",function(t){t.stopPropagation(),v.toggle()}),x.on("click.MailboxListReturn",function(t){t.preventDefault(),b.removeClass(S)}),o<=767&&k("add","hide"),o<=1200&&k("add"),e.on("resize.Mailbox",function(){var e=t(this).width();e<=767?(v.hide(),k("add","hide")):(b.removeClass(S),v.show(),k("remove","show")),e<=1200?k("add"):(b.removeClass(S),k("remove"))});var T=t(".Note-list"),C=t(".Note-aside"),D="Note-aside--slideleft";function I(t){t=t||"add";T.off("click.NoteClick"),T.on("click.NoteClick",".Note",function(e){e.preventDefault(),"remove"===t?C.removeClass(D):"add"===t&&C.addClass(D),console.log(t)})}t(".return-note-list").on("click.NoteListReturn",function(t){t.preventDefault(),C.removeClass(D)}),o<=767&&I(),e.on("resize.NoteResize",function(){t(this).width()<=767?I():(C.removeClass(D),I("remove"))})})}(jQuery),$.typeahead({input:".js-typeahead",minLength:0,order:"asc",dynamic:!0,delay:500,backdrop:{"background-color":"#fff"},template:function(t,e){return console.log(t),'<span class="row"><span class="avatar"><img src="{{ImageUrl}}"></span><span class="username">{{FirstName}} {{LastName}} <small style="color: #777;">({{RefNumber}})</small></span><span class="id">({{Id}})</span></span>'},emptyTemplate:"No Result for {{query}}",source:{user:{display:"RefNumber",data:[{id:415849,FirstName:"Olabimpe",LastName:"Omolola",ImageUrl:"https://avatars3.githubusercontent.com/u/415849",RefNumber:"DPR-467515"}],ajax:function(t){return{type:"GET",url:"/api/visitors/getVisitorByRef?callback=?",path:"data",data:{q:"{{query}}"},callback:{done:function(t){return console.log(t),t}}}}}},callback:{onClick:function(t,e,o,n){alert(JSON.stringify(o))},onSendRequest:function(t,e){console.log("request is sent")},onReceiveRequest:function(t,e){console.log("request is received")}},debug:!0}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=!1,o=!1,n=0,i=2e3,r=0,s=t,a=document,l=window,c=s(l),u=[];var d=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(d)l.cancelAnimationFrame||(h=function(t){});else{var p=0;d=function(t,e){var o=(new Date).getTime(),n=Math.max(0,16-(o-p)),i=l.setTimeout(function(){t(o+n)},n);return p=o+n,i},h=function(t){l.clearTimeout(t)}}var f=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=a.currentScript||function(){var t=a.getElementsByTagName("script");return!!t.length&&t[t.length-1]}(),e=t?t.src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,b=function(t,p){var b=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var w=s("body"),x=this.opt={doc:w,win:!1};if(s.extend(x,g),x.snapbackspeed=80,t)for(var S in x)void 0!==t[S]&&(x[S]=t[S]);if(x.disablemutationobserver&&(f=!1),this.doc=x.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(x.win?x.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==x.win,this.win=x.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=w,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=x.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==x.rtlmode){var k=this.win[0]==l?this.body:this.win,T=k.css("writing-mode")||k.css("-webkit-writing-mode")||k.css("-ms-writing-mode")||k.css("-moz-writing-mode");"horizontal-tb"==T||"lr-tb"==T||""===T?(this.isrtlmode="rtl"==k.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==T||"tb"==T||"tb-rl"==T||"rl-tb"==T,this.isvertical="vertical-rl"==T||"tb"==T||"tb-rl"==T)}else this.isrtlmode=!0===x.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==x.scrollbarid)this.id=x.scrollbarid;else do{this.id="ascrail"+i++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=x.overflowx,this.overflowy=x.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(v)return v;var t=a.createElement("DIV"),e=t.style,o=navigator.userAgent,n=navigator.platform,i={};i.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,i.isopera="opera"in l,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),i.isie="all"in a&&"attachEvent"in t&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in e),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in a)||7===a.documentMode),i.isie8=i.isie&&"documentMode"in a&&8===a.documentMode,i.isie9=i.isie&&"performance"in l&&9===a.documentMode,i.isie10=i.isie&&"performance"in l&&10===a.documentMode,i.isie11="msRequestFullscreen"in t&&a.documentMode>=11,i.ismsedge="msCredentials"in l,i.ismozilla="MozAppearance"in e,i.iswebkit=!i.ismsedge&&"WebkitAppearance"in e,i.ischrome=i.iswebkit&&"chrome"in l,i.ischrome38=i.ischrome&&"touchAction"in e,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in e,i.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,i.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(l.MSPointerEvent||!1),i.ismac=/^mac$/i.test(n),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(n),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in a,i.isios8=i.isios&&"hidden"in a,i.isios10=i.isios&&l.Proxy,i.isandroid=/android/i.test(o),i.haseventlistener="addEventListener"in t,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1,i.trstyle="transform",i.hastransform="transform"in e||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,n=t.length;o<n;o++)if(void 0!==e[t[o]]){i.trstyle=t[o];break}i.hastransform=!!i.trstyle}(),i.hastransform&&(e[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(e[i.trstyle])),i.transitionstyle="transition",i.prefixstyle="",i.transitionend="transitionend",i.hastransition="transition"in e||function(){i.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],n=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,s=t.length;r<s;r++)if(t[r]in e){i.transitionstyle=t[r],i.prefixstyle=o[r],i.transitionend=n[r];break}i.ischrome26&&(i.prefixstyle=o[1]),i.hastransition=i.transitionstyle}();return i.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(t=[]);for(var o=0,n=t.length;o<n;o++){var r=t[o];if(e.cursor=r,e.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in t,i.hasMutationObserver=!1!==f,t=null,v=i,i}();var C=s.extend({},this.detected);this.canhwscroll=C.hastransform&&x.hwacceleration,this.ishwscroll=this.canhwscroll&&b.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(C.iswebkit||C.isie||C.isie11):this.hasreversehr=!(C.iswebkit||C.isie&&!C.isie10&&!C.isie11):this.hasreversehr=!1,this.istouchcapable=!1,C.cantouch||!C.hasw3ctouch&&!C.hasmstouch?!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,x.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1),this.debounced=function(t,e,o){if(b){b.delaylist[t]||!1||(b.delaylist[t]={h:d(function(){b.delaylist[t].fn.call(b),b.delaylist[t]=!1},o)},e.call(b)),b.delaylist[t].fn=e}},this.synched=function(t,e){b.synclist[t]?b.synclist[t]=e:(b.synclist[t]=e,d(function(){b&&(b.synclist[t]&&b.synclist[t].call(b),b.synclist[t]=null)}))},this.unsynched=function(t){b.synclist[t]&&(b.synclist[t]=!1)},this.css=function(t,e){for(var o in e)b.saved.css.push([t,o,t.css(o)]),t.css(o,e[o])},this.scrollTop=function(t){return void 0===t?b.getScrollTop():b.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?b.getScrollLeft():b.setScrollLeft(t)};var D=function(t,e,o,n,i,r,s){this.st=t,this.ed=e,this.spd=o,this.p1=n||0,this.p2=i||1,this.p3=r||0,this.p4=s||1,this.ts=m(),this.df=e-t};D.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var t=(m()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t>=1?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=m(),this.df=this.ed-this.st,this}};function I(){var t=b.doc.css(C.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=I();if(e)return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=I();if(e)return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=function(t){var e=a.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,l,1),e.niceevent=!0,t.dispatchEvent(e)};var E=this.isrtlmode?1:-1;C.hastranslate3d&&x.enabletranslate3d?(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(C.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*E+"px",b.doc.css(C.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),e||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(C.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*E+"px",b.doc.css(C.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(t){b.docscroll.scrollTop(t)},this.getScrollLeft=function(){return b.hasreversehr?b.detected.ismozilla?b.page.maxw-Math.abs(b.docscroll.scrollLeft()):b.page.maxw-b.docscroll.scrollLeft():b.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(b)return b.hasreversehr&&(t=b.detected.ismozilla?-(b.page.maxw-t):b.page.maxw-t),b.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var o=t.target||t.srcElement||t||!1;o&&o.id!=e;)o=o.parentNode||!1;return!1!==o};var A={thin:1,medium:3,thick:5};function L(t,e,o){var n=t.css(e),i=parseFloat(n);if(isNaN(i)){var r=3==(i=A[n]||0)?o?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1;return b.isie8&&i&&(i+=1),r?i:0}return i}this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(b.isfixed){var t=b.win.offset(),e=b.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var o=b.win.offset();if(!b.viewport)return o;var n=b.viewport.offset();return{top:o.top-n.top,left:o.left-n.left}},this.updateScrollBar=function(t){var e,o;if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()-(x.railpadding.top+x.railpadding.bottom)}),b.railh&&b.railh.css({width:b.win.innerWidth()-(x.railpadding.left+x.railpadding.right)});else{var n=b.getOffset();if((e={top:n.top,left:n.left-(x.railpadding.left+x.railpadding.right)}).top+=L(b.win,"border-top-width",!0),e.left+=b.rail.align?b.win.outerWidth()-L(b.win,"border-right-width")-b.rail.width:L(b.win,"border-left-width"),(o=x.railoffset)&&(o.top&&(e.top+=o.top),o.left&&(e.left+=o.left)),b.railslocked||b.rail.css({top:e.top,left:e.left,height:(t?t.h:b.win.innerHeight())-(x.railpadding.top+x.railpadding.bottom)}),b.zoom&&b.zoom.css({top:e.top+1,left:1==b.rail.align?e.left-20:e.left+b.rail.width+4}),b.railh&&!b.railslocked){e={top:n.top,left:n.left},(o=x.railhoffset)&&(o.top&&(e.top+=o.top),o.left&&(e.left+=o.left));var i=b.railh.align?e.top+L(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:e.top+L(b.win,"border-top-width",!0),r=e.left+L(b.win,"border-left-width");b.railh.css({top:i-(x.railpadding.top+x.railpadding.bottom),left:r,width:b.railh.width})}}},this.doRailClick=function(t,e,o){var n,i,r,s;b.railslocked||(b.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+a.documentElement.scrollLeft,t.pageY=t.clientY+a.documentElement.scrollTop),e?(n=o?b.doScrollLeft:b.doScrollTop,r=o?(t.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(t.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,b.unsynched("relativexy"),n(0|r)):(n=o?b.doScrollLeftBy:b.doScrollBy,r=o?b.scroll.x:b.scroll.y,s=o?t.pageX-b.railh.offset().left:t.pageY-b.rail.offset().top,i=o?b.view.w:b.view.h,n(r>=s?i:-i)))},b.newscrolly=b.newscrollx=0,b.hasanimationframe="requestAnimationFrame"in l,b.hascancelanimationframe="cancelAnimationFrame"in l,b.hasborderbox=!1,this.init=function(){if(b.saved.css=[],C.isoperamini)return!0;if(C.isandroid&&!("hidden"in a))return!0;x.emulatetouch=x.emulatetouch||x.touchbehavior,b.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var t={"overflow-y":"hidden"};if((C.isie11||C.isie10)&&(t["-ms-overflow-style"]="none"),b.ishwscroll&&(this.doc.css(C.transitionstyle,C.prefixstyle+"transform 0ms ease-out"),C.transitionend&&b.bind(b.doc,C.transitionend,b.onScrollTransitionEnd,!1)),b.zindex="auto",b.ispage||"auto"!=x.zindex?b.zindex=x.zindex:b.zindex=function(){var t=b.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}()||"auto",!b.ispage&&"auto"!=b.zindex&&b.zindex>r&&(r=b.zindex),b.isie&&0===b.zindex&&"auto"==x.zindex&&(b.zindex="auto"),!b.ispage||!C.isieold){var i=b.docscroll;b.ispage&&(i=b.haswrapper?b.win:b.doc),b.css(i,t),b.ispage&&(C.isie11||C.isie)&&b.css(s("html"),t),!C.isios||b.ispage||b.haswrapper||b.css(w,{"-webkit-overflow-scrolling":"touch"});var u=s(a.createElement("div"));u.css({position:"relative",top:0,float:"right",width:x.cursorwidth,height:0,"background-color":x.cursorcolor,border:x.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.cursorborderradius,"-moz-border-radius":x.cursorborderradius,"border-radius":x.cursorborderradius}),u.addClass("nicescroll-cursors"),b.cursor=u;var d=s(a.createElement("div"));d.attr("id",b.id),d.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var g in m)p=m[g],(h=x.railpadding[p]||0)&&d.css("padding-"+p,h+"px");d.append(u),d.width=Math.max(parseFloat(x.cursorwidth),u.outerWidth()),d.css({width:d.width+"px",zIndex:b.zindex,background:x.background,cursor:"default"}),d.visibility=!0,d.scrollable=!0,d.align="left"==x.railalign?0:1,b.rail=d,b.rail.drag=!1;var v=!1;!x.boxzoom||b.ispage||C.isieold||(v=a.createElement("div"),b.bind(v,"click",b.doZoom),b.bind(v,"mouseenter",function(){b.zoom.css("opacity",x.cursoropacitymax)}),b.bind(v,"mouseleave",function(){b.zoom.css("opacity",x.cursoropacitymin)}),b.zoom=s(v),b.zoom.css({cursor:"pointer",zIndex:b.zindex,backgroundImage:"url("+x.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),x.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),C.cantouch&&x.gesturezoom&&(b.ongesturezoom=function(t){return t.scale>1.5&&b.doZoomIn(t),t.scale<.8&&b.doZoomOut(t),b.cancelEvent(t)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1;var S;if(x.horizrailenabled&&(b.css(i,{overflowX:"hidden"}),(u=s(a.createElement("div"))).css({position:"absolute",top:0,height:x.cursorwidth,width:0,backgroundColor:x.cursorcolor,border:x.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":x.cursorborderradius,"-moz-border-radius":x.cursorborderradius,"border-radius":x.cursorborderradius}),C.isieold&&u.css("overflow","hidden"),u.addClass("nicescroll-cursors"),b.cursorh=u,(S=s(a.createElement("div"))).attr("id",b.id+"-hr"),S.addClass("nicescroll-rails nicescroll-rails-hr"),S.height=Math.max(parseFloat(x.cursorwidth),u.outerHeight()),S.css({height:S.height+"px",zIndex:b.zindex,background:x.background}),S.append(u),S.visibility=!0,S.scrollable=!0,S.align="top"==x.railvalign?0:1,b.railh=S,b.railh.drag=!1),b.ispage)d.css({position:"fixed",top:0,height:"100%"}),d.css(d.align?{right:0}:{left:0}),b.body.append(d),b.railh&&(S.css({position:"fixed",left:0,width:"100%"}),S.css(S.align?{bottom:0}:{top:0}),b.body.append(S));else{if(b.ishwscroll){"static"==b.win.css("position")&&b.css(b.win,{position:"relative"});var k="HTML"==b.win[0].nodeName?b.body:b.win;s(k).scrollTop(0).scrollLeft(0),b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),k.append(b.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),k.append(d),S&&(S.css({position:"absolute",left:0,bottom:0}),S.css(S.align?{bottom:0}:{top:0}),k.append(S))}else{b.isfixed="fixed"==b.win.css("position");var T=b.isfixed?"fixed":"absolute";b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,/fixed|absolute/.test(b.viewport.css("position"))||b.css(b.viewport,{position:"relative"})),d.css({position:T}),b.zoom&&b.zoom.css({position:T}),b.updateScrollBar(),b.body.append(d),b.zoom&&b.body.append(b.zoom),b.railh&&(S.css({position:T}),b.body.append(S))}C.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.disableoutline&&(C.isie&&b.win.attr("hideFocus","true"),C.iswebkit&&b.win.css("outline","none"))}if(!1===x.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:x.cursoropacitymax}),b.railh&&b.railh.css({opacity:x.cursoropacitymax})):!0===x.autohidemode||"leave"===x.autohidemode?(b.autohidedom=s().add(b.rail),C.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&C.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==x.autohidemode?(b.autohidedom=s().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==x.autohidemode?(b.autohidedom=s().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==x.autohidemode&&(b.autohidedom=!1,b.hide(),b.railslocked=!1),C.cantouch||b.istouchcapable||x.emulatetouch||C.hasmstouch){b.scrollmom=new y(b);b.ontouchstart=function(t){if(b.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(b.hasmoving=!1,b.scrollmom.timer&&(b.triggerScrollEnd(),b.scrollmom.stop()),!b.railslocked){var e=b.getTarget(t);if(e){if(/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return b.stopPropagation(t)}var o="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),b.forcescreen){var n=t;(t={original:t.original?t.original:t}).clientX=n.screenX,t.clientY=n.screenY}if(b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1,tg:e},b.ispage||!x.directionlockdeadzone)b.rail.drag.dl="f";else{var i=c.width(),r=c.height(),a=b.getContentSize(),l=a.h-r,u=a.w-i;b.rail.scrollable&&!b.railh.scrollable?b.rail.drag.ck=l>0&&"v":!b.rail.scrollable&&b.railh.scrollable?b.rail.drag.ck=u>0&&"h":b.rail.drag.ck=!1}if(x.emulatetouch&&b.isiframe&&C.isie){var d=b.win.position();b.rail.drag.x+=d.left,b.rail.drag.y+=d.top}if(b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(t.clientX,t.clientY),e&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return C.hasmousecapture&&e.setCapture(),x.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(b.hasmoving)return!1;e._onclick.call(this,t)}),b.cancelEvent(t)):b.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(s(e).attr("type"))&&(b.preventclick={tg:e,click:!1})}}},b.ontouchend=function(t){if(!b.rail.drag)return!0;if(2==b.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;b.rail.drag=!1;var e="mouseup"===t.type;if(b.hasmoving&&(b.scrollmom.doMomentum(),b.lastmouseup=!0,b.hideCursor(),C.hasmousecapture&&a.releaseCapture(),e))return b.cancelEvent(t)}else if(1==b.rail.drag.pt)return b.onmouseup(t)};var D=x.emulatetouch&&b.isiframe&&!C.hasmousecapture,I=.3*x.directionlockdeadzone|0;b.ontouchmove=function(t,e){if(!b.rail.drag)return!0;if(t.targetTouches&&x.preventmultitouchscrolling&&t.targetTouches.length>1)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==b.rail.drag.pt){"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);var o,n;if(n=o=0,D&&!e){var i=b.win.position();n=-i.left,o=-i.top}var r=t.clientY+o,s=r-b.rail.drag.y,l=t.clientX+n,c=l-b.rail.drag.x,u=b.rail.drag.st-s;if(b.ishwscroll&&x.bouncescroll)u<0?u=Math.round(u/2):u>b.page.maxh&&(u=b.page.maxh+Math.round((u-b.page.maxh)/2));else if(u<0?(u=0,r=0):u>b.page.maxh&&(u=b.page.maxh,r=0),0===r&&!b.hasmoving)return b.ispage||(b.rail.drag=!1),!0;var d=b.getScrollLeft();if(b.railh&&b.railh.scrollable&&(d=b.isrtlmode?c-b.rail.drag.sl:b.rail.drag.sl-c,b.ishwscroll&&x.bouncescroll?d<0?d=Math.round(d/2):d>b.page.maxw&&(d=b.page.maxw+Math.round((d-b.page.maxw)/2)):(d<0&&(d=0,l=0),d>b.page.maxw&&(d=b.page.maxw,l=0))),!b.hasmoving){if(b.rail.drag.y===t.clientY&&b.rail.drag.x===t.clientX)return b.cancelEvent(t);var h=Math.abs(s),p=Math.abs(c),f=x.directionlockdeadzone;if(b.rail.drag.ck?"v"==b.rail.drag.ck?p>f&&h<=I?b.rail.drag=!1:h>f&&(b.rail.drag.dl="v"):"h"==b.rail.drag.ck&&(h>f&&p<=I?b.rail.drag=!1:p>f&&(b.rail.drag.dl="h")):h>f&&p>f?b.rail.drag.dl="f":h>f?b.rail.drag.dl=p>I?"f":"v":p>f&&(b.rail.drag.dl=h>I?"f":"h"),!b.rail.drag.dl)return b.cancelEvent(t);b.triggerScrollStart(t.clientX,t.clientY,0,0,0),b.hasmoving=!0}return b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),b.rail.drag.dl&&("v"==b.rail.drag.dl?d=b.rail.drag.sl:"h"==b.rail.drag.dl&&(u=b.rail.drag.st)),b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.resetTransition(),b.rail.scrollable&&b.setScrollTop(u),b.scrollmom.update(l,r),b.railh&&b.railh.scrollable?(b.setScrollLeft(d),b.showCursor(u,d)):b.showCursor(u),C.isie10&&a.selection.clear())}),b.cancelEvent(t)}return 1==b.rail.drag.pt?b.onmousemove(t):void 0},b.ontouchstartCursor=function(t,e){if(!b.rail.drag||3==b.rail.drag.pt){if(b.locked)return b.cancelEvent(t);b.cancelScroll(),b.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:b.scroll.x,sy:b.scroll.y,pt:3,hr:!!e};var o=b.getTarget(t);return!b.ispage&&C.hasmousecapture&&o.setCapture(),b.isiframe&&!C.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.cancelEvent(t)}},b.ontouchendCursor=function(t){if(b.rail.drag){if(C.hasmousecapture&&a.releaseCapture(),b.isiframe&&!C.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),3!=b.rail.drag.pt)return;return b.rail.drag=!1,b.cancelEvent(t)}},b.ontouchmoveCursor=function(t){if(b.rail.drag){if(3!=b.rail.drag.pt)return;if(b.cursorfreezed=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(t.touches[0].clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var e=b.scrollvaluemaxw;b.scroll.x>e&&(b.scroll.x=e)}else{b.scroll.y=b.rail.drag.sy+(t.touches[0].clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var o=b.scrollvaluemax;b.scroll.y>o&&(b.scroll.y=o)}return b.synched("touchmove",function(){b.rail.drag&&3==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),x.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),x.cursordragspeed))}),b.cancelEvent(t)}}}if(b.onmousedown=function(t,e){if(!b.rail.drag||1==b.rail.drag.pt){if(b.railslocked)return b.cancelEvent(t);b.cancelScroll(),b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:e||!1};var o=b.getTarget(t);return C.hasmousecapture&&o.setCapture(),b.isiframe&&!C.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.hasmoving=!1,b.cancelEvent(t)}},b.onmouseup=function(t){if(b.rail.drag)return 1!=b.rail.drag.pt||(C.hasmousecapture&&a.releaseCapture(),b.isiframe&&!C.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),b.rail.drag=!1,b.cursorfreezed=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(t))},b.onmousemove=function(t){if(b.rail.drag){if(1!==b.rail.drag.pt)return;if(C.ischrome&&0===t.which)return b.onmouseup(t);if(b.cursorfreezed=!0,b.hasmoving||b.triggerScrollStart(t.clientX,t.clientY,0,0,0),b.hasmoving=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(t.clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var e=b.scrollvaluemaxw;b.scroll.x>e&&(b.scroll.x=e)}else{b.scroll.y=b.rail.drag.sy+(t.clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var o=b.scrollvaluemax;b.scroll.y>o&&(b.scroll.y=o)}return b.synched("mousemove",function(){b.cursorfreezed&&(b.showCursor(),b.rail.drag.hr?b.scrollLeft(Math.round(b.scroll.x*b.scrollratio.x)):b.scrollTop(Math.round(b.scroll.y*b.scrollratio.y)))}),b.cancelEvent(t)}b.checkarea=0},C.cantouch||x.emulatetouch)b.onpreventclick=function(t){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(t)},b.onclick=!C.isios&&function(t){return!b.lastmouseup||(b.lastmouseup=!1,b.cancelEvent(t))},x.grabcursorenabled&&C.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:C.cursorgrabvalue}),b.css(b.rail,{cursor:C.cursorgrabvalue}));else{var E=function(t){if(b.selectiondrag){if(t){var e=b.win.outerHeight(),o=t.pageY-b.selectiondrag.top;o>0&&o<e&&(o=0),o>=e&&(o-=e),b.selectiondrag.df=o}if(0!==b.selectiondrag.df){var n=-2*b.selectiondrag.df/6|0;b.doScrollBy(n),b.debounced("doselectionscroll",function(){E()},50)}}};b.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},b.onselectionstart=function(t){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(t){b.selectiondrag=!1},b.onselectiondrag=function(t){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){E(t)},250)}}if(C.hasw3ctouch?(b.css(b.ispage?s("html"):b.win,{"touch-action":"none"}),b.css(b.rail,{"touch-action":"none"}),b.css(b.cursor,{"touch-action":"none"}),b.bind(b.win,"pointerdown",b.ontouchstart),b.bind(a,"pointerup",b.ontouchend),b.delegate(a,"pointermove",b.ontouchmove)):C.hasmstouch?(b.css(b.ispage?s("html"):b.win,{"-ms-touch-action":"none"}),b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(a,"MSPointerUp",b.ontouchend),b.delegate(a,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(t){t.preventDefault()}),b.bind(b.cursor,"contextmenu",function(t){t.preventDefault()})):C.cantouch&&(b.bind(b.win,"touchstart",b.ontouchstart,!1,!0),b.bind(a,"touchend",b.ontouchend,!1,!0),b.bind(a,"touchcancel",b.ontouchend,!1,!0),b.delegate(a,"touchmove",b.ontouchmove,!1,!0)),x.emulatetouch&&(b.bind(b.win,"mousedown",b.ontouchstart,!1,!0),b.bind(a,"mouseup",b.ontouchend,!1,!0),b.bind(a,"mousemove",b.ontouchmove,!1,!0)),(x.cursordragontouch||!C.cantouch&&!x.emulatetouch)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),x.sensitiverail&&(b.bind(b.rail,"click",function(t){b.doRailClick(t,!1,!1)}),b.bind(b.rail,"dblclick",function(t){b.doRailClick(t,!0,!1)}),b.bind(b.cursor,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursor,"dblclick",function(t){b.cancelEvent(t)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),x.sensitiverail&&(b.bind(b.railh,"click",function(t){b.doRailClick(t,!1,!0)}),b.bind(b.railh,"dblclick",function(t){b.doRailClick(t,!0,!0)}),b.bind(b.cursorh,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursorh,"dblclick",function(t){b.cancelEvent(t)})))),x.cursordragontouch&&(this.istouchcapable||C.cantouch)&&(b.bind(b.cursor,"touchstart",b.ontouchstartCursor),b.bind(b.cursor,"touchmove",b.ontouchmoveCursor),b.bind(b.cursor,"touchend",b.ontouchendCursor),b.cursorh&&b.bind(b.cursorh,"touchstart",function(t){b.ontouchstartCursor(t,!0)}),b.cursorh&&b.bind(b.cursorh,"touchmove",b.ontouchmoveCursor),b.cursorh&&b.bind(b.cursorh,"touchend",b.ontouchendCursor)),x.emulatetouch||C.isandroid||C.isios?(b.bind(C.hasmousecapture?b.win:a,"mouseup",b.ontouchend),b.onclick&&b.bind(a,"click",b.onclick),x.cursordragontouch?(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.cursorh&&b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onmouseup)):(b.bind(b.rail,"mousedown",function(t){t.preventDefault()}),b.railh&&b.bind(b.railh,"mousedown",function(t){t.preventDefault()}))):(b.bind(C.hasmousecapture?b.win:a,"mouseup",b.onmouseup),b.bind(a,"mousemove",b.onmousemove),b.onclick&&b.bind(a,"click",b.onclick),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup)),!b.ispage&&x.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(a,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(a,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),x.enablemousewheel&&(b.isiframe||b.mousewheel(C.isie&&b.ispage?a:b.win,b.onmousewheel),b.mousewheel(b.rail,b.onmousewheel),b.railh&&b.mousewheel(b.railh,b.onmousewheelhr)),b.ispage||C.cantouch||/HTML|^BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:++n}),b.bind(b.win,"focus",function(t){e=b.getTarget(t).id||b.getTarget(t)||!1,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"blur",function(t){e=!1,b.hasfocus=!1}),b.bind(b.win,"mouseenter",function(t){o=b.getTarget(t).id||b.getTarget(t)||!1,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"mouseleave",function(t){o=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()})),b.onkeypress=function(t){if(b.railslocked&&0===b.page.maxh)return!0;t=t||l.event;var n=b.getTarget(t);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)){if(!(n.getAttribute("type")||n.type||!1)||!/submit|button|cancel/i.tp)return!0}if(s(n).attr("contenteditable"))return!0;if(b.hasfocus||b.hasmousefocus&&!e||b.ispage&&!e&&!o){var i=t.keyCode;if(b.railslocked&&27!=i)return b.cancelEvent(t);var r=t.ctrlKey||!1,a=t.shiftKey||!1,c=!1;switch(i){case 38:case 63233:b.doScrollBy(72),c=!0;break;case 40:case 63235:b.doScrollBy(-72),c=!0;break;case 37:case 63232:b.railh&&(r?b.doScrollLeft(0):b.doScrollLeftBy(72),c=!0);break;case 39:case 63234:b.railh&&(r?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),c=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),c=!0;break;case 36:case 63273:b.railh&&r?b.doScrollPos(0,0):b.doScrollTo(0),c=!0;break;case 35:case 63275:b.railh&&r?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),c=!0;break;case 32:x.spacebarenabled&&(a?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),c=!0);break;case 27:b.zoomactive&&(b.doZoom(),c=!0)}if(c)return b.cancelEvent(t)}},x.enablekeyboard&&b.bind(a,C.isopera&&!C.isopera12?"keypress":"keydown",b.onkeypress),b.bind(a,"keydown",function(t){(t.ctrlKey||!1)&&(b.wheelprevented=!0)}),b.bind(a,"keyup",function(t){t.ctrlKey||!1||(b.wheelprevented=!1)}),b.bind(l,"blur",function(t){b.wheelprevented=!1}),b.bind(l,"resize",b.onscreenresize),b.bind(l,"orientationchange",b.onscreenresize),b.bind(l,"load",b.lazyResize),C.ischrome&&!b.ispage&&!b.haswrapper){var A=b.win.attr("style"),L=parseFloat(b.win.css("width"))+1;b.win.css("width",L),b.synched("chromefix",function(){b.win.attr("style",A)})}if(b.onAttributeChange=function(t){b.lazyResize(b.isieold?250:30)},x.enableobserver&&(b.isie11||!1===f||(b.observerbody=new f(function(t){if(t.forEach(function(t){if("attributes"==t.type)return w.hasClass("modal-open")&&w.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],b.doc[0])?b.hide():b.show()}),b.me.clientWidth!=b.page.width||b.me.clientHeight!=b.page.height)return b.lazyResize(30)}),b.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!b.ispage&&!b.haswrapper)){var _=b.win[0];!1!==f?(b.observer=new f(function(t){t.forEach(b.onAttributeChange)}),b.observer.observe(_,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new f(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(b&&t.removedNodes[e]===_)return b.remove()})}),b.observerremover.observe(_.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(_,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),C.isie9&&_.attachEvent("onpropertychange",b.onAttributeChange),b.bind(_,"DOMNodeRemoved",function(t){t.target===_&&b.remove()}))}!b.ispage&&x.boxzoom&&b.bind(l,"resize",b.resizeZoom),b.istextarea&&(b.bind(b.win,"keydown",b.lazyResize),b.bind(b.win,"mouseup",b.lazyResize)),b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var M=function(){b.iframexd=!1;var e;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){b.iframexd=!0,e=!1}if(b.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:s(e),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=s(b.iframe.body)),!C.isios&&x.iframeautoresize&&!b.isiframe){b.win.scrollTop(0),b.doc.height("");var o=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);b.doc.height(o)}b.lazyResize(30),b.css(s(b.iframe.body),t),C.isios&&b.haswrapper&&b.css(s(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(e,"scroll",b.onscroll),x.enablemousewheel&&b.mousewheel(e,b.onmousewheel),x.enablekeyboard&&b.bind(e,C.isopera?"keypress":"keydown",b.onkeypress),C.cantouch?(b.bind(e,"touchstart",b.ontouchstart),b.bind(e,"touchmove",b.ontouchmove)):x.emulatetouch&&(b.bind(e,"mousedown",b.ontouchstart),b.bind(e,"mousemove",function(t){return b.ontouchmove(t,!0)}),x.grabcursorenabled&&C.cursorgrabvalue&&b.css(s(e.body),{cursor:C.cursorgrabvalue})),b.bind(e,"mouseup",b.ontouchend),b.zoom&&(x.dblclickzoom&&b.bind(e,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(e,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){M.call(b.doc[0],!1)},500),b.bind(this.doc,"load",M)}},this.showCursor=function(t,e){if(b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail){if(b.autohidedom&&(b.autohidedom.stop().css({opacity:x.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||(void 0!==t&&!1!==t&&(b.scroll.y=t/b.scrollratio.y|0),void 0!==e&&(b.scroll.x=e/b.scrollratio.x|0)),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh){var o=b.hasreversehr?b.scrollvaluemaxw-b.scroll.x:b.scroll.x;b.cursorh.css({width:b.cursorwidth,left:!b.rail.align&&b.rail.visibility?o+b.rail.width:o}),b.cursoractive=!0}b.zoom&&b.zoom.stop().css({opacity:x.cursoropacitymax})}},this.hideCursor=function(t){b.cursortimeout||b.rail&&b.autohidedom&&(b.hasmousefocus&&"leave"===x.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:x.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:x.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},t||x.hidecursordelay)))},this.noticeCursor=function(t,e,o){b.showCursor(e,o),b.rail.active||b.hideCursor(t)},this.getContentSize=b.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc[0].offsetWidth,h:b.doc[0].offsetHeight}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!b||!b.win)return!1;var o=b.page.maxh,n=b.page.maxw,i=b.view.h,r=b.view.w;if(b.view={w:b.ispage?b.win.width():b.win[0].clientWidth,h:b.ispage?b.win.height():b.win[0].clientHeight},b.page=e||b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==o&&b.page.maxw==n&&b.view.w==r&&b.view.h==i){if(b.ispage)return b;var s=b.win.offset();if(b.lastposition){var a=b.lastposition;if(a.top==s.top&&a.left==s.left)return b}b.lastposition=s}if(0===b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail&&(b.rail.scrollable=!1)):(b.page.maxh-=x.railpadding.top+x.railpadding.bottom,b.rail.scrollable=!0),0===b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh&&(b.railh.scrollable=!1)):(b.page.maxw-=x.railpadding.left+x.railpadding.right,b.railh&&(b.railh.scrollable=x.horizrailenabled)),b.railslocked=b.locked||0===b.page.maxh&&0===b.page.maxw,b.railslocked)return b.ispage||b.updateScrollBar(b.view),!1;b.hidden||(b.rail.visibility||b.showRail(),b.railh&&!b.railh.visibility&&b.showRailHr()),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=x.cursorfixedheight?x.cursorfixedheight:Math.max(x.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=x.cursorfixedheight?x.cursorfixedheight:Math.max(x.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-(x.railpadding.top+x.railpadding.bottom),b.hasborderbox||(b.scrollvaluemax-=b.cursor[0].offsetHeight-b.cursor[0].clientHeight),b.railh&&(b.railh.width=b.page.maxh>0?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-(x.railpadding.left+x.railpadding.right)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};return b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=b.getScrollTop()/b.scrollratio.y|0,b.scroll.x=b.getScrollLeft()/b.scrollratio.x|0,b.cursoractive&&b.noticeCursor()),b.scroll.y&&0===b.getScrollTop()&&b.doScrollTo(b.scroll.y*b.scrollratio.y|0),b},this.resize=b.onResize;var _=0;this.onscreenresize=function(t){clearTimeout(_);var e=!b.ispage&&!b.haswrapper;e&&b.hideRails(),_=setTimeout(function(){b&&(e&&b.showRails(),b.resize()),_=0},120)},this.lazyResize=function(t){return clearTimeout(_),t=isNaN(t)?240:t,_=setTimeout(function(){b&&b.resize(),_=0},t),b};function M(t,e,o,n){b._bind(t,e,function(n){var i={original:n=n||l.event,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==e?(n.wheelDeltaX&&(i.deltaX=-.025*n.wheelDeltaX),n.wheelDeltaY&&(i.deltaY=-.025*n.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*n.wheelDelta)):i.deltaY=n.detail,o.call(t,i)},n)}this.jqbind=function(t,e,o){b.events.push({e:t,n:e,f:o,q:!0}),s(t).on(e,o)},this.mousewheel=function(t,e,o){var n="jquery"in t?t[0]:t;if("onwheel"in a.createElement("div"))b._bind(n,"wheel",e,o||!1);else{var i=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";M(n,i,e,o||!1),"DOMMouseScroll"==i&&M(n,"MozMousePixelScroll",e,o||!1)}};var O=!1;if(C.haseventlistener){try{var z=Object.defineProperty({},"passive",{get:function(){O=!0}});l.addEventListener("test",null,z)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,o){this.attachEvent("on"+t,e)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,o){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||l.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||l.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,o,n,i){var r=u[e]||!1;r||(r={a:[],l:[],f:function(t){for(var e=r.l,o=!1,n=e.length-1;n>=0;n--)if(!1===(o=e[n].call(t.target,t)))return!1;return o}},b.bind(t,e,r.f,n,i),u[e]=r),b.ispage?(r.a=[b.id].concat(r.a),r.l=[o].concat(r.l)):(r.a.push(b.id),r.l.push(o))},this.undelegate=function(t,e,o,n,i){var r=u[e]||!1;if(r&&r.l)for(var s=0,a=r.l.length;s<a;s++)r.a[s]===b.id&&(r.a.splice(s),r.l.splice(s),0===r.a.length&&(b._unbind(t,e,r.l.f),u[e]=null))},this.bind=function(t,e,o,n,i){var r="jquery"in t?t[0]:t;b._bind(r,e,o,n||!1,i||!1)},this._bind=function(t,e,o,n,i){b.events.push({e:t,n:e,f:o,b:n,q:!1}),O&&i?t.addEventListener(e,o,{passive:!1,capture:n}):t.addEventListener(e,o,n||!1)},this._unbind=function(t,e,o,n){u[e]?b.undelegate(t,e,o,n):t.removeEventListener(e,o,n)},this.unbindAll=function(){for(var t=0;t<b.events.length;t++){var e=b.events[t];e.q?e.e.unbind(e.n,e.f):b._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return b.showRail().showRailHr()},this.showRail=function(){return 0===b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh&&(0===b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block"))),b},this.hideRails=function(){return b.hideRail().hideRailHr()},this.hideRail=function(){return b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh&&(b.railh.visibility=!1,b.railh.css("display","none")),b},this.show=function(){return b.hidden=!1,b.railslocked=!1,b.showRails()},this.hide=function(){return b.hidden=!0,b.railslocked=!0,b.hideRails()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout);for(var t in b.delaylist)b.delaylist[t]&&h(b.delaylist[t].h);b.doZoomOut(),b.unbindAll(),C.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),!1!==b.observerbody&&b.observerbody.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var e=0;e<b.saved.css.length;e++){var o=b.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}b.saved=!1,b.me.data("__nicescroll","");var n=s.nicescroll;n.each(function(t){if(this&&this.id===b.id){delete n[t];for(var e=++t;e<n.length;e++,t++)n[t]=n[e];n.length--,n.length&&delete n[n.length]}});for(var i in b)b[i]=null,delete b[i];b=null},this.scrollstart=function(t){return this.onscrollstart=t,b},this.scrollend=function(t){return this.onscrollend=t,b},this.scrollcancel=function(t){return this.onscrollcancel=t,b},this.zoomin=function(t){return this.onzoomin=t,b},this.zoomout=function(t){return this.onzoomout=t,b},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var o=s(e),n=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(n))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=s(e);if(/fixed|absolute/.test(o.css("position")))return o;var n=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(n)&&e.clientHeight!=e.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,o,n,i){if(b.onscrollstart){var r={type:"scrollstart",current:{x:t,y:e},request:{x:o,y:n},end:{x:b.newscrollx,y:b.newscrolly},speed:i};b.onscrollstart.call(b,r)}},this.triggerScrollEnd=function(){if(b.onscrollend){var t=b.getScrollLeft(),e=b.getScrollTop(),o={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};b.onscrollend.call(b,o)}};var N=0,R=0,F=0,P=1;function $(t,e,o,n){b.scrollrunning||(b.newscrolly=b.getScrollTop(),b.newscrollx=b.getScrollLeft(),F=m());var i=m()-F;if(F=m(),i>350?P=1:P+=(2-P)/10,e=e*P|0,t=t*P|0){if(n)if(t<0){if(b.getScrollLeft()>=b.page.maxw)return!0}else if(b.getScrollLeft()<=0)return!0;var r=t>0?1:-1;R!==r&&(b.scrollmom&&b.scrollmom.stop(),b.newscrollx=b.getScrollLeft(),R=r),b.lastdeltax-=t}if(e){if(function(){var t=b.getScrollTop();if(e<0){if(t>=b.page.maxh)return!0}else if(t<=0)return!0}()){if(x.nativeparentscrolling&&o&&!b.ispage&&!b.zoomactive)return!0;var s=b.view.h>>1;b.newscrolly<-s?(b.newscrolly=-s,e=-1):b.newscrolly>b.page.maxh+s?(b.newscrolly=b.page.maxh+s,e=1):e=0}var a=e>0?1:-1;N!==a&&(b.scrollmom&&b.scrollmom.stop(),b.newscrolly=b.getScrollTop(),N=a),b.lastdeltay-=e}(e||t)&&b.synched("relativexy",function(){var t=b.lastdeltay+b.newscrolly;b.lastdeltay=0;var e=b.lastdeltax+b.newscrollx;b.lastdeltax=0,b.rail.drag||b.doScrollPos(e,t)})}var H=!1;function j(t,e,o){var n,i;if(!o&&H)return!0;if(0===t.deltaMode?(n=-t.deltaX*(x.mousescrollstep/54)|0,i=-t.deltaY*(x.mousescrollstep/54)|0):1===t.deltaMode&&(n=-t.deltaX*x.mousescrollstep*50/80|0,i=-t.deltaY*x.mousescrollstep*50/80|0),e&&x.oneaxismousemode&&0===n&&i&&(n=i,i=0,o)){(n<0?b.getScrollLeft()>=b.page.maxw:b.getScrollLeft()<=0)&&(i=n,n=0)}b.isrtlmode&&(n=-n);if(!$(n,i,o,!0))return H=!1,t.stopImmediatePropagation(),t.preventDefault();o&&(H=!0)}if(this.onmousewheel=function(t){if(b.wheelprevented||b.locked)return!1;if(b.railslocked)return b.debounced("checkunlock",b.resize,250),!1;if(b.rail.drag)return b.cancelEvent(t);if("auto"===x.oneaxismousemode&&0!==t.deltaX&&(x.oneaxismousemode=!1),x.oneaxismousemode&&0===t.deltaX&&!b.rail.scrollable)return!b.railh||!b.railh.scrollable||b.onmousewheelhr(t);var e=m(),o=!1;if(x.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),o=!0),b.checkarea=e,b.nativescrollingarea)return!0;var n=j(t,!1,o);return n&&(b.checkarea=0),n},this.onmousewheelhr=function(t){if(!b.wheelprevented){if(b.railslocked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(t);var e=m(),o=!1;return x.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),o=!0),b.checkarea=e,!!b.nativescrollingarea||(b.railslocked?b.cancelEvent(t):j(t,!0,o))}},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(t){return 80+t/72*x.scrollspeed|0},x.smoothscroll)if(b.ishwscroll&&C.hastransition&&x.usetransition&&x.smoothscroll){var B="";this.resetTransition=function(){B="",b.doc.css(C.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var o=e?t:b.getTransitionSpeed(t),n=o+"ms";return B!==n&&(B=n,b.doc.css(C.prefixstyle+"transition-duration",n)),o},this.doScrollLeft=function(t,e){var o=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(o,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&d(e),b.showCursor(b.getScrollTop(),b.getScrollLeft()),b.notifyScrollEvent(b.win[0])};d(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,o){var n=b.getScrollTop(),i=b.getScrollLeft();if(((b.newscrolly-n)*(e-n)<0||(b.newscrollx-i)*(t-i)<0)&&b.cancelScroll(),x.bouncescroll?(e<0?e=e/2|0:e>b.page.maxh&&(e=b.page.maxh+(e-b.page.maxh)/2|0),t<0?t=t/2|0:t>b.page.maxw&&(t=b.page.maxw+(t-b.page.maxw)/2|0)):(e<0?e=0:e>b.page.maxh&&(e=b.page.maxh),t<0?t=0:t>b.page.maxw&&(t=b.page.maxw)),b.scrollrunning&&t==b.newscrollx&&e==b.newscrolly)return!1;b.newscrolly=e,b.newscrollx=t;var r=b.getScrollTop(),s=b.getScrollLeft(),a={};a.x=t-s,a.y=e-r;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=b.prepareTransition(l);b.scrollrunning||(b.scrollrunning=!0,b.triggerScrollStart(s,r,t,e,c),b.cursorupdate.start()),b.scrollendtrapped=!0,C.transitionend||(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,c)),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var t=b.getScrollTop(),e=b.getScrollLeft();return b.scrollrunning=!1,C.transitionend||clearTimeout(C.transitionend),b.scrollendtrapped=!1,b.resetTransition(),b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.cursorupdate.stop(),b.showCursor(t,e),b},this.onScrollTransitionEnd=function(){if(b.scrollendtrapped){var t=b.getScrollTop(),e=b.getScrollLeft();if(t<0?t=0:t>b.page.maxh&&(t=b.page.maxh),e<0?e=0:e>b.page.maxw&&(e=b.page.maxw),t!=b.newscrolly||e!=b.newscrollx)return b.doScrollPos(e,t,x.snapbackspeed);b.scrollrunning&&b.triggerScrollEnd(),b.scrollrunning=!1,b.scrollendtrapped=!1,b.resetTransition(),b.timerscroll=!1,b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.cursorupdate.stop(),b.noticeCursor(!1,t,e),b.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var o=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var n=b.getScrollTop(),i=b.getScrollLeft();((b.newscrolly-n)*(e-n)<0||(b.newscrollx-i)*(t-i)<0)&&b.cancelScroll();var r=!1;if(b.bouncescroll&&b.rail.visibility||(e<0?(e=0,r=!0):e>b.page.maxh&&(e=b.page.maxh,r=!0)),b.bouncescroll&&b.railh.visibility||(t<0?(t=0,r=!0):t>b.page.maxw&&(t=b.page.maxw,r=!0)),b.scrollrunning&&b.newscrolly===e&&b.newscrollx===t)return!0;b.newscrolly=e,b.newscrollx=t,b.dst={},b.dst.x=t-i,b.dst.y=e-n,b.dst.px=i,b.dst.py=n;var s=0|Math.sqrt(b.dst.x*b.dst.x+b.dst.y*b.dst.y),a=b.getTransitionSpeed(s);b.bzscroll={};var l=r?1:.58;b.bzscroll.x=new D(i,b.newscrollx,a,0,0,l,1),b.bzscroll.y=new D(n,b.newscrolly,a,0,0,l,1);m();var c=function(){if(b.scrollrunning){var t=b.bzscroll.y.getPos();b.setScrollLeft(b.bzscroll.x.getNow()),b.setScrollTop(b.bzscroll.y.getNow()),t<=1?b.timer=d(c):(b.scrollrunning=!1,b.timer=0,b.triggerScrollEnd())}};b.scrollrunning||(b.triggerScrollStart(i,n,t,e,a),b.scrollrunning=!0,b.timer=d(c))},this.cancelScroll=function(){return b.timer&&h(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b};else this.doScrollLeft=function(t,e){var o=b.getScrollTop();b.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=b.getScrollLeft();b.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var n=t>b.page.maxw?b.page.maxw:t;n<0&&(n=0);var i=e>b.page.maxh?b.page.maxh:e;i<0&&(i=0),b.synched("scroll",function(){b.setScrollTop(i),b.setScrollLeft(n)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){$(0,t)},this.doScrollLeftBy=function(t,e){$(t,0)},this.doScrollTo=function(t,e){var o=e?Math.round(t*b.scrollratio.y):t;o<0?o=0:o>b.page.maxh&&(o=b.page.maxh),b.cursorfreezed=!1,b.doScrollTop(t)},this.checkContentSize=function(){var t=b.getContentSize();t.h==b.page.h&&t.w==b.page.w||b.resize(!1,t)},b.onscroll=function(t){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()/b.scrollratio.y),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()/b.scrollratio.x)),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=b.win[0].style;for(var n in e){var i=e[n];b.zoomrestore.style[i]=void 0!==o[i]?o[i]:""}b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},C.isios4&&(b.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),b.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,zIndex:r+100,margin:0});var s=b.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&b.win.css("backgroundColor","#fff"),b.rail.css({zIndex:r+101}),b.zoom.css({zIndex:r+102}),b.zoom.css("backgroundPosition","0 -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(t)}},this.doZoomOut=function(t){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),C.isios4&&c.scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0 0"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)},this.doZoom=function(t){return b.zoomactive?b.doZoomOut(t):b.doZoomIn(t)},this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:c.width()-b.zoomrestore.padding.w+"px",height:c.height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,t))}},this.init(),s.nicescroll.push(this)},y=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,o){e.stop(),e.steptime=0,e.lasttime=m(),e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=o,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,o){var n=m();e.steptime=n-e.lasttime,e.lasttime=n;var i=o-e.lasty,r=t-e.lastx,s=e.nc.getScrollTop()+i,a=e.nc.getScrollLeft()+r;e.snapx=a<0||a>e.nc.page.maxw,e.snapy=s<0||s>e.nc.page.maxh,e.speedx=r,e.speedy=i,e.lastx=t,e.lasty=o},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,o){var n=!1;o<0?(o=0,n=!0):o>e.nc.page.maxh&&(o=e.nc.page.maxh,n=!0),t<0?(t=0,n=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,n=!0),n?e.nc.doScrollPos(t,o,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var o=m(),n=t?o+t:e.lasttime,i=e.nc.getScrollLeft(),r=e.nc.getScrollTop(),s=e.nc.page.maxh,a=e.nc.page.maxw;e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=s>0?Math.min(60,e.speedy):0;var l=n&&o-n<=60;(r<0||r>s||i<0||i>a)&&(l=!1);var c=!(!e.speedy||!l)&&e.speedy,u=!(!e.speedx||!l)&&e.speedx;if(c||u){var d=Math.max(16,e.steptime);if(d>50){var h=d/50;e.speedx*=h,e.speedy*=h,d=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var p=e.lastscrollx,f=e.lastscrolly,g=function(){var t=m()-o>600?.04:.02;e.speedx&&(p=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=p,(p<0||p>a)&&(t=.1)),e.speedy&&(f=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=f,(f<0||f>s)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){if(e.speedx){e.nc.getScrollLeft();e.chkx=p,e.nc.setScrollLeft(p)}if(e.speedy){e.nc.getScrollTop();e.chky=f,e.nc.setScrollTop(f)}e.timer||(e.nc.hideCursor(),e.doSnapy(p,f))}),e.demulxy<1?e.timer=setTimeout(g,d):(e.stop(),e.nc.hideCursor(),e.doSnapy(p,f))};g()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},w=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,o){var n=s.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollTop():w.call(t)},set:function(t,e){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(e)):w.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollTop():w.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):w.call(s(this),t)})};var x=t.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(t,e,o){var n=s.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollLeft():x.call(t)},set:function(t,e){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):x.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollLeft():x.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):x.call(s(this),t)})};var S=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return s.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var o=0;o<t.length;o++){var n=s.data(t[o],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,o){for(var n=0,i=e.length;n<i;n++)o(t,e[n])}(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){return void 0===t?new S(this):this[t]&&s.data(this[t],"__nicescroll")||!1};(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==s.data(t,"__nicescroll")},s.fn.niceScroll=function(t,e){void 0!==e||"object"!=typeof t||"jquery"in t||(e=t,t=!1);var o=new S;return this.each(function(){var n=s(this),i=s.extend({},e);if(t){var r=s(t);i.doc=r.length>1?s(t,n):r,i.win=n}!("doc"in i)||"win"in i||(i.win=n);var a=n.data("__nicescroll")||!1;a||(i.doc=i.doc||n,a=new b(i,n),n.data("__nicescroll",a)),o.push(a)}),1===o.length?o[0]:o},l.NiceScroll={getjQuery:function(){return t}},s.nicescroll||(s.nicescroll=new S,s.nicescroll.options=g)});